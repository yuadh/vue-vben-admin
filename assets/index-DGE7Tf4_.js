var lx=Object.defineProperty,fx=Object.defineProperties;var px=Object.getOwnPropertyDescriptors;var Qb=Object.getOwnPropertySymbols;var dx=Object.prototype.hasOwnProperty,hx=Object.prototype.propertyIsEnumerable;var e0=(m,y,s)=>y in m?lx(m,y,{enumerable:!0,configurable:!0,writable:!0,value:s}):m[y]=s,$v=(m,y)=>{for(var s in y||(y={}))dx.call(y,s)&&e0(m,s,y[s]);if(Qb)for(var s of Qb(y))hx.call(y,s)&&e0(m,s,y[s]);return m},t0=(m,y)=>fx(m,px(y));var Pd=(m,y,s)=>new Promise((p,o)=>{var f=v=>{try{O(s.next(v))}catch(E){o(E)}},d=v=>{try{O(s.throw(v))}catch(E){o(E)}},O=v=>v.done?p(v.value):Promise.resolve(v.value).then(f,d);O((s=s.apply(m,y)).next())});import{z as yx,f as vx,aF as gx,w as mx}from"../index.js";import{p as bx,e as _x,d as sg,f as Md,h as Ox,u as Dn,y as qv,b as wx,Z as Ua,_ as uf,F as n0,aa as xx,k as df,a9 as Cd,G as Ex,a0 as Sx,a1 as kd,ab as Zv,ac as jx,a8 as lg,c as Px,w as r0,o as Ax,$ as Mx}from"./vue-BjERyvPm.js";import{T as kx,a4 as Tx,b as Dx,bh as L0}from"./antd-BmrhB3rb.js";import{b as Nx,B as Cx}from"./index-RbNU_lzt.js";import{J as Rx}from"./index-Ck6h_6RS.js";import{P as Ix}from"./index-B24a6rfW.js";import"./useWindowSizeFn-B5LTQhvs.js";import"./useContentViewHeight-mbS0GS8E.js";import"./onMountedOrActivated-DcvTUt7V.js";const z0=Symbol("flow-chart");function Lx(m){bx(z0,m)}function zx(){return _x(z0)}var xr=(m=>(m.ZOOM_IN="zoomIn",m.ZOOM_OUT="zoomOut",m.RESET_ZOOM="resetZoom",m.UNDO="undo",m.REDO="redo",m.SNAPSHOT="snapshot",m.VIEW_DATA="viewData",m))(xr||{});const Bx=["onClick"],Fx=sg({name:"FlowChartToolbar",__name:"FlowChartToolbar",props:{prefixCls:String},emits:["view-data"],setup(m,{emit:y}){const s=y,p=Md([{type:xr.ZOOM_IN,icon:"codicon:zoom-out",tooltip:"缩小"},{type:xr.ZOOM_OUT,icon:"codicon:zoom-in",tooltip:"放大"},{type:xr.RESET_ZOOM,icon:"codicon:screen-normal",tooltip:"重置比例"},{separate:!0},{type:xr.UNDO,icon:"ion:arrow-undo-outline",tooltip:"后退",disabled:!0},{type:xr.REDO,icon:"ion:arrow-redo-outline",tooltip:"前进",disabled:!0},{separate:!0},{type:xr.SNAPSHOT,icon:"ion:download-outline",tooltip:"下载"},{type:xr.VIEW_DATA,icon:"carbon:document-view",tooltip:"查看数据"}]),{logicFlow:o}=zx();function f({data:{undoAble:O,redoAble:v}}){const E=Dn(p),M=E.findIndex(T=>T.type===xr.UNDO),A=E.findIndex(T=>T.type===xr.REDO);M!==-1&&(Dn(p)[M].disabled=!O),A!==-1&&(Dn(p)[A].disabled=!v)}const d=O=>{const v=Dn(o);if(v)switch(O.type){case xr.ZOOM_IN:v.zoom();break;case xr.ZOOM_OUT:v.zoom(!0);break;case xr.RESET_ZOOM:v.resetZoom();break;case xr.UNDO:v.undo();break;case xr.REDO:v.redo();break;case xr.SNAPSHOT:v.getSnapshot();break;case xr.VIEW_DATA:s("view-data");break}};return Ox(()=>Pd(this,null,function*(){var O;Dn(o)&&(yield qv(),(O=Dn(o))==null||O.on("history:change",f))})),wx(()=>{var O;(O=Dn(o))==null||O.off("history:change",f)}),(O,v)=>(Ua(),uf("div",{class:kd([`${m.prefixCls}-toolbar`,"flex items-center px-2 py-1"])},[(Ua(!0),uf(n0,null,xx(p.value,E=>(Ua(),uf(n0,{key:E.type},[df(Dn(kx),jx({placement:"bottom",ref_for:!0},E.disabled?{visible:!1}:{}),{title:Cd(()=>[Ex(Sx(E.tooltip),1)]),default:Cd(()=>[E.icon?(Ua(),uf("span",{key:0,class:kd(`${m.prefixCls}-toolbar__icon`),onClick:M=>d(E)},[df(yx,{icon:E.icon,class:kd(E.disabled?"cursor-not-allowed disabled":"cursor-pointer")},null,8,["icon","class"])],10,Bx)):Zv("",!0)]),_:2},1040),E.separate?(Ua(),lg(Dn(Tx),{key:0,type:"vertical"})):Zv("",!0)],64))),128))],2))}});var Jv={exports:{}};(function(m,y){(function(s,p){m.exports=p()})(window,function(){return function(s){var p={};function o(f){if(p[f])return p[f].exports;var d=p[f]={i:f,l:!1,exports:{}};return s[f].call(d.exports,d,d.exports,o),d.l=!0,d.exports}return o.m=s,o.c=p,o.d=function(f,d,O){o.o(f,d)||Object.defineProperty(f,d,{enumerable:!0,get:O})},o.r=function(f){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},o.t=function(f,d){if(1&d&&(f=o(f)),8&d||4&d&&typeof f=="object"&&f&&f.__esModule)return f;var O=Object.create(null);if(o.r(O),Object.defineProperty(O,"default",{enumerable:!0,value:f}),2&d&&typeof f!="string")for(var v in f)o.d(O,v,function(E){return f[E]}.bind(null,v));return O},o.n=function(f){var d=f&&f.__esModule?function(){return f.default}:function(){return f};return o.d(d,"a",d),d},o.o=function(f,d){return Object.prototype.hasOwnProperty.call(f,d)},o.p="",o(o.s=222)}([function(s,p,o){o.d(p,"a",function(){return oe}),o.d(p,"b",function(){return ue}),o.d(p,"c",function(){return Ze}),o.d(p,"d",function(){return gt}),o.d(p,"e",function(){return G}),o.d(p,"f",function(){return ee}),o.d(p,"g",function(){return G}),o.d(p,"h",function(){return Ve}),o.d(p,"i",function(){return d}),o.d(p,"j",function(){return Ot}),o.d(p,"k",function(){return $});var f,d,O,v,E,M,A,T={},k=[],I=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(ce,ae){for(var he in ae)ce[he]=ae[he];return ce}function L(ce){var ae=ce.parentNode;ae&&ae.removeChild(ce)}function G(ce,ae,he){var Te,Xe,ze,wt={};for(ze in ae)ze=="key"?Te=ae[ze]:ze=="ref"?Xe=ae[ze]:wt[ze]=ae[ze];if(arguments.length>2&&(wt.children=arguments.length>3?f.call(arguments,2):he),typeof ce=="function"&&ce.defaultProps!=null)for(ze in ce.defaultProps)wt[ze]===void 0&&(wt[ze]=ce.defaultProps[ze]);return W(ce,wt,Te,Xe,null)}function W(ce,ae,he,Te,Xe){var ze={type:ce,props:ae,key:he,ref:Te,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Xe==null?++O:Xe};return Xe==null&&d.vnode!=null&&d.vnode(ze),ze}function ee(){return{current:null}}function ue(ce){return ce.children}function oe(ce,ae){this.props=ce,this.context=ae}function J(ce,ae){if(ae==null)return ce.__?J(ce.__,ce.__.__k.indexOf(ce)+1):null;for(var he;ae<ce.__k.length;ae++)if((he=ce.__k[ae])!=null&&he.__e!=null)return he.__e;return typeof ce.type=="function"?J(ce):null}function Q(ce){var ae,he;if((ce=ce.__)!=null&&ce.__c!=null){for(ce.__e=ce.__c.base=null,ae=0;ae<ce.__k.length;ae++)if((he=ce.__k[ae])!=null&&he.__e!=null){ce.__e=ce.__c.base=he.__e;break}return Q(ce)}}function V(ce){(!ce.__d&&(ce.__d=!0)&&v.push(ce)&&!B.__r++||M!==d.debounceRendering)&&((M=d.debounceRendering)||E)(B)}function B(){for(var ce;B.__r=v.length;)ce=v.sort(function(ae,he){return ae.__v.__b-he.__v.__b}),v=[],ce.some(function(ae){var he,Te,Xe,ze,wt,Tt;ae.__d&&(wt=(ze=(he=ae).__v).__e,(Tt=he.__P)&&(Te=[],(Xe=C({},ze)).__v=ze.__v+1,Se(Tt,ze,Xe,he.__n,Tt.ownerSVGElement!==void 0,ze.__h!=null?[wt]:null,Te,wt==null?J(ze):wt,ze.__h),ve(Te,ze),ze.__e!=wt&&Q(ze)))})}function X(ce,ae,he,Te,Xe,ze,wt,Tt,jt,yt){var Me,st,le,it,Lt,on,zt,Zt=Te&&Te.__k||k,fn=Zt.length;for(he.__k=[],Me=0;Me<ae.length;Me++)if((it=he.__k[Me]=(it=ae[Me])==null||typeof it=="boolean"?null:typeof it=="string"||typeof it=="number"||typeof it=="bigint"?W(null,it,null,null,it):Array.isArray(it)?W(ue,{children:it},null,null,null):it.__b>0?W(it.type,it.props,it.key,null,it.__v):it)!=null){if(it.__=he,it.__b=he.__b+1,(le=Zt[Me])===null||le&&it.key==le.key&&it.type===le.type)Zt[Me]=void 0;else for(st=0;st<fn;st++){if((le=Zt[st])&&it.key==le.key&&it.type===le.type){Zt[st]=void 0;break}le=null}Se(ce,it,le=le||T,Xe,ze,wt,Tt,jt,yt),Lt=it.__e,(st=it.ref)&&le.ref!=st&&(zt||(zt=[]),le.ref&&zt.push(le.ref,null,it),zt.push(st,it.__c||Lt,it)),Lt!=null?(on==null&&(on=Lt),typeof it.type=="function"&&it.__k===le.__k?it.__d=jt=Y(it,jt,ce):jt=ie(ce,it,le,Zt,Lt,jt),typeof he.type=="function"&&(he.__d=jt)):jt&&le.__e==jt&&jt.parentNode!=ce&&(jt=J(le))}for(he.__e=on,Me=fn;Me--;)Zt[Me]!=null&&(typeof he.type=="function"&&Zt[Me].__e!=null&&Zt[Me].__e==he.__d&&(he.__d=J(Te,Me+1)),Ue(Zt[Me],Zt[Me]));if(zt)for(Me=0;Me<zt.length;Me++)Ae(zt[Me],zt[++Me],zt[++Me])}function Y(ce,ae,he){for(var Te,Xe=ce.__k,ze=0;Xe&&ze<Xe.length;ze++)(Te=Xe[ze])&&(Te.__=ce,ae=typeof Te.type=="function"?Y(Te,ae,he):ie(he,Te,Te,Xe,Te.__e,ae));return ae}function $(ce,ae){return ae=ae||[],ce==null||typeof ce=="boolean"||(Array.isArray(ce)?ce.some(function(he){$(he,ae)}):ae.push(ce)),ae}function ie(ce,ae,he,Te,Xe,ze){var wt,Tt,jt;if(ae.__d!==void 0)wt=ae.__d,ae.__d=void 0;else if(he==null||Xe!=ze||Xe.parentNode==null)e:if(ze==null||ze.parentNode!==ce)ce.appendChild(Xe),wt=null;else{for(Tt=ze,jt=0;(Tt=Tt.nextSibling)&&jt<Te.length;jt+=2)if(Tt==Xe)break e;ce.insertBefore(Xe,ze),wt=ze}return wt!==void 0?wt:Xe.nextSibling}function xe(ce,ae,he){ae[0]==="-"?ce.setProperty(ae,he):ce[ae]=he==null?"":typeof he!="number"||I.test(ae)?he:he+"px"}function ge(ce,ae,he,Te,Xe){var ze;e:if(ae==="style")if(typeof he=="string")ce.style.cssText=he;else{if(typeof Te=="string"&&(ce.style.cssText=Te=""),Te)for(ae in Te)he&&ae in he||xe(ce.style,ae,"");if(he)for(ae in he)Te&&he[ae]===Te[ae]||xe(ce.style,ae,he[ae])}else if(ae[0]==="o"&&ae[1]==="n")ze=ae!==(ae=ae.replace(/Capture$/,"")),ae=ae.toLowerCase()in ce?ae.toLowerCase().slice(2):ae.slice(2),ce.l||(ce.l={}),ce.l[ae+ze]=he,he?Te||ce.addEventListener(ae,ze?Be:Pe,ze):ce.removeEventListener(ae,ze?Be:Pe,ze);else if(ae!=="dangerouslySetInnerHTML"){if(Xe)ae=ae.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(ae!=="href"&&ae!=="list"&&ae!=="form"&&ae!=="tabIndex"&&ae!=="download"&&ae in ce)try{ce[ae]=he==null?"":he;break e}catch(wt){}typeof he=="function"||(he!=null&&(he!==!1||ae[0]==="a"&&ae[1]==="r")?ce.setAttribute(ae,he):ce.removeAttribute(ae))}}function Pe(ce){this.l[ce.type+!1](d.event?d.event(ce):ce)}function Be(ce){this.l[ce.type+!0](d.event?d.event(ce):ce)}function Se(ce,ae,he,Te,Xe,ze,wt,Tt,jt){var yt,Me,st,le,it,Lt,on,zt,Zt,fn,_n,Ct=ae.type;if(ae.constructor!==void 0)return null;he.__h!=null&&(jt=he.__h,Tt=ae.__e=he.__e,ae.__h=null,ze=[Tt]),(yt=d.__b)&&yt(ae);try{e:if(typeof Ct=="function"){if(zt=ae.props,Zt=(yt=Ct.contextType)&&Te[yt.__c],fn=yt?Zt?Zt.props.value:yt.__:Te,he.__c?on=(Me=ae.__c=he.__c).__=Me.__E:("prototype"in Ct&&Ct.prototype.render?ae.__c=Me=new Ct(zt,fn):(ae.__c=Me=new oe(zt,fn),Me.constructor=Ct,Me.render=rt),Zt&&Zt.sub(Me),Me.props=zt,Me.state||(Me.state={}),Me.context=fn,Me.__n=Te,st=Me.__d=!0,Me.__h=[]),Me.__s==null&&(Me.__s=Me.state),Ct.getDerivedStateFromProps!=null&&(Me.__s==Me.state&&(Me.__s=C({},Me.__s)),C(Me.__s,Ct.getDerivedStateFromProps(zt,Me.__s))),le=Me.props,it=Me.state,st)Ct.getDerivedStateFromProps==null&&Me.componentWillMount!=null&&Me.componentWillMount(),Me.componentDidMount!=null&&Me.__h.push(Me.componentDidMount);else{if(Ct.getDerivedStateFromProps==null&&zt!==le&&Me.componentWillReceiveProps!=null&&Me.componentWillReceiveProps(zt,fn),!Me.__e&&Me.shouldComponentUpdate!=null&&Me.shouldComponentUpdate(zt,Me.__s,fn)===!1||ae.__v===he.__v){Me.props=zt,Me.state=Me.__s,ae.__v!==he.__v&&(Me.__d=!1),Me.__v=ae,ae.__e=he.__e,ae.__k=he.__k,ae.__k.forEach(function(Nn){Nn&&(Nn.__=ae)}),Me.__h.length&&wt.push(Me);break e}Me.componentWillUpdate!=null&&Me.componentWillUpdate(zt,Me.__s,fn),Me.componentDidUpdate!=null&&Me.__h.push(function(){Me.componentDidUpdate(le,it,Lt)})}Me.context=fn,Me.props=zt,Me.state=Me.__s,(yt=d.__r)&&yt(ae),Me.__d=!1,Me.__v=ae,Me.__P=ce,yt=Me.render(Me.props,Me.state,Me.context),Me.state=Me.__s,Me.getChildContext!=null&&(Te=C(C({},Te),Me.getChildContext())),st||Me.getSnapshotBeforeUpdate==null||(Lt=Me.getSnapshotBeforeUpdate(le,it)),_n=yt!=null&&yt.type===ue&&yt.key==null?yt.props.children:yt,X(ce,Array.isArray(_n)?_n:[_n],ae,he,Te,Xe,ze,wt,Tt,jt),Me.base=ae.__e,ae.__h=null,Me.__h.length&&wt.push(Me),on&&(Me.__E=Me.__=null),Me.__e=!1}else ze==null&&ae.__v===he.__v?(ae.__k=he.__k,ae.__e=he.__e):ae.__e=je(he.__e,ae,he,Te,Xe,ze,wt,jt);(yt=d.diffed)&&yt(ae)}catch(Nn){ae.__v=null,(jt||ze!=null)&&(ae.__e=Tt,ae.__h=!!jt,ze[ze.indexOf(Tt)]=null),d.__e(Nn,ae,he)}}function ve(ce,ae){d.__c&&d.__c(ae,ce),ce.some(function(he){try{ce=he.__h,he.__h=[],ce.some(function(Te){Te.call(he)})}catch(Te){d.__e(Te,he.__v)}})}function je(ce,ae,he,Te,Xe,ze,wt,Tt){var jt,yt,Me,st=he.props,le=ae.props,it=ae.type,Lt=0;if(it==="svg"&&(Xe=!0),ze!=null){for(;Lt<ze.length;Lt++)if((jt=ze[Lt])&&"setAttribute"in jt==!!it&&(it?jt.localName===it:jt.nodeType===3)){ce=jt,ze[Lt]=null;break}}if(ce==null){if(it===null)return document.createTextNode(le);ce=Xe?document.createElementNS("http://www.w3.org/2000/svg",it):document.createElement(it,le.is&&le),ze=null,Tt=!1}if(it===null)st===le||Tt&&ce.data===le||(ce.data=le);else{if(ze=ze&&f.call(ce.childNodes),yt=(st=he.props||T).dangerouslySetInnerHTML,Me=le.dangerouslySetInnerHTML,!Tt){if(ze!=null)for(st={},Lt=0;Lt<ce.attributes.length;Lt++)st[ce.attributes[Lt].name]=ce.attributes[Lt].value;(Me||yt)&&(Me&&(yt&&Me.__html==yt.__html||Me.__html===ce.innerHTML)||(ce.innerHTML=Me&&Me.__html||""))}if(function(on,zt,Zt,fn,_n){var Ct;for(Ct in Zt)Ct==="children"||Ct==="key"||Ct in zt||ge(on,Ct,null,Zt[Ct],fn);for(Ct in zt)_n&&typeof zt[Ct]!="function"||Ct==="children"||Ct==="key"||Ct==="value"||Ct==="checked"||Zt[Ct]===zt[Ct]||ge(on,Ct,zt[Ct],Zt[Ct],fn)}(ce,le,st,Xe,Tt),Me)ae.__k=[];else if(Lt=ae.props.children,X(ce,Array.isArray(Lt)?Lt:[Lt],ae,he,Te,Xe&&it!=="foreignObject",ze,wt,ze?ze[0]:he.__k&&J(he,0),Tt),ze!=null)for(Lt=ze.length;Lt--;)ze[Lt]!=null&&L(ze[Lt]);Tt||("value"in le&&(Lt=le.value)!==void 0&&(Lt!==st.value||Lt!==ce.value||it==="progress"&&!Lt)&&ge(ce,"value",Lt,st.value,!1),"checked"in le&&(Lt=le.checked)!==void 0&&Lt!==ce.checked&&ge(ce,"checked",Lt,st.checked,!1))}return ce}function Ae(ce,ae,he){try{typeof ce=="function"?ce(ae):ce.current=ae}catch(Te){d.__e(Te,he)}}function Ue(ce,ae,he){var Te,Xe;if(d.unmount&&d.unmount(ce),(Te=ce.ref)&&(Te.current&&Te.current!==ce.__e||Ae(Te,null,ae)),(Te=ce.__c)!=null){if(Te.componentWillUnmount)try{Te.componentWillUnmount()}catch(ze){d.__e(ze,ae)}Te.base=Te.__P=null}if(Te=ce.__k)for(Xe=0;Xe<Te.length;Xe++)Te[Xe]&&Ue(Te[Xe],ae,typeof ce.type!="function");he||ce.__e==null||L(ce.__e),ce.__e=ce.__d=void 0}function rt(ce,ae,he){return this.constructor(ce,he)}function Ot(ce,ae,he){var Te,Xe,ze;d.__&&d.__(ce,ae),Xe=(Te=typeof he=="function")?null:he&&he.__k||ae.__k,ze=[],Se(ae,ce=(!Te&&he||ae).__k=G(ue,null,[ce]),Xe||T,T,ae.ownerSVGElement!==void 0,!Te&&he?[he]:Xe?null:ae.firstChild?f.call(ae.childNodes):null,ze,!Te&&he?he:Xe?Xe.__e:ae.firstChild,Te),ve(ze,ce)}function Ve(ce,ae){Ot(ce,ae,Ve)}function Ze(ce,ae,he){var Te,Xe,ze,wt=C({},ce.props);for(ze in ae)ze=="key"?Te=ae[ze]:ze=="ref"?Xe=ae[ze]:wt[ze]=ae[ze];return arguments.length>2&&(wt.children=arguments.length>3?f.call(arguments,2):he),W(ce.type,wt,Te||ce.key,Xe||ce.ref,null)}function gt(ce,ae){var he={__c:ae="__cC"+A++,__:ce,Consumer:function(Te,Xe){return Te.children(Xe)},Provider:function(Te){var Xe,ze;return this.getChildContext||(Xe=[],(ze={})[ae]=this,this.getChildContext=function(){return ze},this.shouldComponentUpdate=function(wt){this.props.value!==wt.value&&Xe.some(V)},this.sub=function(wt){Xe.push(wt);var Tt=wt.componentWillUnmount;wt.componentWillUnmount=function(){Xe.splice(Xe.indexOf(wt),1),Tt&&Tt.call(wt)}}),Te.children}};return he.Provider.__=he.Consumer.contextType=he}f=k.slice,d={__e:function(ce,ae){for(var he,Te,Xe;ae=ae.__;)if((he=ae.__c)&&!he.__)try{if((Te=he.constructor)&&Te.getDerivedStateFromError!=null&&(he.setState(Te.getDerivedStateFromError(ce)),Xe=he.__d),he.componentDidCatch!=null&&(he.componentDidCatch(ce),Xe=he.__d),Xe)return he.__E=he}catch(ze){ce=ze}throw ce}},O=0,oe.prototype.setState=function(ce,ae){var he;he=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof ce=="function"&&(ce=ce(C({},he),this.props)),ce&&C(he,ce),ce!=null&&this.__v&&(ae&&this.__h.push(ae),V(this))},oe.prototype.forceUpdate=function(ce){this.__v&&(this.__e=!0,ce&&this.__h.push(ce),V(this))},oe.prototype.render=ue,v=[],E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,B.__r=0,A=0},function(s,p,o){(function(f,d){o.d(p,"a",function(){return V}),o.d(p,"b",function(){return cu}),o.d(p,"c",function(){return Kr}),o.d(p,"d",function(){return xt}),o.d(p,"e",function(){return Ke}),o.d(p,"f",function(){return We}),o.d(p,"g",function(){return bt}),o.d(p,"h",function(){return so}),o.d(p,"i",function(){return _n}),o.d(p,"j",function(){return at}),o.d(p,"k",function(){return _o}),o.d(p,"l",function(){return Ja}),o.d(p,"m",function(){return on}),o.d(p,"n",function(){return ui}),o.d(p,"o",function(){return Y}),o.d(p,"p",function(){return rc}),o.d(p,"q",function(){return Oo}),o.d(p,"r",function(){return ca}),o.d(p,"s",function(){return Lr}),o.d(p,"t",function(){return kn}),o.d(p,"u",function(){return ua}),o.d(p,"v",function(){return nc}),o.d(p,"w",function(){return ru}),o.d(p,"x",function(){return ci}),o.d(p,"y",function(){return Ir}),o.d(p,"z",function(){return Rn}),o.d(p,"A",function(){return _r}),o.d(p,"B",function(){return oo}),o.d(p,"C",function(){return yt}),o.d(p,"D",function(){return oc}),o.d(p,"E",function(){return an}),o.d(p,"F",function(){return un}),o.d(p,"G",function(){return qa}),o.d(p,"H",function(){return $a}),o.d(p,"I",function(){return ou}),o.d(p,"J",function(){return Vn}),o.d(p,"K",function(){return pe}),o.d(p,"L",function(){return vn}),o.d(p,"M",function(){return la});var O=[];Object.freeze(O);var v={};function E(){return++lt.mobxGuid}function M(_){throw A(!1,_),"X"}function A(_,w){if(!_)throw new Error("[mobx] "+(w||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(v);function T(_){var w=!1;return function(){if(!w)return w=!0,_.apply(this,arguments)}}var k=function(){};function I(_){return _!==null&&typeof _=="object"}function C(_){if(_===null||typeof _!="object")return!1;var w=Object.getPrototypeOf(_);return w===Object.prototype||w===null}function L(_,w,P){Object.defineProperty(_,w,{enumerable:!1,writable:!0,configurable:!0,value:P})}function G(_,w){var P="isMobX"+_;return w.prototype[P]=!0,function(z){return I(z)&&z[P]===!0}}function W(_){return _ instanceof Map}function ee(_){return _ instanceof Set}function ue(_){var w=new Set;for(var P in _)w.add(P);return Object.getOwnPropertySymbols(_).forEach(function(z){Object.getOwnPropertyDescriptor(_,z).enumerable&&w.add(z)}),Array.from(w)}function oe(_){return _&&_.toString?_.toString():new String(_).toString()}function J(_){return _===null?null:typeof _=="object"?""+_:_}var Q=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(_){return Object.getOwnPropertyNames(_).concat(Object.getOwnPropertySymbols(_))}:Object.getOwnPropertyNames,V=Symbol("mobx administration"),B=function(){function _(w){w===void 0&&(w="Atom@"+E()),this.name=w,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=st.NOT_TRACKING}return _.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},_.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},_.prototype.reportObserved=function(){return aa(this)},_.prototype.reportChanged=function(){yr(),function(w){w.lowestObserverState!==st.STALE&&(w.lowestObserverState=st.STALE,w.observers.forEach(function(P){P.dependenciesState===st.UP_TO_DATE&&(P.isTracing!==le.NONE&&Wr(P,w),P.onBecomeStale()),P.dependenciesState=st.STALE}))}(this),Er()},_.prototype.toString=function(){return this.name},_}(),X=G("Atom",B);function Y(_,w,P){w===void 0&&(w=k),P===void 0&&(P=k);var z,K=new B(_);return w!==k&&ec("onBecomeObserved",K,w,z),P!==k&&an(K,P),K}var $={identity:function(_,w){return _===w},structural:function(_,w){return De(_,w)},default:function(_,w){return Object.is(_,w)},shallow:function(_,w){return De(_,w,1)}},ie=function(_,w){return ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,z){P.__proto__=z}||function(P,z){for(var K in z)z.hasOwnProperty(K)&&(P[K]=z[K])},ie(_,w)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var xe=function(){return xe=Object.assign||function(_){for(var w,P=1,z=arguments.length;P<z;P++)for(var K in w=arguments[P])Object.prototype.hasOwnProperty.call(w,K)&&(_[K]=w[K]);return _},xe.apply(this,arguments)};function ge(_){var w=typeof Symbol=="function"&&_[Symbol.iterator],P=0;return w?w.call(_):{next:function(){return _&&P>=_.length&&(_=void 0),{value:_&&_[P++],done:!_}}}}function Pe(_,w){var P=typeof Symbol=="function"&&_[Symbol.iterator];if(!P)return _;var z,K,fe=P.call(_),Ee=[];try{for(;(w===void 0||w-- >0)&&!(z=fe.next()).done;)Ee.push(z.value)}catch(Fe){K={error:Fe}}finally{try{z&&!z.done&&(P=fe.return)&&P.call(fe)}finally{if(K)throw K.error}}return Ee}function Be(){for(var _=[],w=0;w<arguments.length;w++)_=_.concat(Pe(arguments[w]));return _}var Se=Symbol("mobx did run lazy initializers"),ve=Symbol("mobx pending decorators"),je={},Ae={};function Ue(_,w){var P=w?je:Ae;return P[_]||(P[_]={configurable:!0,enumerable:w,get:function(){return rt(this),this[_]},set:function(z){rt(this),this[_]=z}})}function rt(_){var w,P;if(_[Se]!==!0){var z=_[ve];if(z){L(_,Se,!0);var K=Be(Object.getOwnPropertySymbols(z),Object.keys(z));try{for(var fe=ge(K),Ee=fe.next();!Ee.done;Ee=fe.next()){var Fe=z[Ee.value];Fe.propertyCreator(_,Fe.prop,Fe.descriptor,Fe.decoratorTarget,Fe.decoratorArguments)}}catch(ut){w={error:ut}}finally{try{Ee&&!Ee.done&&(P=fe.return)&&P.call(fe)}finally{if(w)throw w.error}}}}}function Ot(_,w){return function(){var P,z=function(K,fe,Ee,Fe){if(Fe===!0)return w(K,fe,Ee,K,P),null;if(!Object.prototype.hasOwnProperty.call(K,ve)){var ut=K[ve];L(K,ve,xe({},ut))}return K[ve][fe]={prop:fe,propertyCreator:w,descriptor:Ee,decoratorTarget:K,decoratorArguments:P},Ue(fe,_)};return Ve(arguments)?(P=O,z.apply(null,arguments)):(P=Array.prototype.slice.call(arguments),z)}}function Ve(_){return(_.length===2||_.length===3)&&(typeof _[1]=="string"||typeof _[1]=="symbol")||_.length===4&&_[3]===!0}function Ze(_,w,P){return ci(_)?_:Array.isArray(_)?yt.array(_,{name:P}):C(_)?yt.object(_,void 0,{name:P}):W(_)?yt.map(_,{name:P}):ee(_)?yt.set(_,{name:P}):_}function gt(_){return _}function ce(_){A(_);var w=Ot(!0,function(z,K,fe,Ee,Fe){var ut=fe?fe.initializer?fe.initializer.call(z):fe.value:void 0;Sr(z).addObservableProp(K,ut,_)}),P=(f!==void 0&&f.env,w);return P.enhancer=_,P}var ae={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function he(_){return _==null?ae:typeof _=="string"?{name:_,deep:!0,proxy:!0}:_}Object.freeze(ae);var Te=ce(Ze),Xe=ce(function(_,w,P){return _==null||_r(_)||Ir(_)||Rn(_)||lr(_)?_:Array.isArray(_)?yt.array(_,{name:P,deep:!1}):C(_)?yt.object(_,void 0,{name:P,deep:!1}):W(_)?yt.map(_,{name:P,deep:!1}):ee(_)?yt.set(_,{name:P,deep:!1}):M(!1)}),ze=ce(gt),wt=ce(function(_,w,P){return De(_,w)?w:_});function Tt(_){return _.defaultDecorator?_.defaultDecorator.enhancer:_.deep===!1?gt:Ze}var jt={box:function(_,w){arguments.length>2&&Me("box");var P=he(w);return new Sn(_,Tt(P),P.name,!0,P.equals)},array:function(_,w){arguments.length>2&&Me("array");var P=he(w);return Bi(_,Tt(P),P.name)},map:function(_,w){arguments.length>2&&Me("map");var P=he(w);return new cu(_,Tt(P),P.name)},set:function(_,w){arguments.length>2&&Me("set");var P=he(w);return new uo(_,Tt(P),P.name)},object:function(_,w,P){typeof arguments[1]=="string"&&Me("object");var z=he(P);if(z.proxy===!1)return Oo({},_,w,z);var K=Qa(z),fe=Oo({},void 0,void 0,z),Ee=si(fe);return tc(Ee,_,w,K),Ee},ref:ze,shallow:Xe,deep:Te,struct:wt},yt=function(_,w,P){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Te.apply(null,arguments);if(ci(_))return _;var z=C(_)?yt.object(_,w,P):Array.isArray(_)?yt.array(_,w):W(_)?yt.map(_,w):ee(_)?yt.set(_,w):_;if(z!==_)return z;M(!1)};function Me(_){M("Expected one or two arguments to observable."+_+". Did you accidentally try to use observable."+_+" as decorator?")}Object.keys(jt).forEach(function(_){return yt[_]=jt[_]});var st,le,it=Ot(!1,function(_,w,P,z,K){var fe=P.get,Ee=P.set,Fe=K[0]||{};Sr(_).addComputedProp(_,w,xe({get:fe,set:Ee,context:_},Fe))}),Lt=it({equals:$.structural}),on=function(_,w,P){if(typeof w=="string"||_!==null&&typeof _=="object"&&arguments.length===1)return it.apply(null,arguments);var z=typeof w=="object"?w:{};return z.get=_,z.set=typeof w=="function"?w:z.set,z.name=z.name||_.name||"",new ro(z)};on.struct=Lt,function(_){_[_.NOT_TRACKING=-1]="NOT_TRACKING",_[_.UP_TO_DATE=0]="UP_TO_DATE",_[_.POSSIBLY_STALE=1]="POSSIBLY_STALE",_[_.STALE=2]="STALE"}(st||(st={})),function(_){_[_.NONE=0]="NONE",_[_.LOG=1]="LOG",_[_.BREAK=2]="BREAK"}(le||(le={}));var zt=function(_){this.cause=_};function Zt(_){return _ instanceof zt}function fn(_){switch(_.dependenciesState){case st.UP_TO_DATE:return!1;case st.NOT_TRACKING:case st.STALE:return!0;case st.POSSIBLY_STALE:for(var w=We(!0),P=re(),z=_.observing,K=z.length,fe=0;fe<K;fe++){var Ee=z[fe];if(bo(Ee)){if(lt.disableErrorBoundaries)Ee.get();else try{Ee.get()}catch(Fe){return be(P),Ke(w),!0}if(_.dependenciesState===st.STALE)return be(P),Ke(w),!0}}return ft(_),be(P),Ke(w),!1}}function _n(){return lt.trackingDerivation!==null}function Ct(_){var w=_.observers.size>0;lt.computationDepth>0&&w&&M(!1),lt.allowStateChanges||!w&&lt.enforceActions!=="strict"||M(!1)}function Nn(_,w,P){var z=We(!0);ft(_),_.newObserving=new Array(_.observing.length+100),_.unboundDepsCount=0,_.runId=++lt.runId;var K,fe=lt.trackingDerivation;if(lt.trackingDerivation=_,lt.disableErrorBoundaries===!0)K=w.call(P);else try{K=w.call(P)}catch(Ee){K=new zt(Ee)}return lt.trackingDerivation=fe,function(Ee){for(var Fe=Ee.observing,ut=Ee.observing=Ee.newObserving,Yt=st.UP_TO_DATE,et=0,pn=Ee.unboundDepsCount,Ft=0;Ft<pn;Ft++)(nn=ut[Ft]).diffValue===0&&(nn.diffValue=1,et!==Ft&&(ut[et]=nn),et++),nn.dependenciesState>Yt&&(Yt=nn.dependenciesState);for(ut.length=et,Ee.newObserving=null,pn=Fe.length;pn--;)(nn=Fe[pn]).diffValue===0&&Ya(nn,Ee),nn.diffValue=0;for(;et--;){var nn;(nn=ut[et]).diffValue===1&&(nn.diffValue=0,ws(nn,Ee))}Yt!==st.UP_TO_DATE&&(Ee.dependenciesState=Yt,Ee.onBecomeStale())}(_),Ke(z),K}function q(_){var w=_.observing;_.observing=[];for(var P=w.length;P--;)Ya(w[P],_);_.dependenciesState=st.NOT_TRACKING}function pe(_){var w=re();try{return _()}finally{be(w)}}function re(){var _=lt.trackingDerivation;return lt.trackingDerivation=null,_}function be(_){lt.trackingDerivation=_}function We(_){var w=lt.allowStateReads;return lt.allowStateReads=_,w}function Ke(_){lt.allowStateReads=_}function ft(_){if(_.dependenciesState!==st.UP_TO_DATE){_.dependenciesState=st.UP_TO_DATE;for(var w=_.observing,P=w.length;P--;)w[P].lowestObserverState=st.UP_TO_DATE}}var Xt=0,Yn=1,Qn=Object.getOwnPropertyDescriptor(function(){},"name");Qn&&Qn.configurable;function Cn(_,w,P){var z=function(){return zn(_,w,P||this,arguments)};return z.isMobxAction=!0,z}function zn(_,w,P,z){var K=at();try{return w.apply(P,z)}catch(fe){throw K.error=fe,fe}finally{bt(K)}}function at(_,w,P){var z=0,K=re();yr();var fe={prevDerivation:K,prevAllowStateChanges:Rt(!0),prevAllowStateReads:We(!0),notifySpy:!1,startTime:z,actionId:Yn++,parentActionId:Xt};return Xt=fe.actionId,fe}function bt(_){Xt!==_.actionId&&M("invalid action stack. did you forget to finish an action?"),Xt=_.parentActionId,_.error!==void 0&&(lt.suppressReactionErrors=!0),sn(_.prevAllowStateChanges),Ke(_.prevAllowStateReads),Er(),be(_.prevDerivation),_.notifySpy,lt.suppressReactionErrors=!1}function xt(_,w){var P,z=Rt(_);try{P=w()}finally{sn(z)}return P}function Rt(_){var w=lt.allowStateChanges;return lt.allowStateChanges=_,w}function sn(_){lt.allowStateChanges=_}var Sn=function(_){function w(P,z,K,fe,Ee){K===void 0&&(K="ObservableValue@"+E()),Ee===void 0&&(Ee=$.default);var Fe=_.call(this,K)||this;return Fe.enhancer=z,Fe.name=K,Fe.equals=Ee,Fe.hasUnreportedChange=!1,Fe.value=z(P,void 0,K),Fe}return function(P,z){function K(){this.constructor=P}ie(P,z),P.prototype=z===null?Object.create(z):(K.prototype=z.prototype,new K)}(w,_),w.prototype.dehanceValue=function(P){return this.dehancer!==void 0?this.dehancer(P):P},w.prototype.set=function(P){this.value,(P=this.prepareNewValue(P))!==lt.UNCHANGED&&this.setNewValue(P)},w.prototype.prepareNewValue=function(P){if(Ct(this),mr(this)){var z=Jt(this,{object:this,type:"update",newValue:P});if(!z)return lt.UNCHANGED;P=z.newValue}return P=this.enhancer(P,this.value,this.name),this.equals(this.value,P)?lt.UNCHANGED:P},w.prototype.setNewValue=function(P){var z=this.value;this.value=P,this.reportChanged(),br(this)&&$n(this,{type:"update",object:this,newValue:P,oldValue:z})},w.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},w.prototype.intercept=function(P){return xo(this,P)},w.prototype.observe=function(P,z){return z&&P({object:this,type:"update",newValue:this.value,oldValue:void 0}),ao(this,P)},w.prototype.toJSON=function(){return this.get()},w.prototype.toString=function(){return this.name+"["+this.value+"]"},w.prototype.valueOf=function(){return J(this.get())},w.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},w}(B),mo=G("ObservableValue",Sn),ro=function(){function _(w){this.dependenciesState=st.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=st.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+E(),this.value=new zt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=le.NONE,A(w.get,"missing option for computed: get"),this.derivation=w.get,this.name=w.name||"ComputedValue@"+E(),w.set&&(this.setter=Cn(this.name+"-setter",w.set)),this.equals=w.equals||(w.compareStructural||w.struct?$.structural:$.default),this.scope=w.context,this.requiresReaction=!!w.requiresReaction,this.keepAlive=!!w.keepAlive}return _.prototype.onBecomeStale=function(){(function(w){w.lowestObserverState===st.UP_TO_DATE&&(w.lowestObserverState=st.POSSIBLY_STALE,w.observers.forEach(function(P){P.dependenciesState===st.UP_TO_DATE&&(P.dependenciesState=st.POSSIBLY_STALE,P.isTracing!==le.NONE&&Wr(P,w),P.onBecomeStale())}))})(this)},_.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},_.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},_.prototype.get=function(){this.isComputing&&M("Cycle detected in computation "+this.name+": "+this.derivation),lt.inBatch!==0||this.observers.size!==0||this.keepAlive?(aa(this),fn(this)&&this.trackAndCompute()&&function(P){P.lowestObserverState!==st.STALE&&(P.lowestObserverState=st.STALE,P.observers.forEach(function(z){z.dependenciesState===st.POSSIBLY_STALE?z.dependenciesState=st.STALE:z.dependenciesState===st.UP_TO_DATE&&(P.lowestObserverState=st.UP_TO_DATE)}))}(this)):fn(this)&&(this.warnAboutUntrackedRead(),yr(),this.value=this.computeValue(!1),Er());var w=this.value;if(Zt(w))throw w.cause;return w},_.prototype.peek=function(){var w=this.computeValue(!1);if(Zt(w))throw w.cause;return w},_.prototype.set=function(w){if(this.setter){A(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,w)}finally{this.isRunningSetter=!1}}else A(!1,!1)},_.prototype.trackAndCompute=function(){var w=this.value,P=this.dependenciesState===st.NOT_TRACKING,z=this.computeValue(!0),K=P||Zt(w)||Zt(z)||!this.equals(w,z);return K&&(this.value=z),K},_.prototype.computeValue=function(w){var P;if(this.isComputing=!0,lt.computationDepth++,w)P=Nn(this,this.derivation,this.scope);else if(lt.disableErrorBoundaries===!0)P=this.derivation.call(this.scope);else try{P=this.derivation.call(this.scope)}catch(z){P=new zt(z)}return lt.computationDepth--,this.isComputing=!1,P},_.prototype.suspend=function(){this.keepAlive||(q(this),this.value=void 0)},_.prototype.observe=function(w,P){var z=this,K=!0,fe=void 0;return Ja(function(){var Ee=z.get();if(!K||P){var Fe=re();w({type:"update",object:z,newValue:Ee,oldValue:fe}),be(Fe)}K=!1,fe=Ee})},_.prototype.warnAboutUntrackedRead=function(){},_.prototype.toJSON=function(){return this.get()},_.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},_.prototype.valueOf=function(){return J(this.get())},_.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},_}(),bo=G("ComputedValue",ro),ai=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Os={};function Ha(){return typeof window!="undefined"?window:d!==void 0?d:typeof self!="undefined"?self:Os}var Cr=!0,Ii=!1,lt=function(){var _=Ha();return _.__mobxInstanceCount>0&&!_.__mobxGlobals&&(Cr=!1),_.__mobxGlobals&&_.__mobxGlobals.version!==new ai().version&&(Cr=!1),Cr?_.__mobxGlobals?(_.__mobxInstanceCount+=1,_.__mobxGlobals.UNCHANGED||(_.__mobxGlobals.UNCHANGED={}),_.__mobxGlobals):(_.__mobxInstanceCount=1,_.__mobxGlobals=new ai):(setTimeout(function(){Ii||M("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new ai)}();function ws(_,w){_.observers.add(w),_.lowestObserverState>w.dependenciesState&&(_.lowestObserverState=w.dependenciesState)}function Ya(_,w){_.observers.delete(w),_.observers.size===0&&Va(_)}function Va(_){_.isPendingUnobservation===!1&&(_.isPendingUnobservation=!0,lt.pendingUnobservations.push(_))}function yr(){lt.inBatch++}function Er(){if(--lt.inBatch==0){Ka();for(var _=lt.pendingUnobservations,w=0;w<_.length;w++){var P=_[w];P.isPendingUnobservation=!1,P.observers.size===0&&(P.isBeingObserved&&(P.isBeingObserved=!1,P.onBecomeUnobserved()),P instanceof ro&&P.suspend())}lt.pendingUnobservations=[]}}function aa(_){var w=lt.trackingDerivation;return w!==null?(w.runId!==_.lastAccessedBy&&(_.lastAccessedBy=w.runId,w.newObserving[w.unboundDepsCount++]=_,_.isBeingObserved||(_.isBeingObserved=!0,_.onBecomeObserved())),!0):(_.observers.size===0&&lt.inBatch>0&&Va(_),!1)}function Wr(_,w){if(_.isTracing===le.BREAK){var P=[];Rr(kn(_),P,1),new Function(`debugger;
/*
Tracing '`+_.name+`'

You are entering this break point because derivation '`+_.name+"' is being traced and '"+w.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(_ instanceof ro?_.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+P.join(`
`)+`
*/
    `)()}}function Rr(_,w,P){w.length>=1e3?w.push("(and many more)"):(w.push(""+new Array(P).join("	")+_.name),_.dependencies&&_.dependencies.forEach(function(z){return Rr(z,w,P+1)}))}var Kr=function(){function _(w,P,z,K){w===void 0&&(w="Reaction@"+E()),K===void 0&&(K=!1),this.name=w,this.onInvalidate=P,this.errorHandler=z,this.requiresObservable=K,this.observing=[],this.newObserving=[],this.dependenciesState=st.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+E(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=le.NONE}return _.prototype.onBecomeStale=function(){this.schedule()},_.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,lt.pendingReactions.push(this),Ka())},_.prototype.isScheduled=function(){return this._isScheduled},_.prototype.runReaction=function(){if(!this.isDisposed){if(yr(),this._isScheduled=!1,fn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(w){this.reportExceptionInDerivation(w)}}Er()}},_.prototype.track=function(w){if(!this.isDisposed){yr(),this._isRunning=!0;var P=Nn(this,w,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&q(this),Zt(P)&&this.reportExceptionInDerivation(P.cause),Er()}},_.prototype.reportExceptionInDerivation=function(w){var P=this;if(this.errorHandler)this.errorHandler(w,this);else{if(lt.disableErrorBoundaries)throw w;lt.suppressReactionErrors,lt.globalReactionErrorHandlers.forEach(function(z){return z(w,P)})}},_.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(yr(),q(this),Er()))},_.prototype.getDisposer=function(){var w=this.dispose.bind(this);return w[V]=this,w},_.prototype.toString=function(){return"Reaction["+this.name+"]"},_.prototype.trace=function(w){w===void 0&&(w=!1),function(){for(var P=[],z=0;z<arguments.length;z++)P[z]=arguments[z];var K=!1;typeof P[P.length-1]=="boolean"&&(K=P.pop());var fe=tn(P);if(!fe)return M(!1);fe.isTracing,le.NONE,fe.isTracing=K?le.BREAK:le.LOG}(this,w)},_}(),Wa=function(_){return _()};function Ka(){lt.inBatch>0||lt.isRunningReactions||Wa(qu)}function qu(){lt.isRunningReactions=!0;for(var _=lt.pendingReactions,w=0;_.length>0;){++w==100&&_.splice(0);for(var P=_.splice(0),z=0,K=P.length;z<K;z++)P[z].runReaction()}lt.isRunningReactions=!1}var Li=G("Reaction",Kr);function Zu(_){var w=Wa;Wa=function(P){return _(function(){return w(P)})}}function $a(_){return function(){}}function xs(){M(!1)}function Lo(_){return function(w,P,z){if(z){if(z.value)return{value:Cn(_,z.value),enumerable:!1,configurable:!0,writable:!0};var K=z.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Cn(_,K.call(this))}}}return Ju(_).apply(this,arguments)}}function Ju(_){return function(w,P,z){Object.defineProperty(w,P,{configurable:!0,enumerable:!1,get:function(){},set:function(K){L(this,P,_o(_,K))}})}}var _o=function(_,w,P,z){return arguments.length===1&&typeof _=="function"?Cn(_.name||"<unnamed action>",_):arguments.length===2&&typeof w=="function"?Cn(_,w):arguments.length===1&&typeof _=="string"?Lo(_):z!==!0?Lo(w).apply(null,arguments):void L(_,w,Cn(_.name||w,P.value,this))};function qa(_,w){return zn(typeof _=="string"?_:_.name||"<unnamed action>",typeof _=="function"?_:w,this,void 0)}function ua(_){return typeof _=="function"&&_.isMobxAction===!0}function Za(_,w,P){L(_,w,Cn(w,P.bind(_)))}function Ja(_,w){w===void 0&&(w=v);var P,z=w&&w.name||_.name||"Autorun@"+E();if(!w.scheduler&&!w.delay)P=new Kr(z,function(){this.track(Ee)},w.onError,w.requiresObservable);else{var K=Qu(w),fe=!1;P=new Kr(z,function(){fe||(fe=!0,K(function(){fe=!1,P.isDisposed||P.track(Ee)}))},w.onError,w.requiresObservable)}function Ee(){_(P)}return P.schedule(),P.getDisposer()}_o.bound=function(_,w,P,z){return z===!0?(Za(_,w,P.value),null):P?{configurable:!0,enumerable:!1,get:function(){return Za(this,w,P.value||P.initializer.call(this)),this[w]},set:xs}:{enumerable:!1,configurable:!0,set:function(K){Za(this,w,K)},get:function(){}}};var Es=function(_){return _()};function Qu(_){return _.scheduler?_.scheduler:_.delay?function(w){return setTimeout(w,_.delay)}:Es}function un(_,w,P){P===void 0&&(P=v);var z,K,fe,Ee=P.name||"Reaction@"+E(),Fe=_o(Ee,P.onError?(z=P.onError,K=w,function(){try{return K.apply(this,arguments)}catch(On){z.call(this,On)}}):w),ut=!P.scheduler&&!P.delay,Yt=Qu(P),et=!0,pn=!1,Ft=P.compareStructural?$.structural:P.equals||$.default,nn=new Kr(Ee,function(){et||ut?zr():pn||(pn=!0,Yt(zr))},P.onError,P.requiresObservable);function zr(){if(pn=!1,!nn.isDisposed){var On=!1;nn.track(function(){var Or=_(nn);On=et||!Ft(fe,Or),fe=Or}),et&&P.fireImmediately&&Fe(fe,nn),et||On!==!0||Fe(fe,nn),et&&(et=!1)}}return nn.schedule(),nn.getDisposer()}function an(_,w,P){return ec("onBecomeUnobserved",_,w,P)}function ec(_,w,P,z){var K=typeof z=="function"?Lr(w,P):Lr(w),fe=typeof z=="function"?z:P,Ee=_+"Listeners";return K[Ee]?K[Ee].add(fe):K[Ee]=new Set([fe]),typeof K[_]!="function"?M(!1):function(){var Fe=K[Ee];Fe&&(Fe.delete(fe),Fe.size===0&&delete K[Ee])}}function ui(_){var w=_.enforceActions,P=_.computedRequiresReaction,z=_.computedConfigurable,K=_.disableErrorBoundaries,fe=_.reactionScheduler,Ee=_.reactionRequiresObservable,Fe=_.observableRequiresReaction;if(_.isolateGlobalState===!0&&((lt.pendingReactions.length||lt.inBatch||lt.isRunningReactions)&&M("isolateGlobalState should be called before MobX is running any reactions"),Ii=!0,Cr&&(--Ha().__mobxInstanceCount==0&&(Ha().__mobxGlobals=void 0),lt=new ai)),w!==void 0){var ut=void 0;switch(w){case!0:case"observed":ut=!0;break;case!1:case"never":ut=!1;break;case"strict":case"always":ut="strict";break;default:M("Invalid value for 'enforceActions': '"+w+"', expected 'never', 'always' or 'observed'")}lt.enforceActions=ut,lt.allowStateChanges=ut!==!0&&ut!=="strict"}P!==void 0&&(lt.computedRequiresReaction=!!P),Ee!==void 0&&(lt.reactionRequiresObservable=!!Ee),Fe!==void 0&&(lt.observableRequiresReaction=!!Fe,lt.allowStateReads=!lt.observableRequiresReaction),z!==void 0&&(lt.computedConfigurable=!!z),K!==void 0&&(lt.disableErrorBoundaries=!!K),fe&&Zu(fe)}function Oo(_,w,P,z){var K=Qa(z=he(z));return rt(_),Sr(_,z.name,K.enhancer),w&&tc(_,w,P,K),_}function Qa(_){return _.defaultDecorator||(_.deep===!1?ze:Te)}function tc(_,w,P,z){var K,fe;yr();try{var Ee=Q(w);try{for(var Fe=ge(Ee),ut=Fe.next();!ut.done;ut=Fe.next()){var Yt=ut.value,et=Object.getOwnPropertyDescriptor(w,Yt),pn=(P&&Yt in P?P[Yt]:et.get?it:z)(_,Yt,et,!0);pn&&Object.defineProperty(_,Yt,pn)}}catch(Ft){K={error:Ft}}finally{try{ut&&!ut.done&&(fe=Fe.return)&&fe.call(Fe)}finally{if(K)throw K.error}}}finally{Er()}}function kn(_,w){return eu(Lr(_,w))}function eu(_){var w,P,z={name:_.name};return _.observing&&_.observing.length>0&&(z.dependencies=(w=_.observing,P=[],w.forEach(function(K){P.indexOf(K)===-1&&P.push(K)}),P).map(eu)),z}var zi=0;function tu(){this.message="FLOW_CANCELLED"}function ca(_){arguments.length!==1&&M("Flow expects 1 argument and cannot be used as decorator");var w=_.name||"<unnamed flow>";return function(){var P,z=this,K=arguments,fe=++zi,Ee=_o(w+" - runid: "+fe+" - init",_).apply(z,K),Fe=void 0,ut=new Promise(function(Yt,et){var pn=0;function Ft(On){var Or;Fe=void 0;try{Or=_o(w+" - runid: "+fe+" - yield "+pn++,Ee.next).call(Ee,On)}catch(So){return et(So)}zr(Or)}function nn(On){var Or;Fe=void 0;try{Or=_o(w+" - runid: "+fe+" - yield "+pn++,Ee.throw).call(Ee,On)}catch(So){return et(So)}zr(Or)}function zr(On){if(!On||typeof On.then!="function")return On.done?Yt(On.value):(Fe=Promise.resolve(On.value)).then(Ft,nn);On.then(zr,et)}P=et,Ft(void 0)});return ut.cancel=_o(w+" - runid: "+fe+" - cancel",function(){try{Fe&&er(Fe);var Yt=Ee.return(void 0),et=Promise.resolve(Yt.value);et.then(k,k),er(et),P(new tu)}catch(pn){P(pn)}}),ut}}function er(_){typeof _.cancel=="function"&&_.cancel()}function nu(_,w){if(_==null)return!1;if(w!==void 0){if(_r(_)===!1||!_[V].values.has(w))return!1;var P=Lr(_,w);return bo(P)}return bo(_)}function nc(_){return arguments.length>1?M(!1):nu(_)}function ru(_,w){return typeof w!="string"?M(!1):nu(_,w)}function sa(_,w){return _!=null&&(w!==void 0?!!_r(_)&&_[V].values.has(w):_r(_)||!!_[V]||X(_)||Li(_)||bo(_))}function ci(_){return arguments.length!==1&&M(!1),sa(_)}function oo(_){return _r(_)?_[V].getKeys():Rn(_)||lr(_)?Array.from(_.keys()):Ir(_)?_.map(function(w,P){return P}):M(!1)}function vn(_){return _r(_)?oo(_).map(function(w){return _[w]}):Rn(_)?oo(_).map(function(w){return _.get(w)}):lr(_)?Array.from(_.values()):Ir(_)?_.slice():M(!1)}function rc(_){return _r(_)?oo(_).map(function(w){return[w,_[w]]}):Rn(_)?oo(_).map(function(w){return[w,_.get(w)]}):lr(_)?Array.from(_.entries()):Ir(_)?_.map(function(w,P){return[P,w]}):M(!1)}function vr(_,w,P){if(arguments.length!==2||lr(_))if(_r(_)){var z=_[V],K=z.values.get(w);K?z.write(w,P):z.addObservableProp(w,P,z.defaultEnhancer)}else if(Rn(_))_.set(w,P);else if(lr(_))_.add(w);else{if(!Ir(_))return M(!1);typeof w!="number"&&(w=parseInt(w,10)),A(w>=0,"Not a valid index: '"+w+"'"),yr(),w>=_.length&&(_.length=w+1),_[w]=P,Er()}else{yr();var fe=w;try{for(var Ee in fe)vr(_,Ee,fe[Ee])}finally{Er()}}}function oc(_,w,P,z){return typeof P=="function"?function(K,fe,Ee,Fe){return so(K,fe).observe(Ee,Fe)}(_,w,P,z):function(K,fe,Ee){return so(K).observe(fe,Ee)}(_,w,P)}tu.prototype=Object.create(Error.prototype);var ic={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function sr(_,w,P,z){return z.detectCycles&&_.set(w,P),P}function gr(_,w,P){if(!w.recurseEverything&&!ci(_)||typeof _!="object")return _;if(_===null)return null;if(_ instanceof Date)return _;if(mo(_))return gr(_.get(),w,P);if(ci(_)&&oo(_),w.detectCycles===!0&&_!==null&&P.has(_))return P.get(_);if(Ir(_)||Array.isArray(_)){var z=sr(P,_,[],w),K=_.map(function(Ft){return gr(Ft,w,P)});z.length=K.length;for(var fe=0,Ee=K.length;fe<Ee;fe++)z[fe]=K[fe];return z}if(lr(_)||Object.getPrototypeOf(_)===Set.prototype){if(w.exportMapsAsObjects===!1){var Fe=sr(P,_,new Set,w);return _.forEach(function(Ft){Fe.add(gr(Ft,w,P))}),Fe}var ut=sr(P,_,[],w);return _.forEach(function(Ft){ut.push(gr(Ft,w,P))}),ut}if(Rn(_)||Object.getPrototypeOf(_)===Map.prototype){if(w.exportMapsAsObjects===!1){var Yt=sr(P,_,new Map,w);return _.forEach(function(Ft,nn){Yt.set(nn,gr(Ft,w,P))}),Yt}var et=sr(P,_,{},w);return _.forEach(function(Ft,nn){et[nn]=gr(Ft,w,P)}),et}var pn=sr(P,_,{},w);return ue(_).forEach(function(Ft){pn[Ft]=gr(_[Ft],w,P)}),pn}function ou(_,w){var P;return typeof w=="boolean"&&(w={detectCycles:w}),w||(w=ic),w.detectCycles=w.detectCycles===void 0?w.recurseEverything===!0:w.detectCycles===!0,w.detectCycles&&(P=new Map),gr(_,w,P)}function tn(_){switch(_.length){case 0:return lt.trackingDerivation;case 1:return Lr(_[0]);case 2:return Lr(_[0],_[1])}}function Vn(_,w){w===void 0&&(w=void 0),yr();try{return _.apply(w)}finally{Er()}}function la(_,w,P){return arguments.length===1||w&&typeof w=="object"?iu(_,w):ac(_,w,P||{})}function ac(_,w,P){var z;typeof P.timeout=="number"&&(z=setTimeout(function(){if(!fe[V].isDisposed){fe();var Ee=new Error("WHEN_TIMEOUT");if(!P.onError)throw Ee;P.onError(Ee)}},P.timeout)),P.name=P.name||"When@"+E();var K=Cn(P.name+"-effect",w),fe=Ja(function(Ee){_()&&(Ee.dispose(),z&&clearTimeout(z),K())},P);return fe}function iu(_,w){var P,z=new Promise(function(K,fe){var Ee=ac(_,K,xe(xe({},w),{onError:fe}));P=function(){Ee(),fe("WHEN_CANCELLED")}});return z.cancel=P,z}function fa(_){return _[V]}function io(_){return typeof _=="string"||typeof _=="number"||typeof _=="symbol"}var wo={has:function(_,w){if(w===V||w==="constructor"||w===Se)return!0;var P=fa(_);return io(w)?P.has(w):w in _},get:function(_,w){if(w===V||w==="constructor"||w===Se)return _[w];var P=fa(_),z=P.values.get(w);if(z instanceof B){var K=z.get();return K===void 0&&P.has(w),K}return io(w)&&P.has(w),_[w]},set:function(_,w,P){return!!io(w)&&(vr(_,w,P),!0)},deleteProperty:function(_,w){return!!io(w)&&(fa(_).remove(w),!0)},ownKeys:function(_){return fa(_).keysAtom.reportObserved(),Reflect.ownKeys(_)},preventExtensions:function(_){return M("Dynamic observable objects cannot be frozen"),!1}};function si(_){var w=new Proxy(_,wo);return _[V].proxy=w,w}function mr(_){return _.interceptors!==void 0&&_.interceptors.length>0}function xo(_,w){var P=_.interceptors||(_.interceptors=[]);return P.push(w),T(function(){var z=P.indexOf(w);z!==-1&&P.splice(z,1)})}function Jt(_,w){var P=re();try{for(var z=Be(_.interceptors||[]),K=0,fe=z.length;K<fe&&(A(!(w=z[K](w))||w.type,"Intercept handlers should return nothing or a change object"),w);K++);return w}finally{be(P)}}function br(_){return _.changeListeners!==void 0&&_.changeListeners.length>0}function ao(_,w){var P=_.changeListeners||(_.changeListeners=[]);return P.push(w),T(function(){var z=P.indexOf(w);z!==-1&&P.splice(z,1)})}function $n(_,w){var P=re(),z=_.changeListeners;if(z){for(var K=0,fe=(z=z.slice()).length;K<fe;K++)z[K](w);be(P)}}var pa={get:function(_,w){return w===V?_[V]:w==="length"?_[V].getArrayLength():typeof w=="number"?jn.get.call(_,w):typeof w!="string"||isNaN(w)?jn.hasOwnProperty(w)?jn[w]:_[w]:jn.get.call(_,parseInt(w))},set:function(_,w,P){return w==="length"&&_[V].setArrayLength(P),typeof w=="number"&&jn.set.call(_,w,P),typeof w=="symbol"||isNaN(w)?_[w]=P:jn.set.call(_,parseInt(w),P),!0},preventExtensions:function(_){return M("Observable arrays cannot be frozen"),!1}};function Bi(_,w,P,z){P===void 0&&(P="ObservableArray@"+E()),z===void 0&&(z=!1);var K,fe,Ee,Fe=new au(P,w,z);K=Fe.values,fe=V,Ee=Fe,Object.defineProperty(K,fe,{enumerable:!1,writable:!1,configurable:!0,value:Ee});var ut=new Proxy(Fe.values,pa);if(Fe.proxy=ut,_&&_.length){var Yt=Rt(!0);Fe.spliceWithArray(0,0,_),sn(Yt)}return ut}var au=function(){function _(w,P,z){this.owned=z,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new B(w||"ObservableArray@"+E()),this.enhancer=function(K,fe){return P(K,fe,w+"[..]")}}return _.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},_.prototype.dehanceValues=function(w){return this.dehancer!==void 0&&w.length>0?w.map(this.dehancer):w},_.prototype.intercept=function(w){return xo(this,w)},_.prototype.observe=function(w,P){return P===void 0&&(P=!1),P&&w({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),ao(this,w)},_.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},_.prototype.setArrayLength=function(w){if(typeof w!="number"||w<0)throw new Error("[mobx.array] Out of range: "+w);var P=this.values.length;if(w!==P)if(w>P){for(var z=new Array(w-P),K=0;K<w-P;K++)z[K]=void 0;this.spliceWithArray(P,0,z)}else this.spliceWithArray(w,P-w)},_.prototype.updateArrayLength=function(w,P){if(w!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=P},_.prototype.spliceWithArray=function(w,P,z){var K=this;Ct(this.atom);var fe=this.values.length;if(w===void 0?w=0:w>fe?w=fe:w<0&&(w=Math.max(0,fe+w)),P=arguments.length===1?fe-w:P==null?0:Math.max(0,Math.min(P,fe-w)),z===void 0&&(z=O),mr(this)){var Ee=Jt(this,{object:this.proxy,type:"splice",index:w,removedCount:P,added:z});if(!Ee)return O;P=Ee.removedCount,z=Ee.added}z=z.length===0?z:z.map(function(ut){return K.enhancer(ut,void 0)});var Fe=this.spliceItemsIntoValues(w,P,z);return P===0&&z.length===0||this.notifyArraySplice(w,z,Fe),this.dehanceValues(Fe)},_.prototype.spliceItemsIntoValues=function(w,P,z){var K;if(z.length<1e4)return(K=this.values).splice.apply(K,Be([w,P],z));var fe=this.values.slice(w,w+P);return this.values=this.values.slice(0,w).concat(z,this.values.slice(w+P)),fe},_.prototype.notifyArrayChildUpdate=function(w,P,z){var K=!this.owned&&!1,fe=br(this),Ee=fe||K?{object:this.proxy,type:"update",index:w,newValue:P,oldValue:z}:null;this.atom.reportChanged(),fe&&$n(this,Ee)},_.prototype.notifyArraySplice=function(w,P,z){var K=!this.owned&&!1,fe=br(this),Ee=fe||K?{object:this.proxy,type:"splice",index:w,removed:z,added:P,removedCount:z.length,addedCount:P.length}:null;this.atom.reportChanged(),fe&&$n(this,Ee)},_}(),jn={intercept:function(_){return this[V].intercept(_)},observe:function(_,w){return w===void 0&&(w=!1),this[V].observe(_,w)},clear:function(){return this.splice(0)},replace:function(_){var w=this[V];return w.spliceWithArray(0,w.values.length,_)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(_,w){for(var P=[],z=2;z<arguments.length;z++)P[z-2]=arguments[z];var K=this[V];switch(arguments.length){case 0:return[];case 1:return K.spliceWithArray(_);case 2:return K.spliceWithArray(_,w)}return K.spliceWithArray(_,w,P)},spliceWithArray:function(_,w,P){return this[V].spliceWithArray(_,w,P)},push:function(){for(var _=[],w=0;w<arguments.length;w++)_[w]=arguments[w];var P=this[V];return P.spliceWithArray(P.values.length,0,_),P.values.length},pop:function(){return this.splice(Math.max(this[V].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var _=[],w=0;w<arguments.length;w++)_[w]=arguments[w];var P=this[V];return P.spliceWithArray(0,0,_),P.values.length},reverse:function(){var _=this.slice();return _.reverse.apply(_,arguments)},sort:function(_){var w=this.slice();return w.sort.apply(w,arguments)},remove:function(_){var w=this[V],P=w.dehanceValues(w.values).indexOf(_);return P>-1&&(this.splice(P,1),!0)},get:function(_){var w=this[V];if(w&&_<w.values.length)return w.atom.reportObserved(),w.dehanceValue(w.values[_])},set:function(_,w){var P=this[V],z=P.values;if(_<z.length){Ct(P.atom);var K=z[_];if(mr(P)){var fe=Jt(P,{type:"update",object:P.proxy,index:_,newValue:w});if(!fe)return;w=fe.newValue}(w=P.enhancer(w,K))!==K&&(z[_]=w,P.notifyArrayChildUpdate(_,w,K))}else{if(_!==z.length)throw new Error("[mobx.array] Index out of bounds, "+_+" is larger than "+z.length);P.spliceWithArray(_,0,[w])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(_){typeof Array.prototype[_]=="function"&&(jn[_]=function(){var w=this[V];w.atom.reportObserved();var P=w.dehanceValues(w.values);return P[_].apply(P,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(_){typeof Array.prototype[_]=="function"&&(jn[_]=function(w,P){var z=this,K=this[V];return K.atom.reportObserved(),K.dehanceValues(K.values)[_](function(fe,Ee){return w.call(P,fe,Ee,z)},P)})}),["reduce","reduceRight"].forEach(function(_){jn[_]=function(){var w=this,P=this[V];P.atom.reportObserved();var z=arguments[0];return arguments[0]=function(K,fe,Ee){return fe=P.dehanceValue(fe),z(K,fe,Ee,w)},P.values[_].apply(P.values,arguments)}});var da,Eo=G("ObservableArrayAdministration",au);function Ir(_){return I(_)&&Eo(_[V])}var uu,Ss={},cu=function(){function _(w,P,z){if(P===void 0&&(P=Ze),z===void 0&&(z="ObservableMap@"+E()),this.enhancer=P,this.name=z,this[da]=Ss,this._keysAtom=Y(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(w)}return _.prototype._has=function(w){return this._data.has(w)},_.prototype.has=function(w){var P=this;if(!lt.trackingDerivation)return this._has(w);var z=this._hasMap.get(w);if(!z){var K=z=new Sn(this._has(w),gt,this.name+"."+oe(w)+"?",!1);this._hasMap.set(w,K),an(K,function(){return P._hasMap.delete(w)})}return z.get()},_.prototype.set=function(w,P){var z=this._has(w);if(mr(this)){var K=Jt(this,{type:z?"update":"add",object:this,newValue:P,name:w});if(!K)return this;P=K.newValue}return z?this._updateValue(w,P):this._addValue(w,P),this},_.prototype.delete=function(w){var P=this;if(Ct(this._keysAtom),mr(this)&&!(K=Jt(this,{type:"delete",object:this,name:w})))return!1;if(this._has(w)){var z=br(this),K=z?{type:"delete",object:this,oldValue:this._data.get(w).value,name:w}:null;return Vn(function(){P._keysAtom.reportChanged(),P._updateHasMapEntry(w,!1),P._data.get(w).setNewValue(void 0),P._data.delete(w)}),z&&$n(this,K),!0}return!1},_.prototype._updateHasMapEntry=function(w,P){var z=this._hasMap.get(w);z&&z.setNewValue(P)},_.prototype._updateValue=function(w,P){var z=this._data.get(w);if((P=z.prepareNewValue(P))!==lt.UNCHANGED){var K=br(this),fe=K?{type:"update",object:this,oldValue:z.value,name:w,newValue:P}:null;z.setNewValue(P),K&&$n(this,fe)}},_.prototype._addValue=function(w,P){var z=this;Ct(this._keysAtom),Vn(function(){var Ee=new Sn(P,z.enhancer,z.name+"."+oe(w),!1);z._data.set(w,Ee),P=Ee.value,z._updateHasMapEntry(w,!0),z._keysAtom.reportChanged()});var K=br(this),fe=K?{type:"add",object:this,name:w,newValue:P}:null;K&&$n(this,fe)},_.prototype.get=function(w){return this.has(w)?this.dehanceValue(this._data.get(w).get()):this.dehanceValue(void 0)},_.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},_.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},_.prototype.values=function(){var w=this,P=this.keys();return Kt({next:function(){var z=P.next(),K=z.done,fe=z.value;return{done:K,value:K?void 0:w.get(fe)}}})},_.prototype.entries=function(){var w=this,P=this.keys();return Kt({next:function(){var z=P.next(),K=z.done,fe=z.value;return{done:K,value:K?void 0:[fe,w.get(fe)]}}})},_.prototype[da=V,Symbol.iterator]=function(){return this.entries()},_.prototype.forEach=function(w,P){var z,K;try{for(var fe=ge(this),Ee=fe.next();!Ee.done;Ee=fe.next()){var Fe=Pe(Ee.value,2),ut=Fe[0],Yt=Fe[1];w.call(P,Yt,ut,this)}}catch(et){z={error:et}}finally{try{Ee&&!Ee.done&&(K=fe.return)&&K.call(fe)}finally{if(z)throw z.error}}},_.prototype.merge=function(w){var P=this;return Rn(w)&&(w=w.toJS()),Vn(function(){var z=Rt(!0);try{C(w)?ue(w).forEach(function(K){return P.set(K,w[K])}):Array.isArray(w)?w.forEach(function(K){var fe=Pe(K,2),Ee=fe[0],Fe=fe[1];return P.set(Ee,Fe)}):W(w)?(w.constructor!==Map&&M("Cannot initialize from classes that inherit from Map: "+w.constructor.name),w.forEach(function(K,fe){return P.set(fe,K)})):w!=null&&M("Cannot initialize map from "+w)}finally{sn(z)}}),this},_.prototype.clear=function(){var w=this;Vn(function(){pe(function(){var P,z;try{for(var K=ge(w.keys()),fe=K.next();!fe.done;fe=K.next()){var Ee=fe.value;w.delete(Ee)}}catch(Fe){P={error:Fe}}finally{try{fe&&!fe.done&&(z=K.return)&&z.call(K)}finally{if(P)throw P.error}}})})},_.prototype.replace=function(w){var P=this;return Vn(function(){var z,K,fe,Ee,Fe=function(fr){if(W(fr)||Rn(fr))return fr;if(Array.isArray(fr))return new Map(fr);if(C(fr)){var Ui=new Map;for(var li in fr)Ui.set(li,fr[li]);return Ui}return M("Cannot convert to map from '"+fr+"'")}(w),ut=new Map,Yt=!1;try{for(var et=ge(P._data.keys()),pn=et.next();!pn.done;pn=et.next()){var Ft=pn.value;if(!Fe.has(Ft))if(P.delete(Ft))Yt=!0;else{var nn=P._data.get(Ft);ut.set(Ft,nn)}}}catch(fr){z={error:fr}}finally{try{pn&&!pn.done&&(K=et.return)&&K.call(et)}finally{if(z)throw z.error}}try{for(var zr=ge(Fe.entries()),On=zr.next();!On.done;On=zr.next()){var Or=Pe(On.value,2),So=(Ft=Or[0],nn=Or[1],P._data.has(Ft));if(P.set(Ft,nn),P._data.has(Ft)){var jo=P._data.get(Ft);ut.set(Ft,jo),So||(Yt=!0)}}}catch(fr){fe={error:fr}}finally{try{On&&!On.done&&(Ee=zr.return)&&Ee.call(zr)}finally{if(fe)throw fe.error}}if(!Yt)if(P._data.size!==ut.size)P._keysAtom.reportChanged();else for(var Fi=P._data.keys(),lu=ut.keys(),Fo=Fi.next(),ya=lu.next();!Fo.done;){if(Fo.value!==ya.value){P._keysAtom.reportChanged();break}Fo=Fi.next(),ya=lu.next()}P._data=ut}),this},Object.defineProperty(_.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),_.prototype.toPOJO=function(){var w,P,z={};try{for(var K=ge(this),fe=K.next();!fe.done;fe=K.next()){var Ee=Pe(fe.value,2),Fe=Ee[0],ut=Ee[1];z[typeof Fe=="symbol"?Fe:oe(Fe)]=ut}}catch(Yt){w={error:Yt}}finally{try{fe&&!fe.done&&(P=K.return)&&P.call(K)}finally{if(w)throw w.error}}return z},_.prototype.toJS=function(){return new Map(this)},_.prototype.toJSON=function(){return this.toPOJO()},_.prototype.toString=function(){var w=this;return this.name+"[{ "+Array.from(this.keys()).map(function(P){return oe(P)+": "+w.get(P)}).join(", ")+" }]"},_.prototype.observe=function(w,P){return ao(this,w)},_.prototype.intercept=function(w){return xo(this,w)},_}(),Rn=G("ObservableMap",cu),zo={},uo=function(){function _(w,P,z){if(P===void 0&&(P=Ze),z===void 0&&(z="ObservableSet@"+E()),this.name=z,this[uu]=zo,this._data=new Set,this._atom=Y(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(K,fe){return P(K,fe,z)},w&&this.replace(w)}return _.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},_.prototype.clear=function(){var w=this;Vn(function(){pe(function(){var P,z;try{for(var K=ge(w._data.values()),fe=K.next();!fe.done;fe=K.next()){var Ee=fe.value;w.delete(Ee)}}catch(Fe){P={error:Fe}}finally{try{fe&&!fe.done&&(z=K.return)&&z.call(K)}finally{if(P)throw P.error}}})})},_.prototype.forEach=function(w,P){var z,K;try{for(var fe=ge(this),Ee=fe.next();!Ee.done;Ee=fe.next()){var Fe=Ee.value;w.call(P,Fe,Fe,this)}}catch(ut){z={error:ut}}finally{try{Ee&&!Ee.done&&(K=fe.return)&&K.call(fe)}finally{if(z)throw z.error}}},Object.defineProperty(_.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),_.prototype.add=function(w){var P=this;if(Ct(this._atom),mr(this)&&!(K=Jt(this,{type:"add",object:this,newValue:w})))return this;if(!this.has(w)){Vn(function(){P._data.add(P.enhancer(w,void 0)),P._atom.reportChanged()});var z=br(this),K=z?{type:"add",object:this,newValue:w}:null;z&&$n(this,K)}return this},_.prototype.delete=function(w){var P=this;if(mr(this)&&!(K=Jt(this,{type:"delete",object:this,oldValue:w})))return!1;if(this.has(w)){var z=br(this),K=z?{type:"delete",object:this,oldValue:w}:null;return Vn(function(){P._atom.reportChanged(),P._data.delete(w)}),z&&$n(this,K),!0}return!1},_.prototype.has=function(w){return this._atom.reportObserved(),this._data.has(this.dehanceValue(w))},_.prototype.entries=function(){var w=0,P=Array.from(this.keys()),z=Array.from(this.values());return Kt({next:function(){var K=w;return w+=1,K<z.length?{value:[P[K],z[K]],done:!1}:{done:!0}}})},_.prototype.keys=function(){return this.values()},_.prototype.values=function(){this._atom.reportObserved();var w=this,P=0,z=Array.from(this._data.values());return Kt({next:function(){return P<z.length?{value:w.dehanceValue(z[P++]),done:!1}:{done:!0}}})},_.prototype.replace=function(w){var P=this;return lr(w)&&(w=w.toJS()),Vn(function(){var z=Rt(!0);try{Array.isArray(w)||ee(w)?(P.clear(),w.forEach(function(K){return P.add(K)})):w!=null&&M("Cannot initialize set from "+w)}finally{sn(z)}}),this},_.prototype.observe=function(w,P){return ao(this,w)},_.prototype.intercept=function(w){return xo(this,w)},_.prototype.toJS=function(){return new Set(this)},_.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},_.prototype[uu=V,Symbol.iterator]=function(){return this.values()},_}(),lr=G("ObservableSet",uo),su=function(){function _(w,P,z,K){P===void 0&&(P=new Map),this.target=w,this.values=P,this.name=z,this.defaultEnhancer=K,this.keysAtom=new B(z+".keys")}return _.prototype.read=function(w){return this.values.get(w).get()},_.prototype.write=function(w,P){var z=this.target,K=this.values.get(w);if(K instanceof ro)K.set(P);else{if(mr(this)){if(!(Ee=Jt(this,{type:"update",object:this.proxy||z,name:w,newValue:P})))return;P=Ee.newValue}if((P=K.prepareNewValue(P))!==lt.UNCHANGED){var fe=br(this),Ee=fe?{type:"update",object:this.proxy||z,oldValue:K.value,name:w,newValue:P}:null;K.setNewValue(P),fe&&$n(this,Ee)}}},_.prototype.has=function(w){var P=this.pendingKeys||(this.pendingKeys=new Map),z=P.get(w);if(z)return z.get();var K=!!this.values.get(w);return z=new Sn(K,gt,this.name+"."+oe(w)+"?",!1),P.set(w,z),z.get()},_.prototype.addObservableProp=function(w,P,z){z===void 0&&(z=this.defaultEnhancer);var K=this.target;if(mr(this)){var fe=Jt(this,{object:this.proxy||K,name:w,type:"add",newValue:P});if(!fe)return;P=fe.newValue}var Ee=new Sn(P,z,this.name+"."+oe(w),!1);this.values.set(w,Ee),P=Ee.value,Object.defineProperty(K,w,function(Fe){return Bo[Fe]||(Bo[Fe]={configurable:!0,enumerable:!0,get:function(){return this[V].read(Fe)},set:function(ut){this[V].write(Fe,ut)}})}(w)),this.notifyPropertyAddition(w,P)},_.prototype.addComputedProp=function(w,P,z){var K,fe,Ee,Fe=this.target;z.name=z.name||this.name+"."+oe(P),this.values.set(P,new ro(z)),(w===Fe||(K=w,fe=P,!(Ee=Object.getOwnPropertyDescriptor(K,fe))||Ee.configurable!==!1&&Ee.writable!==!1))&&Object.defineProperty(w,P,function(ut){return ha[ut]||(ha[ut]={configurable:lt.computedConfigurable,enumerable:!1,get:function(){return co(this).read(ut)},set:function(Yt){co(this).write(ut,Yt)}})}(P))},_.prototype.remove=function(w){if(this.values.has(w)){var P=this.target;if(mr(this)&&!(ut=Jt(this,{object:this.proxy||P,name:w,type:"remove"})))return;try{yr();var z=br(this),K=!1,fe=this.values.get(w),Ee=fe&&fe.get();if(fe&&fe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(w),this.pendingKeys){var Fe=this.pendingKeys.get(w);Fe&&Fe.set(!1)}delete this.target[w];var ut=z?{type:"remove",object:this.proxy||P,oldValue:Ee,name:w}:null;z&&$n(this,ut)}finally{Er()}}},_.prototype.illegalAccess=function(w,P){},_.prototype.observe=function(w,P){return ao(this,w)},_.prototype.intercept=function(w){return xo(this,w)},_.prototype.notifyPropertyAddition=function(w,P){var z=br(this),K=z?{type:"add",object:this.proxy||this.target,name:w,newValue:P}:null;if(z&&$n(this,K),this.pendingKeys){var fe=this.pendingKeys.get(w);fe&&fe.set(!0)}this.keysAtom.reportChanged()},_.prototype.getKeys=function(){var w,P;this.keysAtom.reportObserved();var z=[];try{for(var K=ge(this.values),fe=K.next();!fe.done;fe=K.next()){var Ee=Pe(fe.value,2),Fe=Ee[0];Ee[1]instanceof Sn&&z.push(Fe)}}catch(ut){w={error:ut}}finally{try{fe&&!fe.done&&(P=K.return)&&P.call(K)}finally{if(w)throw w.error}}return z},_}();function Sr(_,w,P){if(w===void 0&&(w=""),P===void 0&&(P=Ze),Object.prototype.hasOwnProperty.call(_,V))return _[V];C(_)||(w=(_.constructor.name||"ObservableObject")+"@"+E()),w||(w="ObservableObject@"+E());var z=new su(_,new Map,oe(w),P);return L(_,V,z),z}var Bo=Object.create(null),ha=Object.create(null);function co(_){var w=_[V];return w||(rt(_),_[V])}var jr=G("ObservableObjectAdministration",su);function _r(_){return!!I(_)&&(rt(_),jr(_[V]))}function Lr(_,w){if(typeof _=="object"&&_!==null){if(Ir(_))return w!==void 0&&M(!1),_[V].atom;if(lr(_))return _[V];if(Rn(_)){var P=_;return w===void 0?P._keysAtom:((z=P._data.get(w)||P._hasMap.get(w))||M(!1),z)}var z;if(rt(_),w&&!_[V]&&_[w],_r(_))return w?((z=_[V].values.get(w))||M(!1),z):M(!1);if(X(_)||bo(_)||Li(_))return _}else if(typeof _=="function"&&Li(_[V]))return _[V];return M(!1)}function so(_,w){return _||M("Expecting some object"),w!==void 0?so(Lr(_,w)):X(_)||bo(_)||Li(_)||Rn(_)||lr(_)?_:(rt(_),_[V]?_[V]:void M(!1))}var Oe=Object.prototype.toString;function De(_,w,P){return P===void 0&&(P=-1),Re(_,w,P)}function Re(_,w,P,z,K){if(_===w)return _!==0||1/_==1/w;if(_==null||w==null)return!1;if(_!=_)return w!=w;var fe=typeof _;if(fe!=="function"&&fe!=="object"&&typeof w!="object")return!1;var Ee=Oe.call(_);if(Ee!==Oe.call(w))return!1;switch(Ee){case"[object RegExp]":case"[object String]":return""+_==""+w;case"[object Number]":return+_!=+_?+w!=+w:+_==0?1/+_==1/w:+_==+w;case"[object Date]":case"[object Boolean]":return+_==+w;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(_)===Symbol.valueOf.call(w);case"[object Map]":case"[object Set]":P>=0&&P++}_=Qe(_),w=Qe(w);var Fe=Ee==="[object Array]";if(!Fe){if(typeof _!="object"||typeof w!="object")return!1;var ut=_.constructor,Yt=w.constructor;if(ut!==Yt&&!(typeof ut=="function"&&ut instanceof ut&&typeof Yt=="function"&&Yt instanceof Yt)&&"constructor"in _&&"constructor"in w)return!1}if(P===0)return!1;P<0&&(P=-1),K=K||[];for(var et=(z=z||[]).length;et--;)if(z[et]===_)return K[et]===w;if(z.push(_),K.push(w),Fe){if((et=_.length)!==w.length)return!1;for(;et--;)if(!Re(_[et],w[et],P-1,z,K))return!1}else{var pn=Object.keys(_),Ft=void 0;if(et=pn.length,Object.keys(w).length!==et)return!1;for(;et--;)if(!Bt(w,Ft=pn[et])||!Re(_[Ft],w[Ft],P-1,z,K))return!1}return z.pop(),K.pop(),!0}function Qe(_){return Ir(_)?_.slice():W(_)||Rn(_)||ee(_)||lr(_)?Array.from(_.entries()):_}function Bt(_,w){return Object.prototype.hasOwnProperty.call(_,w)}function Kt(_){return _[Symbol.iterator]=gn,_}function gn(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:$a,extras:{getDebugName:function(_,w){return(w!==void 0?Lr(_,w):_r(_)||Rn(_)||lr(_)?so(_):Lr(_)).name}},$mobx:V})}).call(this,o(163),o(68))},function(s,p,o){var f=o(113),d=o(42),O=o(179);f||d(Object.prototype,"toString",O,{unsafe:!0})},function(s,p,o){var f=o(41),d=o(100),O=o(80),v=o(58),E=o(116),M="Array Iterator",A=v.set,T=v.getterFor(M);s.exports=E(Array,"Array",function(k,I){A(this,{type:M,target:f(k),index:0,kind:I})},function(){var k=T(this),I=k.target,C=k.kind,L=k.index++;return!I||L>=I.length?(k.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:L,done:!1}:C=="values"?{value:I[L],done:!1}:{value:[L,I[L]],done:!1}},"values"),O.Arguments=O.Array,d("keys"),d("values"),d("entries")},function(s,p,o){var f=o(16),d=o(7),O=o(46),v=o(76),E=o(34),M=o(15),A=o(71),T=o(36),k=o(108),I=o(18),C=o(35),L=o(96),G=o(30),W=o(33),ee=o(54),ue=o(87),oe=o(32),J=o(40),Q=o(41),V=o(86),B=o(39),X=o(69),Y=o(60),$=o(77),ie=o(74),xe=o(139),ge=o(112),Pe=o(50),Be=o(38),Se=o(84),ve=o(98),je=o(42),Ae=o(89),Ue=o(93),rt=o(72),Ot=o(90),Ve=o(28),Ze=o(140),gt=o(141),ce=o(78),ae=o(58),he=o(79).forEach,Te=Ue("hidden"),Xe="Symbol",ze=Ve("toPrimitive"),wt=ae.set,Tt=ae.getterFor(Xe),jt=Object.prototype,yt=d.Symbol,Me=yt&&yt.prototype,st=d.TypeError,le=d.QObject,it=O("JSON","stringify"),Lt=Pe.f,on=Be.f,zt=xe.f,Zt=Se.f,fn=M([].push),_n=Ae("symbols"),Ct=Ae("op-symbols"),Nn=Ae("string-to-symbol-registry"),q=Ae("symbol-to-string-registry"),pe=Ae("wks"),re=!le||!le.prototype||!le.prototype.findChild,be=T&&I(function(){return Y(on({},"a",{get:function(){return on(this,"a",{value:7}).a}})).a!=7})?function(at,bt,xt){var Rt=Lt(jt,bt);Rt&&delete jt[bt],on(at,bt,xt),Rt&&at!==jt&&on(jt,bt,Rt)}:on,We=function(at,bt){var xt=_n[at]=Y(Me);return wt(xt,{type:Xe,tag:at,description:bt}),T||(xt.description=bt),xt},Ke=function(at,bt,xt){at===jt&&Ke(Ct,bt,xt),oe(at);var Rt=V(bt);return oe(xt),C(_n,Rt)?(xt.enumerable?(C(at,Te)&&at[Te][Rt]&&(at[Te][Rt]=!1),xt=Y(xt,{enumerable:X(0,!1)})):(C(at,Te)||on(at,Te,X(1,{})),at[Te][Rt]=!0),be(at,Rt,xt)):on(at,Rt,xt)},ft=function(at,bt){oe(at);var xt=Q(bt),Rt=$(xt).concat(Cn(xt));return he(Rt,function(sn){T&&!E(Xt,xt,sn)||Ke(at,sn,xt[sn])}),at},Xt=function(at){var bt=V(at),xt=E(Zt,this,bt);return!(this===jt&&C(_n,bt)&&!C(Ct,bt))&&(!(xt||!C(this,bt)||!C(_n,bt)||C(this,Te)&&this[Te][bt])||xt)},Yn=function(at,bt){var xt=Q(at),Rt=V(bt);if(xt!==jt||!C(_n,Rt)||C(Ct,Rt)){var sn=Lt(xt,Rt);return!sn||!C(_n,Rt)||C(xt,Te)&&xt[Te][Rt]||(sn.enumerable=!0),sn}},Qn=function(at){var bt=zt(Q(at)),xt=[];return he(bt,function(Rt){C(_n,Rt)||C(rt,Rt)||fn(xt,Rt)}),xt},Cn=function(at){var bt=at===jt,xt=zt(bt?Ct:Q(at)),Rt=[];return he(xt,function(sn){!C(_n,sn)||bt&&!C(jt,sn)||fn(Rt,_n[sn])}),Rt};if(k||(yt=function(){if(ee(Me,this))throw st("Symbol is not a constructor");var at=arguments.length&&arguments[0]!==void 0?B(arguments[0]):void 0,bt=Ot(at),xt=function(Rt){this===jt&&E(xt,Ct,Rt),C(this,Te)&&C(this[Te],bt)&&(this[Te][bt]=!1),be(this,bt,X(1,Rt))};return T&&re&&be(jt,bt,{configurable:!0,set:xt}),We(bt,at)},je(Me=yt.prototype,"toString",function(){return Tt(this).tag}),je(yt,"withoutSetter",function(at){return We(Ot(at),at)}),Se.f=Xt,Be.f=Ke,Pe.f=Yn,ie.f=xe.f=Qn,ge.f=Cn,Ze.f=function(at){return We(Ve(at),at)},T&&(on(Me,"description",{configurable:!0,get:function(){return Tt(this).description}}),A||je(jt,"propertyIsEnumerable",Xt,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!k,sham:!k},{Symbol:yt}),he($(pe),function(at){gt(at)}),f({target:Xe,stat:!0,forced:!k},{for:function(at){var bt=B(at);if(C(Nn,bt))return Nn[bt];var xt=yt(bt);return Nn[bt]=xt,q[xt]=bt,xt},keyFor:function(at){if(!ue(at))throw st(at+" is not a symbol");if(C(q,at))return q[at]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),f({target:"Object",stat:!0,forced:!k,sham:!T},{create:function(at,bt){return bt===void 0?Y(at):ft(Y(at),bt)},defineProperty:Ke,defineProperties:ft,getOwnPropertyDescriptor:Yn}),f({target:"Object",stat:!0,forced:!k},{getOwnPropertyNames:Qn,getOwnPropertySymbols:Cn}),f({target:"Object",stat:!0,forced:I(function(){ge.f(1)})},{getOwnPropertySymbols:function(at){return ge.f(J(at))}}),it&&f({target:"JSON",stat:!0,forced:!k||I(function(){var at=yt();return it([at])!="[null]"||it({a:at})!="{}"||it(Object(at))!="{}"})},{stringify:function(at,bt,xt){var Rt=ve(arguments),sn=bt;if((W(bt)||at!==void 0)&&!ue(at))return L(bt)||(bt=function(Sn,mo){if(G(sn)&&(mo=E(sn,this,Sn,mo)),!ue(mo))return mo}),Rt[1]=bt,v(it,null,Rt)}}),!Me[ze]){var zn=Me.valueOf;je(Me,ze,function(at){return E(zn,this)})}ce(yt,Xe),rt[Te]=!0},function(s,p,o){var f=o(7),d=o(152),O=o(153),v=o(3),E=o(57),M=o(28),A=M("iterator"),T=M("toStringTag"),k=v.values,I=function(L,G){if(L){if(L[A]!==k)try{E(L,A,k)}catch(ee){L[A]=k}if(L[T]||E(L,T,G),d[G]){for(var W in v)if(L[W]!==v[W])try{E(L,W,v[W])}catch(ee){L[W]=v[W]}}}};for(var C in d)I(f[C]&&f[C].prototype,C);I(O,"DOMTokenList")},function(s,p,o){var f=o(151).charAt,d=o(39),O=o(58),v=o(116),E="String Iterator",M=O.set,A=O.getterFor(E);v(String,"String",function(T){M(this,{type:E,string:d(T),index:0})},function(){var T,k=A(this),I=k.string,C=k.index;return C>=I.length?{value:void 0,done:!0}:(T=f(I,C),k.index+=T.length,{value:T,done:!1})})},function(s,p,o){(function(f){var d=function(O){return O&&O.Math==Math&&O};s.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof f=="object"&&f)||function(){return this}()||Function("return this")()}).call(this,o(68))},function(s,p,o){var f=o(16),d=o(36),O=o(7),v=o(15),E=o(35),M=o(30),A=o(54),T=o(39),k=o(38).f,I=o(134),C=O.Symbol,L=C&&C.prototype;if(d&&M(C)&&(!("description"in L)||C().description!==void 0)){var G={},W=function(){var B=arguments.length<1||arguments[0]===void 0?void 0:T(arguments[0]),X=A(L,this)?new C(B):B===void 0?C():C(B);return B===""&&(G[X]=!0),X};I(W,C),W.prototype=L,L.constructor=W;var ee=String(C("test"))=="Symbol(test)",ue=v(L.toString),oe=v(L.valueOf),J=/^Symbol\((.*)\)[^)]+$/,Q=v("".replace),V=v("".slice);k(L,"description",{configurable:!0,get:function(){var B=oe(this),X=ue(B);if(E(G,B))return"";var Y=ee?V(X,7,-1):Q(X,J,"$1");return Y===""?void 0:Y}}),f({global:!0,forced:!0},{Symbol:W})}},function(s,p,o){o(141)("iterator")},function(s,p,o){o.d(p,"a",function(){return v.a}),o.d(p,"c",function(){return v.e}),o.d(p,"h",function(){return J}),o.d(p,"i",function(){return ee}),o.d(p,"j",function(){return G}),o.d(p,"b",function(){return Pe}),o.d(p,"e",function(){return je}),o.d(p,"f",function(){return Be}),o.d(p,"g",function(){return _n});var f,d,O,v=o(0),E=0,M=[],A=v.i.__b,T=v.i.__r,k=v.i.diffed,I=v.i.__c,C=v.i.unmount;function L(q,pe){v.i.__h&&v.i.__h(d,q,E||pe),E=0;var re=d.__H||(d.__H={__:[],__h:[]});return q>=re.__.length&&re.__.push({}),re.__[q]}function G(q){return E=1,W(ie,q)}function W(q,pe,re){var be=L(f++,2);return be.t=q,be.__c||(be.__=[re?re(pe):ie(void 0,pe),function(We){var Ke=be.t(be.__[0],We);be.__[0]!==Ke&&(be.__=[Ke,be.__[1]],be.__c.setState({}))}],be.__c=d),be.__}function ee(q,pe){var re=L(f++,3);!v.i.__s&&$(re.__H,pe)&&(re.__=q,re.__H=pe,d.__H.__h.push(re))}function ue(q,pe){var re=L(f++,4);!v.i.__s&&$(re.__H,pe)&&(re.__=q,re.__H=pe,d.__h.push(re))}function oe(q,pe){var re=L(f++,7);return $(re.__H,pe)&&(re.__=q(),re.__H=pe,re.__h=q),re.__}function J(q,pe){return E=8,oe(function(){return q},pe)}function Q(){var q;for(M.sort(function(pe,re){return pe.__v.__b-re.__v.__b});q=M.pop();)if(q.__P)try{q.__H.__h.forEach(X),q.__H.__h.forEach(Y),q.__H.__h=[]}catch(pe){q.__H.__h=[],v.i.__e(pe,q.__v)}}v.i.__b=function(q){d=null,A&&A(q)},v.i.__r=function(q){T&&T(q),f=0;var pe=(d=q.__c).__H;pe&&(pe.__h.forEach(X),pe.__h.forEach(Y),pe.__h=[])},v.i.diffed=function(q){k&&k(q);var pe=q.__c;pe&&pe.__H&&pe.__H.__h.length&&(M.push(pe)!==1&&O===v.i.requestAnimationFrame||((O=v.i.requestAnimationFrame)||B)(Q)),d=null},v.i.__c=function(q,pe){pe.some(function(re){try{re.__h.forEach(X),re.__h=re.__h.filter(function(be){return!be.__||Y(be)})}catch(be){pe.some(function(We){We.__h&&(We.__h=[])}),pe=[],v.i.__e(be,re.__v)}}),I&&I(q,pe)},v.i.unmount=function(q){C&&C(q);var pe,re=q.__c;re&&re.__H&&(re.__H.__.forEach(function(be){try{X(be)}catch(We){pe=We}}),pe&&v.i.__e(pe,re.__v))};var V=typeof requestAnimationFrame=="function";function B(q){var pe,re=function(){clearTimeout(be),V&&cancelAnimationFrame(pe),setTimeout(q)},be=setTimeout(re,100);V&&(pe=requestAnimationFrame(re))}function X(q){var pe=d,re=q.__c;typeof re=="function"&&(q.__c=void 0,re()),d=pe}function Y(q){var pe=d;q.__c=q.__(),d=pe}function $(q,pe){return!q||q.length!==pe.length||pe.some(function(re,be){return re!==q[be]})}function ie(q,pe){return typeof pe=="function"?pe(q):pe}function xe(q,pe){for(var re in pe)q[re]=pe[re];return q}function ge(q,pe){for(var re in q)if(re!=="__source"&&!(re in pe))return!0;for(var be in pe)if(be!=="__source"&&q[be]!==pe[be])return!0;return!1}function Pe(q){this.props=q}function Be(q,pe){function re(We){var Ke=this.props.ref,ft=Ke==We.ref;return!ft&&Ke&&(Ke.call?Ke(null):Ke.current=null),pe?!pe(this.props,We)||!ft:ge(this.props,We)}function be(We){return this.shouldComponentUpdate=re,Object(v.e)(q,We)}return be.displayName="Memo("+(q.displayName||q.name)+")",be.prototype.isReactComponent=!0,be.__f=!0,be}(Pe.prototype=new v.a).isPureReactComponent=!0,Pe.prototype.shouldComponentUpdate=function(q,pe){return ge(this.props,q)||ge(this.state,pe)};var Se=v.i.__b;v.i.__b=function(q){q.type&&q.type.__f&&q.ref&&(q.props.ref=q.ref,q.ref=null),Se&&Se(q)};var ve=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function je(q){function pe(re,be){var We=xe({},re);return delete We.ref,q(We,!(be=re.ref||be)||typeof be=="object"&&!("current"in be)?null:be)}return pe.$$typeof=ve,pe.render=pe,pe.prototype.isReactComponent=pe.__f=!0,pe.displayName="ForwardRef("+(q.displayName||q.name)+")",pe}var Ae=function(q,pe){return q==null?null:Object(v.k)(Object(v.k)(q).map(pe))},Ue={map:Ae,forEach:Ae,count:function(q){return q?Object(v.k)(q).length:0},only:function(q){var pe=Object(v.k)(q);if(pe.length!==1)throw"Children.only";return pe[0]},toArray:v.k},rt=v.i.__e;v.i.__e=function(q,pe,re){if(q.then){for(var be,We=pe;We=We.__;)if((be=We.__c)&&be.__c)return pe.__e==null&&(pe.__e=re.__e,pe.__k=re.__k),be.__c(q,pe)}rt(q,pe,re)};var Ot=v.i.unmount;function Ve(q,pe,re){return q&&(q.__c&&q.__c.__H&&(q.__c.__H.__.forEach(function(be){typeof be.__c=="function"&&be.__c()}),q.__c.__H=null),(q=xe({},q)).__c!=null&&(q.__c.__P===re&&(q.__c.__P=pe),q.__c=null),q.__k=q.__k&&q.__k.map(function(be){return Ve(be,pe,re)})),q}function Ze(q,pe,re){return q&&(q.__v=null,q.__k=q.__k&&q.__k.map(function(be){return Ze(be,pe,re)}),q.__c&&q.__c.__P===pe&&(q.__e&&re.insertBefore(q.__e,q.__d),q.__c.__e=!0,q.__c.__P=re)),q}function gt(){this.__u=0,this.t=null,this.__b=null}function ce(q){var pe=q.__.__c;return pe&&pe.__e&&pe.__e(q)}function ae(){this.u=null,this.o=null}v.i.unmount=function(q){var pe=q.__c;pe&&pe.__R&&pe.__R(),pe&&q.__h===!0&&(q.type=null),Ot&&Ot(q)},(gt.prototype=new v.a).__c=function(q,pe){var re=pe.__c,be=this;be.t==null&&(be.t=[]),be.t.push(re);var We=ce(be.__v),Ke=!1,ft=function(){Ke||(Ke=!0,re.__R=null,We?We(Xt):Xt())};re.__R=ft;var Xt=function(){if(!--be.__u){if(be.state.__e){var Qn=be.state.__e;be.__v.__k[0]=Ze(Qn,Qn.__c.__P,Qn.__c.__O)}var Cn;for(be.setState({__e:be.__b=null});Cn=be.t.pop();)Cn.forceUpdate()}},Yn=pe.__h===!0;be.__u++||Yn||be.setState({__e:be.__b=be.__v.__k[0]}),q.then(ft,ft)},gt.prototype.componentWillUnmount=function(){this.t=[]},gt.prototype.render=function(q,pe){if(this.__b){if(this.__v.__k){var re=document.createElement("div"),be=this.__v.__k[0].__c;this.__v.__k[0]=Ve(this.__b,re,be.__O=be.__P)}this.__b=null}var We=pe.__e&&Object(v.e)(v.b,null,q.fallback);return We&&(We.__h=null),[Object(v.e)(v.b,null,pe.__e?null:q.children),We]};var he=function(q,pe,re){if(++re[1]===re[0]&&q.o.delete(pe),q.props.revealOrder&&(q.props.revealOrder[0]!=="t"||!q.o.size))for(re=q.u;re;){for(;re.length>3;)re.pop()();if(re[1]<re[0])break;q.u=re=re[2]}};function Te(q){return this.getChildContext=function(){return q.context},q.children}function Xe(q){var pe=this,re=q.i;pe.componentWillUnmount=function(){Object(v.j)(null,pe.l),pe.l=null,pe.i=null},pe.i&&pe.i!==re&&pe.componentWillUnmount(),q.__v?(pe.l||(pe.i=re,pe.l={nodeType:1,parentNode:re,childNodes:[],appendChild:function(be){this.childNodes.push(be),pe.i.appendChild(be)},insertBefore:function(be,We){this.childNodes.push(be),pe.i.appendChild(be)},removeChild:function(be){this.childNodes.splice(this.childNodes.indexOf(be)>>>1,1),pe.i.removeChild(be)}}),Object(v.j)(Object(v.e)(Te,{context:pe.context},q.__v),pe.l)):pe.l&&pe.componentWillUnmount()}(ae.prototype=new v.a).__e=function(q){var pe=this,re=ce(pe.__v),be=pe.o.get(q);return be[0]++,function(We){var Ke=function(){pe.props.revealOrder?(be.push(We),he(pe,q,be)):We()};re?re(Ke):Ke()}},ae.prototype.render=function(q){this.u=null,this.o=new Map;var pe=Object(v.k)(q.children);q.revealOrder&&q.revealOrder[0]==="b"&&pe.reverse();for(var re=pe.length;re--;)this.o.set(pe[re],this.u=[1,0,this.u]);return q.children},ae.prototype.componentDidUpdate=ae.prototype.componentDidMount=function(){var q=this;this.o.forEach(function(pe,re){he(q,re,pe)})};var ze=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,wt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Tt=typeof document!="undefined",jt=function(q){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(q)};v.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(q){Object.defineProperty(v.a.prototype,q,{configurable:!0,get:function(){return this["UNSAFE_"+q]},set:function(pe){Object.defineProperty(this,q,{configurable:!0,writable:!0,value:pe})}})});var yt=v.i.event;function Me(){}function st(){return this.cancelBubble}function le(){return this.defaultPrevented}v.i.event=function(q){return yt&&(q=yt(q)),q.persist=Me,q.isPropagationStopped=st,q.isDefaultPrevented=le,q.nativeEvent=q};var it,Lt={configurable:!0,get:function(){return this.class}},on=v.i.vnode;v.i.vnode=function(q){var pe=q.type,re=q.props,be=re;if(typeof pe=="string"){var We=pe.indexOf("-")===-1;for(var Ke in be={},re){var ft=re[Ke];Tt&&Ke==="children"&&pe==="noscript"||Ke==="value"&&"defaultValue"in re&&ft==null||(Ke==="defaultValue"&&"value"in re&&re.value==null?Ke="value":Ke==="download"&&ft===!0?ft="":/ondoubleclick/i.test(Ke)?Ke="ondblclick":/^onchange(textarea|input)/i.test(Ke+pe)&&!jt(re.type)?Ke="oninput":/^onfocus$/i.test(Ke)?Ke="onfocusin":/^onblur$/i.test(Ke)?Ke="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ke)?Ke=Ke.toLowerCase():We&&wt.test(Ke)?Ke=Ke.replace(/[A-Z0-9]/,"-$&").toLowerCase():ft===null&&(ft=void 0),be[Ke]=ft)}pe=="select"&&be.multiple&&Array.isArray(be.value)&&(be.value=Object(v.k)(re.children).forEach(function(Xt){Xt.props.selected=be.value.indexOf(Xt.props.value)!=-1})),pe=="select"&&be.defaultValue!=null&&(be.value=Object(v.k)(re.children).forEach(function(Xt){Xt.props.selected=be.multiple?be.defaultValue.indexOf(Xt.props.value)!=-1:be.defaultValue==Xt.props.value})),q.props=be,re.class!=re.className&&(Lt.enumerable="className"in re,re.className!=null&&(be.class=re.className),Object.defineProperty(be,"className",Lt))}q.$$typeof=ze,on&&on(q)};var zt=v.i.__r;v.i.__r=function(q){zt&&zt(q),it=q.__c};var Zt={ReactCurrentDispatcher:{current:{readContext:function(q){return it.__n[q.__c].props.value}}}};function fn(q){return!!q&&q.$$typeof===ze}var _n=function(q,pe){return q(pe)},Ct=v.b,Nn={useState:G,useReducer:W,useEffect:ee,useLayoutEffect:ue,useRef:function(q){return E=5,oe(function(){return{current:q}},[])},useImperativeHandle:function(q,pe,re){E=6,ue(function(){typeof q=="function"?q(pe()):q&&(q.current=pe())},re==null?re:re.concat(q))},useMemo:oe,useCallback:J,useContext:function(q){var pe=d.context[q.__c],re=L(f++,9);return re.c=q,pe?(re.__==null&&(re.__=!0,pe.sub(d)),pe.props.value):q.__},useDebugValue:function(q,pe){v.i.useDebugValue&&v.i.useDebugValue(pe?pe(q):q)},version:"17.0.2",Children:Ue,render:function(q,pe,re){return pe.__k==null&&(pe.textContent=""),Object(v.j)(q,pe),typeof re=="function"&&re(),q?q.__c:null},hydrate:function(q,pe,re){return Object(v.h)(q,pe),typeof re=="function"&&re(),q?q.__c:null},unmountComponentAtNode:function(q){return!!q.__k&&(Object(v.j)(null,q),!0)},createPortal:function(q,pe){return Object(v.e)(Xe,{__v:q,i:pe})},createElement:v.e,createContext:v.d,createFactory:function(q){return v.e.bind(null,q)},cloneElement:function(q){return fn(q)?v.c.apply(null,arguments):q},createRef:v.f,Fragment:v.b,isValidElement:fn,findDOMNode:function(q){return q&&(q.base||q.nodeType===1&&q)||null},Component:v.a,PureComponent:Pe,memo:Be,forwardRef:je,flushSync:function(q,pe){return q(pe)},unstable_batchedUpdates:_n,StrictMode:Ct,Suspense:gt,SuspenseList:ae,lazy:function(q){var pe,re,be;function We(Ke){if(pe||(pe=q()).then(function(ft){re=ft.default||ft},function(ft){be=ft}),be)throw be;if(!re)throw pe;return Object(v.e)(re,Ke)}return We.displayName="Lazy",We.__f=!0,We},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Zt};p.d=Nn},function(s,p,o){var f=o(7),d=o(152),O=o(153),v=o(187),E=o(57),M=function(T){if(T&&T.forEach!==v)try{E(T,"forEach",v)}catch(k){T.forEach=v}};for(var A in d)d[A]&&M(f[A]&&f[A].prototype);M(O)},function(s,p,o){o(16)({target:"Object",stat:!0},{setPrototypeOf:o(102)})},function(s,p,o){var f=o(16),d=o(18),O=o(40),v=o(101),E=o(143);f({target:"Object",stat:!0,forced:d(function(){v(1)}),sham:!E},{getPrototypeOf:function(M){return v(O(M))}})},function(s,p,o){var f=o(16),d=o(46),O=o(76),v=o(203),E=o(165),M=o(32),A=o(33),T=o(60),k=o(18),I=d("Reflect","construct"),C=Object.prototype,L=[].push,G=k(function(){function ue(){}return!(I(function(){},[],ue)instanceof ue)}),W=!k(function(){I(function(){})}),ee=G||W;f({target:"Reflect",stat:!0,forced:ee,sham:ee},{construct:function(ue,oe){E(ue),M(oe);var J=arguments.length<3?ue:E(arguments[2]);if(W&&!G)return I(ue,oe,J);if(ue==J){switch(oe.length){case 0:return new ue;case 1:return new ue(oe[0]);case 2:return new ue(oe[0],oe[1]);case 3:return new ue(oe[0],oe[1],oe[2]);case 4:return new ue(oe[0],oe[1],oe[2],oe[3])}var Q=[null];return O(L,Q,oe),new(O(v,ue,Q))}var V=J.prototype,B=T(A(V)?V:C),X=O(ue,B,oe);return A(X)?X:B}})},function(s,p){var o=Function.prototype,f=o.bind,d=o.call,O=f&&f.bind(d);s.exports=f?function(v){return v&&O(d,v)}:function(v){return v&&function(){return d.apply(v,arguments)}}},function(s,p,o){var f=o(7),d=o(50).f,O=o(57),v=o(42),E=o(110),M=o(134),A=o(95);s.exports=function(T,k){var I,C,L,G,W,ee=T.target,ue=T.global,oe=T.stat;if(I=ue?f:oe?f[ee]||E(ee,{}):(f[ee]||{}).prototype)for(C in k){if(G=k[C],L=T.noTargetGet?(W=d(I,C))&&W.value:I[C],!A(ue?C:ee+(oe?".":"#")+C,T.forced)&&L!==void 0){if(typeof G==typeof L)continue;M(G,L)}(T.sham||L&&L.sham)&&O(G,"sham",!0),v(I,C,G,T)}}},function(s,p,o){var f=o(16),d=o(7),O=o(96),v=o(99),E=o(33),M=o(75),A=o(45),T=o(41),k=o(63),I=o(28),C=o(81),L=o(98),G=C("slice"),W=I("species"),ee=d.Array,ue=Math.max;f({target:"Array",proto:!0,forced:!G},{slice:function(oe,J){var Q,V,B,X=T(this),Y=A(X),$=M(oe,Y),ie=M(J===void 0?Y:J,Y);if(O(X)&&(Q=X.constructor,(v(Q)&&(Q===ee||O(Q.prototype))||E(Q)&&(Q=Q[W])===null)&&(Q=void 0),Q===ee||Q===void 0))return L(X,$,ie);for(V=new(Q===void 0?ee:Q)(ue(ie-$,0)),B=0;$<ie;$++,B++)$ in X&&k(V,B,X[$]);return V.length=B,V}})},function(s,p){s.exports=function(o){try{return!!o()}catch(f){return!0}}},function(s,p,o){var f=o(16),d=o(103);f({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},function(s,p,o){var f=o(16),d=o(40),O=o(77);f({target:"Object",stat:!0,forced:o(18)(function(){O(1)})},{keys:function(v){return O(d(v))}})},function(s,p,o){var f=o(36),d=o(73).EXISTS,O=o(15),v=o(38).f,E=Function.prototype,M=O(E.toString),A=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,T=O(A.exec);f&&!d&&v(E,"name",{configurable:!0,get:function(){try{return T(A,M(this))[1]}catch(k){return""}}})},function(s,p,o){var f=o(16),d=o(18),O=o(41),v=o(50).f,E=o(36),M=d(function(){v(1)});f({target:"Object",stat:!0,forced:!E||M,sham:!E},{getOwnPropertyDescriptor:function(A,T){return v(O(A),T)}})},function(s,p,o){var f=o(16),d=o(188);f({target:"Array",stat:!0,forced:!o(120)(function(O){Array.from(O)})},{from:d})},function(s,p,o){var f=o(16),d=o(79).filter;f({target:"Array",proto:!0,forced:!o(81)("filter")},{filter:function(O){return d(this,O,arguments.length>1?arguments[1]:void 0)}})},function(s,p,o){var f=o(16),d=o(36),O=o(135),v=o(41),E=o(50),M=o(63);f({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(A){for(var T,k,I=v(A),C=E.f,L=O(I),G={},W=0;L.length>W;)(k=C(I,T=L[W++]))!==void 0&&M(G,T,k);return G}})},,function(s,p,o){var f=o(16),d=o(7),O=o(18),v=o(96),E=o(33),M=o(40),A=o(45),T=o(63),k=o(115),I=o(81),C=o(28),L=o(70),G=C("isConcatSpreadable"),W=9007199254740991,ee="Maximum allowed index exceeded",ue=d.TypeError,oe=L>=51||!O(function(){var V=[];return V[G]=!1,V.concat()[0]!==V}),J=I("concat"),Q=function(V){if(!E(V))return!1;var B=V[G];return B!==void 0?!!B:v(V)};f({target:"Array",proto:!0,forced:!oe||!J},{concat:function(V){var B,X,Y,$,ie,xe=M(this),ge=k(xe,0),Pe=0;for(B=-1,Y=arguments.length;B<Y;B++)if(Q(ie=B===-1?xe:arguments[B])){if(Pe+($=A(ie))>W)throw ue(ee);for(X=0;X<$;X++,Pe++)X in ie&&T(ge,Pe,ie[X])}else{if(Pe>=W)throw ue(ee);T(ge,Pe++,ie)}return ge.length=Pe,ge}})},function(s,p,o){var f=o(7),d=o(89),O=o(35),v=o(90),E=o(108),M=o(132),A=d("wks"),T=f.Symbol,k=T&&T.for,I=M?T:T&&T.withoutSetter||v;s.exports=function(C){if(!O(A,C)||!E&&typeof A[C]!="string"){var L="Symbol."+C;E&&O(T,C)?A[C]=T[C]:A[C]=M&&k?k(L):I(L)}return A[C]}},function(s,p,o){var f=o(16),d=o(202);f({target:"Object",stat:!0,forced:Object.assign!==d},{assign:d})},function(s,p){s.exports=function(o){return typeof o=="function"}},function(s,p,o){var f=o(106),d=typeof self=="object"&&self&&self.Object===Object&&self,O=f.a||d||Function("return this")();p.a=O},function(s,p,o){var f=o(7),d=o(33),O=f.String,v=f.TypeError;s.exports=function(E){if(d(E))return E;throw v(O(E)+" is not an object")}},function(s,p,o){var f=o(30);s.exports=function(d){return typeof d=="object"?d!==null:f(d)}},function(s,p){var o=Function.prototype.call;s.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(s,p,o){var f=o(15),d=o(40),O=f({}.hasOwnProperty);s.exports=Object.hasOwn||function(v,E){return O(d(v),E)}},function(s,p,o){var f=o(18);s.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(s,p,o){var f=o(16),d=o(79).map;f({target:"Array",proto:!0,forced:!o(81)("map")},{map:function(O){return d(this,O,arguments.length>1?arguments[1]:void 0)}})},function(s,p,o){var f=o(7),d=o(36),O=o(133),v=o(32),E=o(86),M=f.TypeError,A=Object.defineProperty;p.f=d?A:function(T,k,I){if(v(T),k=E(k),v(I),O)try{return A(T,k,I)}catch(C){}if("get"in I||"set"in I)throw M("Accessors not supported");return"value"in I&&(T[k]=I.value),T}},function(s,p,o){var f=o(7),d=o(97),O=f.String;s.exports=function(v){if(d(v)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return O(v)}},function(s,p,o){var f=o(7),d=o(44),O=f.Object;s.exports=function(v){return O(d(v))}},function(s,p,o){var f=o(85),d=o(44);s.exports=function(O){return f(d(O))}},function(s,p,o){var f=o(7),d=o(30),O=o(35),v=o(57),E=o(110),M=o(92),A=o(58),T=o(73).CONFIGURABLE,k=A.get,I=A.enforce,C=String(String).split("String");(s.exports=function(L,G,W,ee){var ue,oe=!!ee&&!!ee.unsafe,J=!!ee&&!!ee.enumerable,Q=!!ee&&!!ee.noTargetGet,V=ee&&ee.name!==void 0?ee.name:G;d(W)&&(String(V).slice(0,7)==="Symbol("&&(V="["+String(V).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!O(W,"name")||T&&W.name!==V)&&v(W,"name",V),(ue=I(W)).source||(ue.source=C.join(typeof V=="string"?V:""))),L!==f?(oe?!Q&&L[G]&&(J=!0):delete L[G],J?L[G]=W:v(L,G,W)):J?L[G]=W:E(G,W)})(Function.prototype,"toString",function(){return d(this)&&k(this).source||M(this)})},function(s,p,o){(function(f){o.d(p,"d",function(){return v}),o.d(p,"c",function(){return E}),o.d(p,"b",function(){return M}),o.d(p,"a",function(){return T});var d=o(10),O=function(k,I){var C=typeof Symbol=="function"&&k[Symbol.iterator];if(!C)return k;var L,G,W=C.call(k),ee=[];try{for(;(I===void 0||I-- >0)&&!(L=W.next()).done;)ee.push(L.value)}catch(ue){G={error:ue}}finally{try{L&&!L.done&&(C=W.return)&&C.call(W)}finally{if(G)throw G.error}}return ee};function v(){var k=O(Object(d.j)(0),2)[1];return Object(d.h)(function(){k(function(I){return I+1})},[])}function E(k){if(!k||typeof k!="object")return!1;var I=Object.getPrototypeOf(k);return!I||I===Object.prototype}function M(k){return typeof Symbol=="function"?Symbol.for(k):"__$mobx-react "+k+"__"}var A={};function T(){return typeof window!="undefined"?window:f!==void 0?f:typeof self!="undefined"?self:A}}).call(this,o(68))},function(s,p,o){var f=o(7).TypeError;s.exports=function(d){if(d==null)throw f("Can't call method on "+d);return d}},function(s,p,o){var f=o(94);s.exports=function(d){return f(d.length)}},function(s,p,o){var f=o(7),d=o(30),O=function(v){return d(v)?v:void 0};s.exports=function(v,E){return arguments.length<2?O(f[v]):f[v]&&f[v][E]}},function(s,p,o){var f=o(16),d=o(34),O=o(33),v=o(32),E=o(204),M=o(50),A=o(101);f({target:"Reflect",stat:!0},{get:function T(k,I){var C,L,G=arguments.length<3?k:arguments[2];return v(k)===G?k[I]:(C=M.f(k,I))?E(C)?C.value:C.get===void 0?void 0:d(C.get,G):O(L=A(k))?T(L,I,G):void 0}})},function(s,p,o){(function(f){var d=o(31),O=o(171),v=y&&!y.nodeType&&y,E=v&&typeof f=="object"&&f&&!f.nodeType&&f,M=E&&E.exports===v?d.a.Buffer:void 0,A=(M?M.isBuffer:void 0)||O.a;p.a=A}).call(this,o(122)(s))},function(s,p,o){(function(f){var d=o(106),O=y&&!y.nodeType&&y,v=O&&typeof f=="object"&&f&&!f.nodeType&&f,E=v&&v.exports===O&&d.a.process,M=function(){try{var A=v&&v.require&&v.require("util").types;return A||E&&E.binding&&E.binding("util")}catch(T){}}();p.a=M}).call(this,o(122)(s))},function(s,p,o){var f=o(36),d=o(34),O=o(84),v=o(69),E=o(41),M=o(86),A=o(35),T=o(133),k=Object.getOwnPropertyDescriptor;p.f=f?k:function(I,C){if(I=E(I),C=M(C),T)try{return k(I,C)}catch(L){}if(A(I,C))return v(!d(O.f,I,C),I[C])}},function(s,p,o){var f=o(15),d=f({}.toString),O=f("".slice);s.exports=function(v){return O(d(v),8,-1)}},function(s,p,o){o(182)("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},o(186))},function(s,p,o){var f=o(16),d=o(220).entries;f({target:"Object",stat:!0},{entries:function(O){return d(O)}})},function(s,p,o){var f=o(15);s.exports=f({}.isPrototypeOf)},function(s,p,o){var f=o(46);s.exports=f("navigator","userAgent")||""},function(s,p,o){var f=o(7),d=o(30),O=o(88),v=f.TypeError;s.exports=function(E){if(d(E))return E;throw v(O(E)+" is not a function")}},function(s,p,o){var f=o(36),d=o(38),O=o(69);s.exports=f?function(v,E,M){return d.f(v,E,O(1,M))}:function(v,E,M){return v[E]=M,v}},function(s,p,o){var f,d,O,v=o(175),E=o(7),M=o(15),A=o(33),T=o(57),k=o(35),I=o(109),C=o(93),L=o(72),G="Object already initialized",W=E.TypeError,ee=E.WeakMap;if(v||I.state){var ue=I.state||(I.state=new ee),oe=M(ue.get),J=M(ue.has),Q=M(ue.set);f=function(B,X){if(J(ue,B))throw new W(G);return X.facade=B,Q(ue,B,X),X},d=function(B){return oe(ue,B)||{}},O=function(B){return J(ue,B)}}else{var V=C("state");L[V]=!0,f=function(B,X){if(k(B,V))throw new W(G);return X.facade=B,T(B,V,X),X},d=function(B){return k(B,V)?B[V]:{}},O=function(B){return k(B,V)}}s.exports={set:f,get:d,has:O,enforce:function(B){return O(B)?d(B):f(B,{})},getterFor:function(B){return function(X){var Y;if(!A(X)||(Y=d(X)).type!==B)throw W("Incompatible receiver, "+B+" required");return Y}}}},function(s,p){var o=Math.ceil,f=Math.floor;s.exports=function(d){var O=+d;return O!=O||O===0?0:(O>0?f:o)(O)}},function(s,p,o){var f,d=o(32),O=o(176),v=o(111),E=o(72),M=o(138),A=o(91),T=o(93),k=T("IE_PROTO"),I=function(){},C=function(W){return"<script>"+W+"<\/script>"},L=function(W){W.write(C("")),W.close();var ee=W.parentWindow.Object;return W=null,ee},G=function(){try{f=new ActiveXObject("htmlfile")}catch(oe){}var W,ee;G=typeof document!="undefined"?document.domain&&f?L(f):((ee=A("iframe")).style.display="none",M.appendChild(ee),ee.src="javascript:",(W=ee.contentWindow.document).open(),W.write(C("document.F=Object")),W.close(),W.F):L(f);for(var ue=v.length;ue--;)delete G.prototype[v[ue]];return G()};E[k]=!0,s.exports=Object.create||function(W,ee){var ue;return W!==null?(I.prototype=d(W),ue=new I,I.prototype=null,ue[k]=W):ue=G(),ee===void 0?ue:O(ue,ee)}},function(s,p,o){var f=o(36),d=o(7),O=o(15),v=o(95),E=o(42),M=o(35),A=o(148),T=o(54),k=o(87),I=o(131),C=o(18),L=o(74).f,G=o(50).f,W=o(38).f,ee=o(160),ue=o(161).trim,oe="Number",J=d.Number,Q=J.prototype,V=d.TypeError,B=O("".slice),X=O("".charCodeAt),Y=function(Be){var Se=I(Be,"number");return typeof Se=="bigint"?Se:$(Se)},$=function(Be){var Se,ve,je,Ae,Ue,rt,Ot,Ve,Ze=I(Be,"number");if(k(Ze))throw V("Cannot convert a Symbol value to a number");if(typeof Ze=="string"&&Ze.length>2){if(Ze=ue(Ze),(Se=X(Ze,0))===43||Se===45){if((ve=X(Ze,2))===88||ve===120)return NaN}else if(Se===48){switch(X(Ze,1)){case 66:case 98:je=2,Ae=49;break;case 79:case 111:je=8,Ae=55;break;default:return+Ze}for(rt=(Ue=B(Ze,2)).length,Ot=0;Ot<rt;Ot++)if((Ve=X(Ue,Ot))<48||Ve>Ae)return NaN;return parseInt(Ue,je)}}return+Ze};if(v(oe,!J(" 0o1")||!J("0b1")||J("+0x1"))){for(var ie,xe=function(Be){var Se=arguments.length<1?0:J(Y(Be)),ve=this;return T(Q,ve)&&C(function(){ee(ve)})?A(Object(Se),ve,xe):Se},ge=f?L(J):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Pe=0;ge.length>Pe;Pe++)M(J,ie=ge[Pe])&&!M(xe,ie)&&W(xe,ie,G(J,ie));xe.prototype=Q,Q.constructor=xe,E(d,oe,xe)}},function(s,p,o){var f=o(56);s.exports=function(d,O){var v=d[O];return v==null?void 0:f(v)}},function(s,p,o){var f=o(86),d=o(38),O=o(69);s.exports=function(v,E,M){var A=f(E);A in v?d.f(v,A,O(0,M)):v[A]=M}},function(s,p,o){var f=o(15),d=o(56),O=f(f.bind);s.exports=function(v,E){return d(v),E===void 0?v:O?O(v,E):function(){return v.apply(E,arguments)}}},function(s,p,o){var f=o(16),d=o(15),O=o(85),v=o(41),E=o(121),M=d([].join),A=O!=Object,T=E("join",",");f({target:"Array",proto:!0,forced:A||!T},{join:function(k){return M(v(this),k===void 0?",":k)}})},function(s,p,o){var f=o(15),d=o(73).PROPER,O=o(42),v=o(32),E=o(54),M=o(39),A=o(18),T=o(154),k="toString",I=RegExp.prototype,C=I.toString,L=f(T),G=A(function(){return C.call({source:"a",flags:"b"})!="/a/b"}),W=d&&C.name!=k;(G||W)&&O(RegExp.prototype,k,function(){var ee=v(this),ue=M(ee.source),oe=ee.flags;return"/"+ue+"/"+M(oe===void 0&&E(I,ee)&&!("flags"in I)?L(ee):oe)},{unsafe:!0})},function(s,p,o){var f=o(16),d=o(217),O=o(100);f({target:"Array",proto:!0},{fill:d}),O("fill")},function(s,p){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(f){typeof window=="object"&&(o=window)}s.exports=o},function(s,p){s.exports=function(o,f){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:f}}},function(s,p,o){var f,d,O=o(7),v=o(55),E=O.process,M=O.Deno,A=E&&E.versions||M&&M.version,T=A&&A.v8;T&&(d=(f=T.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!d&&v&&(!(f=v.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=v.match(/Chrome\/(\d+)/))&&(d=+f[1]),s.exports=d},function(s,p){s.exports=!1},function(s,p){s.exports={}},function(s,p,o){var f=o(36),d=o(35),O=Function.prototype,v=f&&Object.getOwnPropertyDescriptor,E=d(O,"name"),M=E&&function(){}.name==="something",A=E&&(!f||f&&v(O,"name").configurable);s.exports={EXISTS:E,PROPER:M,CONFIGURABLE:A}},function(s,p,o){var f=o(136),d=o(111).concat("length","prototype");p.f=Object.getOwnPropertyNames||function(O){return f(O,d)}},function(s,p,o){var f=o(59),d=Math.max,O=Math.min;s.exports=function(v,E){var M=f(v);return M<0?d(M+E,0):O(M,E)}},function(s,p){var o=Function.prototype,f=o.apply,d=o.bind,O=o.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(d?O.bind(f):function(){return O.apply(f,arguments)})},function(s,p,o){var f=o(136),d=o(111);s.exports=Object.keys||function(O){return f(O,d)}},function(s,p,o){var f=o(38).f,d=o(35),O=o(28)("toStringTag");s.exports=function(v,E,M){v&&!d(v=M?v:v.prototype,O)&&f(v,O,{configurable:!0,value:E})}},function(s,p,o){var f=o(64),d=o(15),O=o(85),v=o(40),E=o(45),M=o(115),A=d([].push),T=function(k){var I=k==1,C=k==2,L=k==3,G=k==4,W=k==6,ee=k==7,ue=k==5||W;return function(oe,J,Q,V){for(var B,X,Y=v(oe),$=O(Y),ie=f(J,Q),xe=E($),ge=0,Pe=V||M,Be=I?Pe(oe,xe):C||ee?Pe(oe,0):void 0;xe>ge;ge++)if((ue||ge in $)&&(X=ie(B=$[ge],ge,Y),k))if(I)Be[ge]=X;else if(X)switch(k){case 3:return!0;case 5:return B;case 6:return ge;case 2:A(Be,B)}else switch(k){case 4:return!1;case 7:A(Be,B)}return W?-1:L||G?G:Be}};s.exports={forEach:T(0),map:T(1),filter:T(2),some:T(3),every:T(4),find:T(5),findIndex:T(6),filterReject:T(7)}},function(s,p){s.exports={}},function(s,p,o){var f=o(18),d=o(28),O=o(70),v=d("species");s.exports=function(E){return O>=51||!f(function(){var M=[];return(M.constructor={})[v]=function(){return{foo:1}},M[E](Boolean).foo!==1})}},function(s,p,o){var f=o(76),d=o(34),O=o(15),v=o(123),E=o(159),M=o(32),A=o(44),T=o(164),k=o(124),I=o(94),C=o(39),L=o(62),G=o(114),W=o(125),ee=o(103),ue=o(155),oe=o(18),J=ue.UNSUPPORTED_Y,Q=4294967295,V=Math.min,B=[].push,X=O(/./.exec),Y=O(B),$=O("".slice),ie=!oe(function(){var xe=/(?:)/,ge=xe.exec;xe.exec=function(){return ge.apply(this,arguments)};var Pe="ab".split(xe);return Pe.length!==2||Pe[0]!=="a"||Pe[1]!=="b"});v("split",function(xe,ge,Pe){var Be;return Be="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(Se,ve){var je=C(A(this)),Ae=ve===void 0?Q:ve>>>0;if(Ae===0)return[];if(Se===void 0)return[je];if(!E(Se))return d(ge,je,Se,Ae);for(var Ue,rt,Ot,Ve=[],Ze=(Se.ignoreCase?"i":"")+(Se.multiline?"m":"")+(Se.unicode?"u":"")+(Se.sticky?"y":""),gt=0,ce=new RegExp(Se.source,Ze+"g");(Ue=d(ee,ce,je))&&!((rt=ce.lastIndex)>gt&&(Y(Ve,$(je,gt,Ue.index)),Ue.length>1&&Ue.index<je.length&&f(B,Ve,G(Ue,1)),Ot=Ue[0].length,gt=rt,Ve.length>=Ae));)ce.lastIndex===Ue.index&&ce.lastIndex++;return gt===je.length?!Ot&&X(ce,"")||Y(Ve,""):Y(Ve,$(je,gt)),Ve.length>Ae?G(Ve,0,Ae):Ve}:"0".split(void 0,0).length?function(Se,ve){return Se===void 0&&ve===0?[]:d(ge,this,Se,ve)}:ge,[function(Se,ve){var je=A(this),Ae=Se==null?void 0:L(Se,xe);return Ae?d(Ae,Se,je,ve):d(Be,C(je),Se,ve)},function(Se,ve){var je=M(this),Ae=C(Se),Ue=Pe(Be,je,Ae,ve,Be!==ge);if(Ue.done)return Ue.value;var rt=T(je,RegExp),Ot=je.unicode,Ve=(je.ignoreCase?"i":"")+(je.multiline?"m":"")+(je.unicode?"u":"")+(J?"g":"y"),Ze=new rt(J?"^(?:"+je.source+")":je,Ve),gt=ve===void 0?Q:ve>>>0;if(gt===0)return[];if(Ae.length===0)return W(Ze,Ae)===null?[Ae]:[];for(var ce=0,ae=0,he=[];ae<Ae.length;){Ze.lastIndex=J?0:ae;var Te,Xe=W(Ze,J?$(Ae,ae):Ae);if(Xe===null||(Te=V(I(Ze.lastIndex+(J?ae:0)),Ae.length))===ce)ae=k(Ae,ae,Ot);else{if(Y(he,$(Ae,ce,ae)),he.length===gt)return he;for(var ze=1;ze<=Xe.length-1;ze++)if(Y(he,Xe[ze]),he.length===gt)return he;ae=ce=Te}}return Y(he,$(Ae,ce)),he}]},!ie,J)},function(s,p,o){o(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(s,p,o){var f={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,O=d&&!f.call({1:2},1);p.f=O?function(v){var E=d(this,v);return!!E&&E.enumerable}:f},function(s,p,o){var f=o(7),d=o(15),O=o(18),v=o(51),E=f.Object,M=d("".split);s.exports=O(function(){return!E("z").propertyIsEnumerable(0)})?function(A){return v(A)=="String"?M(A,""):E(A)}:E},function(s,p,o){var f=o(131),d=o(87);s.exports=function(O){var v=f(O,"string");return d(v)?v:v+""}},function(s,p,o){var f=o(7),d=o(46),O=o(30),v=o(54),E=o(132),M=f.Object;s.exports=E?function(A){return typeof A=="symbol"}:function(A){var T=d("Symbol");return O(T)&&v(T.prototype,M(A))}},function(s,p,o){var f=o(7).String;s.exports=function(d){try{return f(d)}catch(O){return"Object"}}},function(s,p,o){var f=o(71),d=o(109);(s.exports=function(O,v){return d[O]||(d[O]=v!==void 0?v:{})})("versions",[]).push({version:"3.19.3",mode:f?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(s,p,o){var f=o(15),d=0,O=Math.random(),v=f(1 .toString);s.exports=function(E){return"Symbol("+(E===void 0?"":E)+")_"+v(++d+O,36)}},function(s,p,o){var f=o(7),d=o(33),O=f.document,v=d(O)&&d(O.createElement);s.exports=function(E){return v?O.createElement(E):{}}},function(s,p,o){var f=o(15),d=o(30),O=o(109),v=f(Function.toString);d(O.inspectSource)||(O.inspectSource=function(E){return v(E)}),s.exports=O.inspectSource},function(s,p,o){var f=o(89),d=o(90),O=f("keys");s.exports=function(v){return O[v]||(O[v]=d(v))}},function(s,p,o){var f=o(59),d=Math.min;s.exports=function(O){return O>0?d(f(O),9007199254740991):0}},function(s,p,o){var f=o(18),d=o(30),O=/#|\.prototype\./,v=function(k,I){var C=M[E(k)];return C==T||C!=A&&(d(I)?f(I):!!I)},E=v.normalize=function(k){return String(k).replace(O,".").toLowerCase()},M=v.data={},A=v.NATIVE="N",T=v.POLYFILL="P";s.exports=v},function(s,p,o){var f=o(51);s.exports=Array.isArray||function(d){return f(d)=="Array"}},function(s,p,o){var f=o(7),d=o(113),O=o(30),v=o(51),E=o(28)("toStringTag"),M=f.Object,A=v(function(){return arguments}())=="Arguments";s.exports=d?v:function(T){var k,I,C;return T===void 0?"Undefined":T===null?"Null":typeof(I=function(L,G){try{return L[G]}catch(W){}}(k=M(T),E))=="string"?I:A?v(k):(C=v(k))=="Object"&&O(k.callee)?"Arguments":C}},function(s,p,o){var f=o(15);s.exports=f([].slice)},function(s,p,o){var f=o(15),d=o(18),O=o(30),v=o(97),E=o(46),M=o(92),A=function(){},T=[],k=E("Reflect","construct"),I=/^\s*(?:class|function)\b/,C=f(I.exec),L=!I.exec(A),G=function(W){if(!O(W))return!1;try{return k(A,T,W),!0}catch(ee){return!1}};s.exports=!k||d(function(){var W;return G(G.call)||!G(Object)||!G(function(){W=!0})||W})?function(W){if(!O(W))return!1;switch(v(W)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return L||!!C(I,M(W))}:G},function(s,p,o){var f=o(28),d=o(60),O=o(38),v=f("unscopables"),E=Array.prototype;E[v]==null&&O.f(E,v,{configurable:!0,value:d(null)}),s.exports=function(M){E[v][M]=!0}},function(s,p,o){var f=o(7),d=o(35),O=o(30),v=o(40),E=o(93),M=o(143),A=E("IE_PROTO"),T=f.Object,k=T.prototype;s.exports=M?T.getPrototypeOf:function(I){var C=v(I);if(d(C,A))return C[A];var L=C.constructor;return O(L)&&C instanceof L?L.prototype:C instanceof T?k:null}},function(s,p,o){var f=o(15),d=o(32),O=o(181);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var v,E=!1,M={};try{(v=f(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(M,[]),E=M instanceof Array}catch(A){}return function(A,T){return d(A),O(T),E?v(A,T):A.__proto__=T,A}}():void 0)},function(s,p,o){var f,d,O=o(34),v=o(15),E=o(39),M=o(154),A=o(155),T=o(89),k=o(60),I=o(58).get,C=o(190),L=o(191),G=T("native-string-replace",String.prototype.replace),W=RegExp.prototype.exec,ee=W,ue=v("".charAt),oe=v("".indexOf),J=v("".replace),Q=v("".slice),V=(d=/b*/g,O(W,f=/a/,"a"),O(W,d,"a"),f.lastIndex!==0||d.lastIndex!==0),B=A.BROKEN_CARET,X=/()??/.exec("")[1]!==void 0;(V||X||B||C||L)&&(ee=function(Y){var $,ie,xe,ge,Pe,Be,Se,ve=this,je=I(ve),Ae=E(Y),Ue=je.raw;if(Ue)return Ue.lastIndex=ve.lastIndex,$=O(ee,Ue,Ae),ve.lastIndex=Ue.lastIndex,$;var rt=je.groups,Ot=B&&ve.sticky,Ve=O(M,ve),Ze=ve.source,gt=0,ce=Ae;if(Ot&&(Ve=J(Ve,"y",""),oe(Ve,"g")===-1&&(Ve+="g"),ce=Q(Ae,ve.lastIndex),ve.lastIndex>0&&(!ve.multiline||ve.multiline&&ue(Ae,ve.lastIndex-1)!==`
`)&&(Ze="(?: "+Ze+")",ce=" "+ce,gt++),ie=new RegExp("^(?:"+Ze+")",Ve)),X&&(ie=new RegExp("^"+Ze+"$(?!\\s)",Ve)),V&&(xe=ve.lastIndex),ge=O(W,Ot?ie:ve,ce),Ot?ge?(ge.input=Q(ge.input,gt),ge[0]=Q(ge[0],gt),ge.index=ve.lastIndex,ve.lastIndex+=ge[0].length):ve.lastIndex=0:V&&ge&&(ve.lastIndex=ve.global?ge.index+ge[0].length:xe),X&&ge&&ge.length>1&&O(G,ge[0],ie,function(){for(Pe=1;Pe<arguments.length-2;Pe++)arguments[Pe]===void 0&&(ge[Pe]=void 0)}),ge&&rt)for(ge.groups=Be=k(null),Pe=0;Pe<rt.length;Pe++)Be[(Se=rt[Pe])[0]]=ge[Se[1]];return ge}),s.exports=ee},function(s,p,o){var f=o(16),d=o(7),O=o(75),v=o(59),E=o(45),M=o(40),A=o(115),T=o(63),k=o(81)("splice"),I=d.TypeError,C=Math.max,L=Math.min,G=9007199254740991,W="Maximum allowed length exceeded";f({target:"Array",proto:!0,forced:!k},{splice:function(ee,ue){var oe,J,Q,V,B,X,Y=M(this),$=E(Y),ie=O(ee,$),xe=arguments.length;if(xe===0?oe=J=0:xe===1?(oe=0,J=$-ie):(oe=xe-2,J=L(C(v(ue),0),$-ie)),$+oe-J>G)throw I(W);for(Q=A(Y,J),V=0;V<J;V++)(B=ie+V)in Y&&T(Q,V,Y[B]);if(Q.length=J,oe<J){for(V=ie;V<$-J;V++)X=V+oe,(B=V+J)in Y?Y[X]=Y[B]:delete Y[X];for(V=$;V>$-J+oe;V--)delete Y[V-1]}else if(oe>J)for(V=$-J;V>ie;V--)X=V+oe-1,(B=V+J-1)in Y?Y[X]=Y[B]:delete Y[X];for(V=0;V<oe;V++)Y[V+ie]=arguments[V+2];return Y.length=$-J+oe,Q}})},function(s,p,o){var f=o(16),d=o(205);f({target:"String",proto:!0,forced:o(206)("anchor")},{anchor:function(O){return d(this,"a","name",O)}})},function(s,p,o){(function(f){var d=typeof f=="object"&&f&&f.Object===Object&&f;p.a=d}).call(this,o(68))},function(s,p,o){(function(f){var d=o(31),O=y&&!y.nodeType&&y,v=O&&typeof f=="object"&&f&&!f.nodeType&&f,E=v&&v.exports===O?d.a.Buffer:void 0,M=E?E.allocUnsafe:void 0;p.a=function(A,T){if(T)return A.slice();var k=A.length,I=M?M(k):new A.constructor(k);return A.copy(I),I}}).call(this,o(122)(s))},function(s,p,o){var f=o(70),d=o(18);s.exports=!!Object.getOwnPropertySymbols&&!d(function(){var O=Symbol();return!String(O)||!(Object(O)instanceof Symbol)||!Symbol.sham&&f&&f<41})},function(s,p,o){var f=o(7),d=o(110),O="__core-js_shared__",v=f[O]||d(O,{});s.exports=v},function(s,p,o){var f=o(7),d=Object.defineProperty;s.exports=function(O,v){try{d(f,O,{value:v,configurable:!0,writable:!0})}catch(E){f[O]=v}return v}},function(s,p){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(s,p){p.f=Object.getOwnPropertySymbols},function(s,p,o){var f={};f[o(28)("toStringTag")]="z",s.exports=String(f)==="[object z]"},function(s,p,o){var f=o(7),d=o(75),O=o(45),v=o(63),E=f.Array,M=Math.max;s.exports=function(A,T,k){for(var I=O(A),C=d(T,I),L=d(k===void 0?I:k,I),G=E(M(L-C,0)),W=0;C<L;C++,W++)v(G,W,A[C]);return G.length=W,G}},function(s,p,o){var f=o(178);s.exports=function(d,O){return new(f(d))(O===0?0:O)}},function(s,p,o){var f=o(16),d=o(34),O=o(71),v=o(73),E=o(30),M=o(180),A=o(101),T=o(102),k=o(78),I=o(57),C=o(42),L=o(28),G=o(80),W=o(142),ee=v.PROPER,ue=v.CONFIGURABLE,oe=W.IteratorPrototype,J=W.BUGGY_SAFARI_ITERATORS,Q=L("iterator"),V="keys",B="values",X="entries",Y=function(){return this};s.exports=function($,ie,xe,ge,Pe,Be,Se){M(xe,ie,ge);var ve,je,Ae,Ue=function(ae){if(ae===Pe&&gt)return gt;if(!J&&ae in Ve)return Ve[ae];switch(ae){case V:case B:case X:return function(){return new xe(this,ae)}}return function(){return new xe(this)}},rt=ie+" Iterator",Ot=!1,Ve=$.prototype,Ze=Ve[Q]||Ve["@@iterator"]||Pe&&Ve[Pe],gt=!J&&Ze||Ue(Pe),ce=ie=="Array"&&Ve.entries||Ze;if(ce&&(ve=A(ce.call(new $)))!==Object.prototype&&ve.next&&(O||A(ve)===oe||(T?T(ve,oe):E(ve[Q])||C(ve,Q,Y)),k(ve,rt,!0,!0),O&&(G[rt]=Y)),ee&&Pe==B&&Ze&&Ze.name!==B&&(!O&&ue?I(Ve,"name",B):(Ot=!0,gt=function(){return d(Ze,this)})),Pe)if(je={values:Ue(B),keys:Be?gt:Ue(V),entries:Ue(X)},Se)for(Ae in je)(J||Ot||!(Ae in Ve))&&C(Ve,Ae,je[Ae]);else f({target:ie,proto:!0,forced:J||Ot},je);return O&&!Se||Ve[Q]===gt||C(Ve,Q,gt,{name:Pe}),G[ie]=gt,je}},function(s,p,o){var f=o(7),d=o(64),O=o(34),v=o(32),E=o(88),M=o(145),A=o(45),T=o(54),k=o(146),I=o(118),C=o(147),L=f.TypeError,G=function(ee,ue){this.stopped=ee,this.result=ue},W=G.prototype;s.exports=function(ee,ue,oe){var J,Q,V,B,X,Y,$,ie=oe&&oe.that,xe=!(!oe||!oe.AS_ENTRIES),ge=!(!oe||!oe.IS_ITERATOR),Pe=!(!oe||!oe.INTERRUPTED),Be=d(ue,ie),Se=function(je){return J&&C(J,"normal",je),new G(!0,je)},ve=function(je){return xe?(v(je),Pe?Be(je[0],je[1],Se):Be(je[0],je[1])):Pe?Be(je,Se):Be(je)};if(ge)J=ee;else{if(!(Q=I(ee)))throw L(E(ee)+" is not iterable");if(M(Q)){for(V=0,B=A(ee);B>V;V++)if((X=ve(ee[V]))&&T(W,X))return X;return new G(!1)}J=k(ee,Q)}for(Y=J.next;!($=O(Y,J)).done;){try{X=ve($.value)}catch(je){C(J,"throw",je)}if(typeof X=="object"&&X&&T(W,X))return X}return new G(!1)}},function(s,p,o){var f=o(97),d=o(62),O=o(80),v=o(28)("iterator");s.exports=function(E){if(E!=null)return d(E,v)||d(E,"@@iterator")||O[f(E)]}},function(s,p,o){var f=o(7),d=o(54),O=f.TypeError;s.exports=function(v,E){if(d(E,v))return v;throw O("Incorrect invocation")}},function(s,p,o){var f=o(28)("iterator"),d=!1;try{var O=0,v={next:function(){return{done:!!O++}},return:function(){d=!0}};v[f]=function(){return this},Array.from(v,function(){throw 2})}catch(E){}s.exports=function(E,M){if(!M&&!d)return!1;var A=!1;try{var T={};T[f]=function(){return{next:function(){return{done:A=!0}}}},E(T)}catch(k){}return A}},function(s,p,o){var f=o(18);s.exports=function(d,O){var v=[][d];return!!v&&f(function(){v.call(null,O||function(){throw 1},1)})}},function(s,p){s.exports=function(o){if(!o.webpackPolyfill){var f=Object.create(o);f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),Object.defineProperty(f,"exports",{enumerable:!0}),f.webpackPolyfill=1}return f}},function(s,p,o){o(19);var f=o(15),d=o(42),O=o(103),v=o(18),E=o(28),M=o(57),A=E("species"),T=RegExp.prototype;s.exports=function(k,I,C,L){var G=E(k),W=!v(function(){var J={};return J[G]=function(){return 7},""[k](J)!=7}),ee=W&&!v(function(){var J=!1,Q=/a/;return k==="split"&&((Q={}).constructor={},Q.constructor[A]=function(){return Q},Q.flags="",Q[G]=/./[G]),Q.exec=function(){return J=!0,null},Q[G](""),!J});if(!W||!ee||C){var ue=f(/./[G]),oe=I(G,""[k],function(J,Q,V,B,X){var Y=f(J),$=Q.exec;return $===O||$===T.exec?W&&!X?{done:!0,value:ue(Q,V,B)}:{done:!0,value:Y(V,Q,B)}:{done:!1}});d(String.prototype,k,oe[0]),d(T,G,oe[1])}L&&M(T[G],"sham",!0)}},function(s,p,o){var f=o(151).charAt;s.exports=function(d,O,v){return O+(v?f(d,O).length:1)}},function(s,p,o){var f=o(7),d=o(34),O=o(32),v=o(30),E=o(51),M=o(103),A=f.TypeError;s.exports=function(T,k){var I=T.exec;if(v(I)){var C=d(I,T,k);return C!==null&&O(C),C}if(E(T)==="RegExp")return d(M,T,k);throw A("RegExp#exec called on incompatible receiver")}},function(s,p,o){var f=o(76),d=o(34),O=o(15),v=o(123),E=o(18),M=o(32),A=o(30),T=o(59),k=o(94),I=o(39),C=o(44),L=o(124),G=o(62),W=o(201),ee=o(125),ue=o(28)("replace"),oe=Math.max,J=Math.min,Q=O([].concat),V=O([].push),B=O("".indexOf),X=O("".slice),Y="a".replace(/./,"$0")==="$0",$=!!/./[ue]&&/./[ue]("a","$0")==="";v("replace",function(ie,xe,ge){var Pe=$?"$":"$0";return[function(Be,Se){var ve=C(this),je=Be==null?void 0:G(Be,ue);return je?d(je,Be,ve,Se):d(xe,I(ve),Be,Se)},function(Be,Se){var ve=M(this),je=I(Be);if(typeof Se=="string"&&B(Se,Pe)===-1&&B(Se,"$<")===-1){var Ae=ge(xe,ve,je,Se);if(Ae.done)return Ae.value}var Ue=A(Se);Ue||(Se=I(Se));var rt=ve.global;if(rt){var Ot=ve.unicode;ve.lastIndex=0}for(var Ve=[];;){var Ze=ee(ve,je);if(Ze===null||(V(Ve,Ze),!rt))break;I(Ze[0])===""&&(ve.lastIndex=L(je,k(ve.lastIndex),Ot))}for(var gt,ce="",ae=0,he=0;he<Ve.length;he++){for(var Te=I((Ze=Ve[he])[0]),Xe=oe(J(T(Ze.index),je.length),0),ze=[],wt=1;wt<Ze.length;wt++)V(ze,(gt=Ze[wt])===void 0?gt:String(gt));var Tt=Ze.groups;if(Ue){var jt=Q([Te],ze,Xe,je);Tt!==void 0&&V(jt,Tt);var yt=I(f(Se,void 0,jt))}else yt=W(Te,je,Xe,ze,Tt,Se);Xe>=ae&&(ce+=X(je,ae,Xe)+yt,ae=Xe+Te.length)}return ce+X(je,ae)}]},!!E(function(){var ie=/./;return ie.exec=function(){var xe=[];return xe.groups={a:"7"},xe},"".replace(ie,"$<a>")!=="7"})||!Y||$)},function(s,p,o){var f=o(16),d=Math.hypot,O=Math.abs,v=Math.sqrt;f({target:"Math",stat:!0,forced:!!d&&d(1/0,NaN)!==1/0},{hypot:function(E,M){for(var A,T,k=0,I=0,C=arguments.length,L=0;I<C;)L<(A=O(arguments[I++]))?(k=k*(T=L/A)*T+1,L=A):k+=A>0?(T=A/L)*T:A;return L===1/0?1/0:L*v(k)}})},function(s,p,o){var f=o(51),d=o(7);s.exports=f(d.process)=="process"},function(s,p,o){o(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(s,p,o){(function(f,d){var O;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var v,E="Expected a function",M="__lodash_hash_undefined__",A="__lodash_placeholder__",T=16,k=32,I=64,C=128,L=256,G=1/0,W=9007199254740991,ee=NaN,ue=4294967295,oe=[["ary",C],["bind",1],["bindKey",2],["curry",8],["curryRight",T],["flip",512],["partial",k],["partialRight",I],["rearg",L]],J="[object Arguments]",Q="[object Array]",V="[object Boolean]",B="[object Date]",X="[object Error]",Y="[object Function]",$="[object GeneratorFunction]",ie="[object Map]",xe="[object Number]",ge="[object Object]",Pe="[object Promise]",Be="[object RegExp]",Se="[object Set]",ve="[object String]",je="[object Symbol]",Ae="[object WeakMap]",Ue="[object ArrayBuffer]",rt="[object DataView]",Ot="[object Float32Array]",Ve="[object Float64Array]",Ze="[object Int8Array]",gt="[object Int16Array]",ce="[object Int32Array]",ae="[object Uint8Array]",he="[object Uint8ClampedArray]",Te="[object Uint16Array]",Xe="[object Uint32Array]",ze=/\b__p \+= '';/g,wt=/\b(__p \+=) '' \+/g,Tt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jt=/&(?:amp|lt|gt|quot|#39);/g,yt=/[&<>"']/g,Me=RegExp(jt.source),st=RegExp(yt.source),le=/<%-([\s\S]+?)%>/g,it=/<%([\s\S]+?)%>/g,Lt=/<%=([\s\S]+?)%>/g,on=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zt=/^\w*$/,Zt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fn=/[\\^$.*+?()[\]{}|]/g,_n=RegExp(fn.source),Ct=/^\s+/,Nn=/\s/,q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pe=/\{\n\/\* \[wrapped with (.+)\] \*/,re=/,? & /,be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,We=/[()=,{}\[\]\/\s]/,Ke=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xt=/\w*$/,Yn=/^[-+]0x[0-9a-f]+$/i,Qn=/^0b[01]+$/i,Cn=/^\[object .+?Constructor\]$/,zn=/^0o[0-7]+$/i,at=/^(?:0|[1-9]\d*)$/,bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xt=/($^)/,Rt=/['\n\r\u2028\u2029\\]/g,sn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Sn="\\u2700-\\u27bf",mo="a-z\\xdf-\\xf6\\xf8-\\xff",ro="A-Z\\xc0-\\xd6\\xd8-\\xde",bo="\\ufe0e\\ufe0f",ai="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Os="['’]",Ha="[\\ud800-\\udfff]",Cr="["+ai+"]",Ii="["+sn+"]",lt="\\d+",ws="[\\u2700-\\u27bf]",Ya="["+mo+"]",Va="[^\\ud800-\\udfff"+ai+lt+Sn+mo+ro+"]",yr="\\ud83c[\\udffb-\\udfff]",Er="[^\\ud800-\\udfff]",aa="(?:\\ud83c[\\udde6-\\uddff]){2}",Wr="[\\ud800-\\udbff][\\udc00-\\udfff]",Rr="["+ro+"]",Kr="(?:"+Ya+"|"+Va+")",Wa="(?:"+Rr+"|"+Va+")",Ka="(?:['’](?:d|ll|m|re|s|t|ve))?",qu="(?:['’](?:D|LL|M|RE|S|T|VE))?",Li="(?:"+Ii+"|"+yr+")?",Zu="[\\ufe0e\\ufe0f]?",$a=Zu+Li+("(?:\\u200d(?:"+[Er,aa,Wr].join("|")+")"+Zu+Li+")*"),xs="(?:"+[ws,aa,Wr].join("|")+")"+$a,Lo="(?:"+[Er+Ii+"?",Ii,aa,Wr,Ha].join("|")+")",Ju=RegExp(Os,"g"),_o=RegExp(Ii,"g"),qa=RegExp(yr+"(?="+yr+")|"+Lo+$a,"g"),ua=RegExp([Rr+"?"+Ya+"+"+Ka+"(?="+[Cr,Rr,"$"].join("|")+")",Wa+"+"+qu+"(?="+[Cr,Rr+Kr,"$"].join("|")+")",Rr+"?"+Kr+"+"+Ka,Rr+"+"+qu,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",lt,xs].join("|"),"g"),Za=RegExp("[\\u200d\\ud800-\\udfff"+sn+bo+"]"),Ja=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Es=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qu=-1,un={};un[Ot]=un[Ve]=un[Ze]=un[gt]=un[ce]=un[ae]=un[he]=un[Te]=un[Xe]=!0,un[J]=un[Q]=un[Ue]=un[V]=un[rt]=un[B]=un[X]=un[Y]=un[ie]=un[xe]=un[ge]=un[Be]=un[Se]=un[ve]=un[Ae]=!1;var an={};an[J]=an[Q]=an[Ue]=an[rt]=an[V]=an[B]=an[Ot]=an[Ve]=an[Ze]=an[gt]=an[ce]=an[ie]=an[xe]=an[ge]=an[Be]=an[Se]=an[ve]=an[je]=an[ae]=an[he]=an[Te]=an[Xe]=!0,an[X]=an[Y]=an[Ae]=!1;var ec={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ui=parseFloat,Oo=parseInt,Qa=typeof f=="object"&&f&&f.Object===Object&&f,tc=typeof self=="object"&&self&&self.Object===Object&&self,kn=Qa||tc||Function("return this")(),eu=p&&!p.nodeType&&p,zi=eu&&typeof d=="object"&&d&&!d.nodeType&&d,tu=zi&&zi.exports===eu,ca=tu&&Qa.process,er=function(){try{var Oe=zi&&zi.require&&zi.require("util").types;return Oe||ca&&ca.binding&&ca.binding("util")}catch(De){}}(),nu=er&&er.isArrayBuffer,nc=er&&er.isDate,ru=er&&er.isMap,sa=er&&er.isRegExp,ci=er&&er.isSet,oo=er&&er.isTypedArray;function vn(Oe,De,Re){switch(Re.length){case 0:return Oe.call(De);case 1:return Oe.call(De,Re[0]);case 2:return Oe.call(De,Re[0],Re[1]);case 3:return Oe.call(De,Re[0],Re[1],Re[2])}return Oe.apply(De,Re)}function rc(Oe,De,Re,Qe){for(var Bt=-1,Kt=Oe==null?0:Oe.length;++Bt<Kt;){var gn=Oe[Bt];De(Qe,gn,Re(gn),Oe)}return Qe}function vr(Oe,De){for(var Re=-1,Qe=Oe==null?0:Oe.length;++Re<Qe&&De(Oe[Re],Re,Oe)!==!1;);return Oe}function oc(Oe,De){for(var Re=Oe==null?0:Oe.length;Re--&&De(Oe[Re],Re,Oe)!==!1;);return Oe}function ic(Oe,De){for(var Re=-1,Qe=Oe==null?0:Oe.length;++Re<Qe;)if(!De(Oe[Re],Re,Oe))return!1;return!0}function sr(Oe,De){for(var Re=-1,Qe=Oe==null?0:Oe.length,Bt=0,Kt=[];++Re<Qe;){var gn=Oe[Re];De(gn,Re,Oe)&&(Kt[Bt++]=gn)}return Kt}function gr(Oe,De){return!!(Oe!=null&&Oe.length)&&si(Oe,De,0)>-1}function ou(Oe,De,Re){for(var Qe=-1,Bt=Oe==null?0:Oe.length;++Qe<Bt;)if(Re(De,Oe[Qe]))return!0;return!1}function tn(Oe,De){for(var Re=-1,Qe=Oe==null?0:Oe.length,Bt=Array(Qe);++Re<Qe;)Bt[Re]=De(Oe[Re],Re,Oe);return Bt}function Vn(Oe,De){for(var Re=-1,Qe=De.length,Bt=Oe.length;++Re<Qe;)Oe[Bt+Re]=De[Re];return Oe}function la(Oe,De,Re,Qe){var Bt=-1,Kt=Oe==null?0:Oe.length;for(Qe&&Kt&&(Re=Oe[++Bt]);++Bt<Kt;)Re=De(Re,Oe[Bt],Bt,Oe);return Re}function ac(Oe,De,Re,Qe){var Bt=Oe==null?0:Oe.length;for(Qe&&Bt&&(Re=Oe[--Bt]);Bt--;)Re=De(Re,Oe[Bt],Bt,Oe);return Re}function iu(Oe,De){for(var Re=-1,Qe=Oe==null?0:Oe.length;++Re<Qe;)if(De(Oe[Re],Re,Oe))return!0;return!1}var fa=br("length");function io(Oe,De,Re){var Qe;return Re(Oe,function(Bt,Kt,gn){if(De(Bt,Kt,gn))return Qe=Kt,!1}),Qe}function wo(Oe,De,Re,Qe){for(var Bt=Oe.length,Kt=Re+(Qe?1:-1);Qe?Kt--:++Kt<Bt;)if(De(Oe[Kt],Kt,Oe))return Kt;return-1}function si(Oe,De,Re){return De==De?function(Qe,Bt,Kt){for(var gn=Kt-1,_=Qe.length;++gn<_;)if(Qe[gn]===Bt)return gn;return-1}(Oe,De,Re):wo(Oe,xo,Re)}function mr(Oe,De,Re,Qe){for(var Bt=Re-1,Kt=Oe.length;++Bt<Kt;)if(Qe(Oe[Bt],De))return Bt;return-1}function xo(Oe){return Oe!=Oe}function Jt(Oe,De){var Re=Oe==null?0:Oe.length;return Re?pa(Oe,De)/Re:ee}function br(Oe){return function(De){return De==null?v:De[Oe]}}function ao(Oe){return function(De){return Oe==null?v:Oe[De]}}function $n(Oe,De,Re,Qe,Bt){return Bt(Oe,function(Kt,gn,_){Re=Qe?(Qe=!1,Kt):De(Re,Kt,gn,_)}),Re}function pa(Oe,De){for(var Re,Qe=-1,Bt=Oe.length;++Qe<Bt;){var Kt=De(Oe[Qe]);Kt!==v&&(Re=Re===v?Kt:Re+Kt)}return Re}function Bi(Oe,De){for(var Re=-1,Qe=Array(Oe);++Re<Oe;)Qe[Re]=De(Re);return Qe}function au(Oe){return Oe&&Oe.slice(0,_r(Oe)+1).replace(Ct,"")}function jn(Oe){return function(De){return Oe(De)}}function da(Oe,De){return tn(De,function(Re){return Oe[Re]})}function Eo(Oe,De){return Oe.has(De)}function Ir(Oe,De){for(var Re=-1,Qe=Oe.length;++Re<Qe&&si(De,Oe[Re],0)>-1;);return Re}function uu(Oe,De){for(var Re=Oe.length;Re--&&si(De,Oe[Re],0)>-1;);return Re}function Ss(Oe,De){for(var Re=Oe.length,Qe=0;Re--;)Oe[Re]===De&&++Qe;return Qe}var cu=ao({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Rn=ao({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function zo(Oe){return"\\"+ec[Oe]}function uo(Oe){return Za.test(Oe)}function lr(Oe){var De=-1,Re=Array(Oe.size);return Oe.forEach(function(Qe,Bt){Re[++De]=[Bt,Qe]}),Re}function su(Oe,De){return function(Re){return Oe(De(Re))}}function Sr(Oe,De){for(var Re=-1,Qe=Oe.length,Bt=0,Kt=[];++Re<Qe;){var gn=Oe[Re];gn!==De&&gn!==A||(Oe[Re]=A,Kt[Bt++]=Re)}return Kt}function Bo(Oe){var De=-1,Re=Array(Oe.size);return Oe.forEach(function(Qe){Re[++De]=Qe}),Re}function ha(Oe){var De=-1,Re=Array(Oe.size);return Oe.forEach(function(Qe){Re[++De]=[Qe,Qe]}),Re}function co(Oe){return uo(Oe)?function(De){for(var Re=qa.lastIndex=0;qa.test(De);)++Re;return Re}(Oe):fa(Oe)}function jr(Oe){return uo(Oe)?function(De){return De.match(qa)||[]}(Oe):function(De){return De.split("")}(Oe)}function _r(Oe){for(var De=Oe.length;De--&&Nn.test(Oe.charAt(De)););return De}var Lr=ao({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),so=function Oe(De){var Re,Qe=(De=De==null?kn:so.defaults(kn.Object(),De,so.pick(kn,Es))).Array,Bt=De.Date,Kt=De.Error,gn=De.Function,_=De.Math,w=De.Object,P=De.RegExp,z=De.String,K=De.TypeError,fe=Qe.prototype,Ee=gn.prototype,Fe=w.prototype,ut=De["__core-js_shared__"],Yt=Ee.toString,et=Fe.hasOwnProperty,pn=0,Ft=(Re=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||""))?"Symbol(src)_1."+Re:"",nn=Fe.toString,zr=Yt.call(w),On=kn._,Or=P("^"+Yt.call(et).replace(fn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),So=tu?De.Buffer:v,jo=De.Symbol,Fi=De.Uint8Array,lu=So?So.allocUnsafe:v,Fo=su(w.getPrototypeOf,w),ya=w.create,fr=Fe.propertyIsEnumerable,Ui=fe.splice,li=jo?jo.isConcatSpreadable:v,Uo=jo?jo.iterator:v,Go=jo?jo.toStringTag:v,va=function(){try{var u=Yi(w,"defineProperty");return u({},"",{}),u}catch(l){}}(),Kd=De.clearTimeout!==kn.clearTimeout&&De.clearTimeout,$d=Bt&&Bt.now!==kn.Date.now&&Bt.now,hf=De.setTimeout!==kn.setTimeout&&De.setTimeout,uc=_.ceil,ga=_.floor,js=w.getOwnPropertySymbols,qd=So?So.isBuffer:v,yf=De.isFinite,Ps=fe.join,vf=su(w.keys,w),qn=_.max,pr=_.min,cc=Bt.now,sc=De.parseInt,lc=_.random,Zd=fe.reverse,ma=Yi(De,"DataView"),Po=Yi(De,"Map"),As=Yi(De,"Promise"),Gi=Yi(De,"Set"),ba=Yi(De,"WeakMap"),fu=Yi(w,"create"),fc=ba&&new ba,_a={},Jd=_i(ma),gf=_i(Po),Qd=_i(As),eh=_i(Gi),mf=_i(ba),pc=jo?jo.prototype:v,Zn=pc?pc.valueOf:v,bf=pc?pc.toString:v;function F(u){if(An(u)&&!Ut(u)&&!(u instanceof en)){if(u instanceof $r)return u;if(et.call(u,"__wrapped__"))return cl(u)}return new $r(u)}var Oa=function(){function u(){}return function(l){if(!hn(l))return{};if(ya)return ya(l);u.prototype=l;var b=new u;return u.prototype=v,b}}();function pu(){}function $r(u,l){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=v}function en(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function Xi(u){var l=-1,b=u==null?0:u.length;for(this.clear();++l<b;){var j=u[l];this.set(j[0],j[1])}}function dn(u){var l=-1,b=u==null?0:u.length;for(this.clear();++l<b;){var j=u[l];this.set(j[0],j[1])}}function Ao(u){var l=-1,b=u==null?0:u.length;for(this.clear();++l<b;){var j=u[l];this.set(j[0],j[1])}}function fi(u){var l=-1,b=u==null?0:u.length;for(this.__data__=new Ao;++l<b;)this.add(u[l])}function qr(u){var l=this.__data__=new dn(u);this.size=l.size}function Ms(u,l){var b=Ut(u),j=!b&&Oi(u),N=!b&&!j&&eo(u),U=!b&&!j&&!N&&Vi(u),te=b||j||N||U,se=te?Bi(u.length,z):[],_e=se.length;for(var Ie in u)!l&&!et.call(u,Ie)||te&&(Ie=="length"||N&&(Ie=="offset"||Ie=="parent")||U&&(Ie=="buffer"||Ie=="byteLength"||Ie=="byteOffset")||En(Ie,_e))||se.push(Ie);return se}function ks(u){var l=u.length;return l?u[zs(0,l-1)]:v}function _f(u,l){return Ou(Ar(u),pi(l,0,u.length))}function Of(u){return Ou(Ar(u))}function dc(u,l,b){(b!==v&&!Ur(u[l],b)||b===v&&!(l in u))&&Mo(u,l,b)}function wa(u,l,b){var j=u[l];et.call(u,l)&&Ur(j,b)&&(b!==v||l in u)||Mo(u,l,b)}function du(u,l){for(var b=u.length;b--;)if(Ur(u[b][0],l))return b;return-1}function wf(u,l,b,j){return wn(u,function(N,U,te){l(j,N,b(N),te)}),j}function Ts(u,l){return u&&ko(l,Jn(l),u)}function Mo(u,l,b){l=="__proto__"&&va?va(u,l,{configurable:!0,enumerable:!0,value:b,writable:!0}):u[l]=b}function hc(u,l){for(var b=-1,j=l.length,N=Qe(j),U=u==null;++b<j;)N[b]=U?v:xi(u,l[b]);return N}function pi(u,l,b){return u==u&&(b!==v&&(u=u<=b?u:b),l!==v&&(u=u>=l?u:l)),u}function Br(u,l,b,j,N,U){var te,se=1&l,_e=2&l,Ie=4&l;if(b&&(te=N?b(u,j,N,U):b(u)),te!==v)return te;if(!hn(u))return u;var Ne=Ut(u);if(Ne){if(te=function(Le){var He=Le.length,It=new Le.constructor(He);return He&&typeof Le[0]=="string"&&et.call(Le,"index")&&(It.index=Le.index,It.input=Le.input),It}(u),!se)return Ar(u,te)}else{var Ge=dr(u),ct=Ge==Y||Ge==$;if(eo(u))return Ys(u,se);if(Ge==ge||Ge==J||ct&&!N){if(te=_e||ct?{}:$f(u),!se)return _e?function(Le,He){return ko(Le,el(Le),He)}(u,function(Le,He){return Le&&ko(He,ar(He),Le)}(te,u)):function(Le,He){return ko(Le,mu(Le),He)}(u,Ts(te,u))}else{if(!an[Ge])return N?u:{};te=function(Le,He,It){var tt=Le.constructor;switch(He){case Ue:return Vs(Le);case V:case B:return new tt(+Le);case rt:return function(At,qt){var vt=qt?Vs(At.buffer):At.buffer;return new At.constructor(vt,At.byteOffset,At.byteLength)}(Le,It);case Ot:case Ve:case Ze:case gt:case ce:case ae:case he:case Te:case Xe:return bn(Le,It);case ie:return new tt;case xe:case ve:return new tt(Le);case Be:return function(At){var qt=new At.constructor(At.source,Xt.exec(At));return qt.lastIndex=At.lastIndex,qt}(Le);case Se:return new tt;case je:return kt=Le,Zn?w(Zn.call(kt)):{}}var kt}(u,Ge,se)}}U||(U=new qr);var ht=U.get(u);if(ht)return ht;U.set(u,te),_l(u)?u.forEach(function(Le){te.add(Br(Le,l,b,Le,u,U))}):ir(u)&&u.forEach(function(Le,He){te.set(He,Br(Le,l,b,He,u,U))});var Et=Ne?v:(Ie?_e?Zs:qs:_e?ar:Jn)(u);return vr(Et||u,function(Le,He){Et&&(Le=u[He=Le]),wa(te,He,Br(Le,l,b,He,u,U))}),te}function Ds(u,l,b){var j=b.length;if(u==null)return!j;for(u=w(u);j--;){var N=b[j],U=l[N],te=u[N];if(te===v&&!(N in u)||!U(te))return!1}return!0}function Ns(u,l,b){if(typeof u!="function")throw new K(E);return Ma(function(){u.apply(v,b)},l)}function Xo(u,l,b,j){var N=-1,U=gr,te=!0,se=u.length,_e=[],Ie=l.length;if(!se)return _e;b&&(l=tn(l,jn(b))),j?(U=ou,te=!1):l.length>=200&&(U=Eo,te=!1,l=new fi(l));e:for(;++N<se;){var Ne=u[N],Ge=b==null?Ne:b(Ne);if(Ne=j||Ne!==0?Ne:0,te&&Ge==Ge){for(var ct=Ie;ct--;)if(l[ct]===Ge)continue e;_e.push(Ne)}else U(l,Ge,j)||_e.push(Ne)}return _e}F.templateSettings={escape:le,evaluate:it,interpolate:Lt,variable:"",imports:{_:F}},F.prototype=pu.prototype,F.prototype.constructor=F,$r.prototype=Oa(pu.prototype),$r.prototype.constructor=$r,en.prototype=Oa(pu.prototype),en.prototype.constructor=en,Xi.prototype.clear=function(){this.__data__=fu?fu(null):{},this.size=0},Xi.prototype.delete=function(u){var l=this.has(u)&&delete this.__data__[u];return this.size-=l?1:0,l},Xi.prototype.get=function(u){var l=this.__data__;if(fu){var b=l[u];return b===M?v:b}return et.call(l,u)?l[u]:v},Xi.prototype.has=function(u){var l=this.__data__;return fu?l[u]!==v:et.call(l,u)},Xi.prototype.set=function(u,l){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=fu&&l===v?M:l,this},dn.prototype.clear=function(){this.__data__=[],this.size=0},dn.prototype.delete=function(u){var l=this.__data__,b=du(l,u);return!(b<0)&&(b==l.length-1?l.pop():Ui.call(l,b,1),--this.size,!0)},dn.prototype.get=function(u){var l=this.__data__,b=du(l,u);return b<0?v:l[b][1]},dn.prototype.has=function(u){return du(this.__data__,u)>-1},dn.prototype.set=function(u,l){var b=this.__data__,j=du(b,u);return j<0?(++this.size,b.push([u,l])):b[j][1]=l,this},Ao.prototype.clear=function(){this.size=0,this.__data__={hash:new Xi,map:new(Po||dn),string:new Xi}},Ao.prototype.delete=function(u){var l=Tc(this,u).delete(u);return this.size-=l?1:0,l},Ao.prototype.get=function(u){return Tc(this,u).get(u)},Ao.prototype.has=function(u){return Tc(this,u).has(u)},Ao.prototype.set=function(u,l){var b=Tc(this,u),j=b.size;return b.set(u,l),this.size+=b.size==j?0:1,this},fi.prototype.add=fi.prototype.push=function(u){return this.__data__.set(u,M),this},fi.prototype.has=function(u){return this.__data__.has(u)},qr.prototype.clear=function(){this.__data__=new dn,this.size=0},qr.prototype.delete=function(u){var l=this.__data__,b=l.delete(u);return this.size=l.size,b},qr.prototype.get=function(u){return this.__data__.get(u)},qr.prototype.has=function(u){return this.__data__.has(u)},qr.prototype.set=function(u,l){var b=this.__data__;if(b instanceof dn){var j=b.__data__;if(!Po||j.length<199)return j.push([u,l]),this.size=++b.size,this;b=this.__data__=new Ao(j)}return b.set(u,l),this.size=b.size,this};var wn=Bf(pt),xf=Bf(mn,!0);function Ef(u,l){var b=!0;return wn(u,function(j,N,U){return b=!!l(j,N,U)}),b}function In(u,l,b){for(var j=-1,N=u.length;++j<N;){var U=u[j],te=l(U);if(te!=null&&(se===v?te==te&&!Dr(te):b(te,se)))var se=te,_e=U}return _e}function cn(u,l){var b=[];return wn(u,function(j,N,U){l(j,N,U)&&b.push(j)}),b}function tr(u,l,b,j,N){var U=-1,te=u.length;for(b||(b=ah),N||(N=[]);++U<te;){var se=u[U];l>0&&b(se)?l>1?tr(se,l-1,b,j,N):Vn(N,se):j||(N[N.length]=se)}return N}var Vt=Ff(),Bn=Ff(!0);function pt(u,l){return u&&Vt(u,l,Jn)}function mn(u,l){return u&&Bn(u,l,Jn)}function yc(u,l){return sr(l,function(b){return qo(u[b])})}function Ho(u,l){for(var b=0,j=(l=hi(l,u)).length;u!=null&&b<j;)u=u[lo(l[b++])];return b&&b==j?u:v}function Cs(u,l,b){var j=l(u);return Ut(u)?j:Vn(j,b(u))}function Pn(u){return u==null?u===v?"[object Undefined]":"[object Null]":Go&&Go in w(u)?function(l){var b=et.call(l,Go),j=l[Go];try{l[Go]=v;var N=!0}catch(te){}var U=nn.call(l);return N&&(b?l[Go]=j:delete l[Go]),U}(u):function(l){return nn.call(l)}(u)}function Tn(u,l){return u>l}function Sf(u,l){return u!=null&&et.call(u,l)}function jf(u,l){return u!=null&&l in w(u)}function vc(u,l,b){for(var j=b?ou:gr,N=u[0].length,U=u.length,te=U,se=Qe(U),_e=1/0,Ie=[];te--;){var Ne=u[te];te&&l&&(Ne=tn(Ne,jn(l))),_e=pr(Ne.length,_e),se[te]=!b&&(l||N>=120&&Ne.length>=120)?new fi(te&&Ne):v}Ne=u[0];var Ge=-1,ct=se[0];e:for(;++Ge<N&&Ie.length<_e;){var ht=Ne[Ge],Et=l?l(ht):ht;if(ht=b||ht!==0?ht:0,!(ct?Eo(ct,Et):j(Ie,Et,b))){for(te=U;--te;){var Le=se[te];if(!(Le?Eo(Le,Et):j(u[te],Et,b)))continue e}ct&&ct.push(Et),Ie.push(ht)}}return Ie}function xa(u,l,b){var j=(u=rl(u,l=hi(l,u)))==null?u:u[lo(Mr(l))];return j==null?v:vn(j,u,b)}function Rs(u){return An(u)&&Pn(u)==J}function Ea(u,l,b,j,N){return u===l||(u==null||l==null||!An(u)&&!An(l)?u!=u&&l!=l:function(U,te,se,_e,Ie,Ne){var Ge=Ut(U),ct=Ut(te),ht=Ge?Q:dr(U),Et=ct?Q:dr(te),Le=(ht=ht==J?ge:ht)==ge,He=(Et=Et==J?ge:Et)==ge,It=ht==Et;if(It&&eo(U)){if(!eo(te))return!1;Ge=!0,Le=!1}if(It&&!Le)return Ne||(Ne=new qr),Ge||Vi(U)?Wf(U,te,se,_e,Ie,Ne):function(vt,St,Mn,me,po,Wn,No){switch(Mn){case rt:if(vt.byteLength!=St.byteLength||vt.byteOffset!=St.byteOffset)return!1;vt=vt.buffer,St=St.buffer;case Ue:return!(vt.byteLength!=St.byteLength||!Wn(new Fi(vt),new Fi(St)));case V:case B:case xe:return Ur(+vt,+St);case X:return vt.name==St.name&&vt.message==St.message;case Be:case ve:return vt==St+"";case ie:var ei=lr;case Se:var Na=1&me;if(ei||(ei=Bo),vt.size!=St.size&&!Na)return!1;var Lu=No.get(vt);if(Lu)return Lu==St;me|=2,No.set(vt,St);var qi=Wf(ei(vt),ei(St),me,po,Wn,No);return No.delete(vt),qi;case je:if(Zn)return Zn.call(vt)==Zn.call(St)}return!1}(U,te,ht,se,_e,Ie,Ne);if(!(1&se)){var tt=Le&&et.call(U,"__wrapped__"),kt=He&&et.call(te,"__wrapped__");if(tt||kt){var At=tt?U.value():U,qt=kt?te.value():te;return Ne||(Ne=new qr),Ie(At,qt,se,_e,Ne)}}return It?(Ne||(Ne=new qr),function(vt,St,Mn,me,po,Wn){var No=1&Mn,ei=qs(vt),Na=ei.length,Lu=qs(St).length;if(Na!=Lu&&!No)return!1;for(var qi=Na;qi--;){var Si=ei[qi];if(!(No?Si in St:et.call(St,Si)))return!1}var Fl=Wn.get(vt),Ul=Wn.get(St);if(Fl&&Ul)return Fl==St&&Ul==vt;var zu=!0;Wn.set(vt,St),Wn.set(St,vt);for(var $c=No;++qi<Na;){var ji=vt[Si=ei[qi]],Bu=St[Si];if(me)var Gl=No?me(Bu,ji,Si,St,vt,Wn):me(ji,Bu,Si,vt,St,Wn);if(!(Gl===v?ji===Bu||po(ji,Bu,Mn,me,Wn):Gl)){zu=!1;break}$c||($c=Si=="constructor")}if(zu&&!$c){var Pi=vt.constructor,Fu=St.constructor;Pi==Fu||!("constructor"in vt)||!("constructor"in St)||typeof Pi=="function"&&Pi instanceof Pi&&typeof Fu=="function"&&Fu instanceof Fu||(zu=!1)}return Wn.delete(vt),Wn.delete(St),zu}(U,te,se,_e,Ie,Ne)):!1}(u,l,b,j,Ea,N))}function gc(u,l,b,j){var N=b.length,U=N,te=!j;if(u==null)return!U;for(u=w(u);N--;){var se=b[N];if(te&&se[2]?se[1]!==u[se[0]]:!(se[0]in u))return!1}for(;++N<U;){var _e=(se=b[N])[0],Ie=u[_e],Ne=se[1];if(te&&se[2]){if(Ie===v&&!(_e in u))return!1}else{var Ge=new qr;if(j)var ct=j(Ie,Ne,_e,u,l,Ge);if(!(ct===v?Ea(Ne,Ie,3,j,Ge):ct))return!1}}return!0}function Sa(u){return!(!hn(u)||(l=u,Ft&&Ft in l))&&(qo(u)?Or:Cn).test(_i(u));var l}function Is(u){return typeof u=="function"?u:u==null?ur:typeof u=="object"?Ut(u)?Af(u[0],u[1]):Pf(u):Gn(u)}function Yo(u){if(!_u(u))return vf(u);var l=[];for(var b in w(u))et.call(u,b)&&b!="constructor"&&l.push(b);return l}function th(u){if(!hn(u))return function(N){var U=[];if(N!=null)for(var te in w(N))U.push(te);return U}(u);var l=_u(u),b=[];for(var j in u)(j!="constructor"||!l&&et.call(u,j))&&b.push(j);return b}function Vo(u,l){return u<l}function Zr(u,l){var b=-1,j=Tr(u)?Qe(u.length):[];return wn(u,function(N,U,te){j[++b]=l(N,U,te)}),j}function Pf(u){var l=Qs(u);return l.length==1&&l[0][2]?Dc(l[0][0],l[0][1]):function(b){return b===u||gc(b,u,l)}}function Af(u,l){return tl(u)&&Aa(l)?Dc(lo(u),l):function(b){var j=xi(b,u);return j===v&&j===l?Wi(b,u):Ea(l,j,3)}}function mc(u,l,b,j,N){u!==l&&Vt(l,function(U,te){if(N||(N=new qr),hn(U))(function(_e,Ie,Ne,Ge,ct,ht,Et){var Le=ke(_e,Ne),He=ke(Ie,Ne),It=Et.get(He);if(It)return void dc(_e,Ne,It);var tt=ht?ht(Le,He,Ne+"",_e,Ie,Et):v,kt=tt===v;if(kt){var At=Ut(He),qt=!At&&eo(He),vt=!At&&!qt&&Vi(He);tt=He,At||qt||vt?Ut(Le)?tt=Le:Un(Le)?tt=Ar(Le):qt?(kt=!1,tt=Ys(He,!0)):vt?(kt=!1,tt=bn(He,!0)):tt=[]:Zo(He)||Oi(He)?(tt=Le,Oi(Le)?tt=Bc(Le):hn(Le)&&!qo(Le)||(tt=$f(He))):kt=!1}kt&&(Et.set(He,tt),ct(tt,He,Ge,ht,Et),Et.delete(He)),dc(_e,Ne,tt)})(u,l,te,b,mc,j,N);else{var se=j?j(ke(u,te),U,te+"",u,l,N):v;se===v&&(se=U),dc(u,te,se)}},ar)}function Mf(u,l){var b=u.length;if(b)return En(l+=l<0?b:0,b)?u[l]:v}function kf(u,l,b){l=l.length?tn(l,function(U){return Ut(U)?function(te){return Ho(te,U.length===1?U[0]:U)}:U}):[ur];var j=-1;l=tn(l,jn(Mt()));var N=Zr(u,function(U,te,se){var _e=tn(l,function(Ie){return Ie(U)});return{criteria:_e,index:++j,value:U}});return function(U,te){var se=U.length;for(U.sort(te);se--;)U[se]=U[se].value;return U}(N,function(U,te){return function(se,_e,Ie){for(var Ne=-1,Ge=se.criteria,ct=_e.criteria,ht=Ge.length,Et=Ie.length;++Ne<ht;){var Le=zf(Ge[Ne],ct[Ne]);if(Le)return Ne>=Et?Le:Le*(Ie[Ne]=="desc"?-1:1)}return se.index-_e.index}(U,te,b)})}function Tf(u,l,b){for(var j=-1,N=l.length,U={};++j<N;){var te=l[j],se=Ho(u,te);b(se,te)&&Pa(U,hi(te,u),se)}return U}function Ls(u,l,b,j){var N=j?mr:si,U=-1,te=l.length,se=u;for(u===l&&(l=Ar(l)),b&&(se=tn(u,jn(b)));++U<te;)for(var _e=0,Ie=l[U],Ne=b?b(Ie):Ie;(_e=N(se,Ne,_e,j))>-1;)se!==u&&Ui.call(se,_e,1),Ui.call(u,_e,1);return u}function ja(u,l){for(var b=u?l.length:0,j=b-1;b--;){var N=l[b];if(b==j||N!==U){var U=N;En(N)?Ui.call(u,N,1):Oc(u,N)}}return u}function zs(u,l){return u+ga(lc()*(l-u+1))}function bc(u,l){var b="";if(!u||l<1||l>W)return b;do l%2&&(b+=u),(l=ga(l/2))&&(u+=u);while(l);return b}function Wt(u,l){return Nc(nl(u,l,ur),u+"")}function nh(u){return ks($i(u))}function Bs(u,l){var b=$i(u);return Ou(b,pi(l,0,b.length))}function Pa(u,l,b,j){if(!hn(u))return u;for(var N=-1,U=(l=hi(l,u)).length,te=U-1,se=u;se!=null&&++N<U;){var _e=lo(l[N]),Ie=b;if(_e==="__proto__"||_e==="constructor"||_e==="prototype")return u;if(N!=te){var Ne=se[_e];(Ie=j?j(Ne,_e,se):v)===v&&(Ie=hn(Ne)?Ne:En(l[N+1])?[]:{})}wa(se,_e,Ie),se=se[_e]}return u}var Df=fc?function(u,l){return fc.set(u,l),u}:ur,rh=va?function(u,l){return va(u,"toString",{configurable:!0,enumerable:!1,value:Ml(l),writable:!0})}:ur;function oh(u){return Ou($i(u))}function Jr(u,l,b){var j=-1,N=u.length;l<0&&(l=-l>N?0:N+l),(b=b>N?N:b)<0&&(b+=N),N=l>b?0:b-l>>>0,l>>>=0;for(var U=Qe(N);++j<N;)U[j]=u[j+l];return U}function Fs(u,l){var b;return wn(u,function(j,N,U){return!(b=l(j,N,U))}),!!b}function _c(u,l,b){var j=0,N=u==null?j:u.length;if(typeof l=="number"&&l==l&&N<=2147483647){for(;j<N;){var U=j+N>>>1,te=u[U];te!==null&&!Dr(te)&&(b?te<=l:te<l)?j=U+1:N=U}return N}return Us(u,l,ur,b)}function Us(u,l,b,j){var N=0,U=u==null?0:u.length;if(U===0)return 0;for(var te=(l=b(l))!=l,se=l===null,_e=Dr(l),Ie=l===v;N<U;){var Ne=ga((N+U)/2),Ge=b(u[Ne]),ct=Ge!==v,ht=Ge===null,Et=Ge==Ge,Le=Dr(Ge);if(te)var He=j||Et;else He=Ie?Et&&(j||ct):se?Et&&ct&&(j||!ht):_e?Et&&ct&&!ht&&(j||!Le):!ht&&!Le&&(j?Ge<=l:Ge<l);He?N=Ne+1:U=Ne}return pr(U,4294967294)}function Nf(u,l){for(var b=-1,j=u.length,N=0,U=[];++b<j;){var te=u[b],se=l?l(te):te;if(!b||!Ur(se,_e)){var _e=se;U[N++]=te===0?0:te}}return U}function Gs(u){return typeof u=="number"?u:Dr(u)?ee:+u}function Pr(u){if(typeof u=="string")return u;if(Ut(u))return tn(u,Pr)+"";if(Dr(u))return bf?bf.call(u):"";var l=u+"";return l=="0"&&1/u==-1/0?"-0":l}function di(u,l,b){var j=-1,N=gr,U=u.length,te=!0,se=[],_e=se;if(b)te=!1,N=ou;else if(U>=200){var Ie=l?null:Ks(u);if(Ie)return Bo(Ie);te=!1,N=Eo,_e=new fi}else _e=l?[]:se;e:for(;++j<U;){var Ne=u[j],Ge=l?l(Ne):Ne;if(Ne=b||Ne!==0?Ne:0,te&&Ge==Ge){for(var ct=_e.length;ct--;)if(_e[ct]===Ge)continue e;l&&_e.push(Ge),se.push(Ne)}else N(_e,Ge,b)||(_e!==se&&_e.push(Ge),se.push(Ne))}return se}function Oc(u,l){return(u=rl(u,l=hi(l,u)))==null||delete u[lo(Mr(l))]}function Cf(u,l,b,j){return Pa(u,l,b(Ho(u,l)),j)}function hu(u,l,b,j){for(var N=u.length,U=j?N:-1;(j?U--:++U<N)&&l(u[U],U,u););return b?Jr(u,j?0:U,j?U+1:N):Jr(u,j?U+1:0,j?N:U)}function Rf(u,l){var b=u;return b instanceof en&&(b=b.value()),la(l,function(j,N){return N.func.apply(N.thisArg,Vn([j],N.args))},b)}function wc(u,l,b){var j=u.length;if(j<2)return j?di(u[0]):[];for(var N=-1,U=Qe(j);++N<j;)for(var te=u[N],se=-1;++se<j;)se!=N&&(U[N]=Xo(U[N]||te,u[se],l,b));return di(tr(U,1),l,b)}function If(u,l,b){for(var j=-1,N=u.length,U=l.length,te={};++j<N;){var se=j<U?l[j]:v;b(te,u[j],se)}return te}function xc(u){return Un(u)?u:[]}function Xs(u){return typeof u=="function"?u:ur}function hi(u,l){return Ut(u)?u:tl(u,l)?[u]:ul(yn(u))}var Lf=Wt;function yi(u,l,b){var j=u.length;return b=b===v?j:b,!l&&b>=j?u:Jr(u,l,b)}var Hs=Kd||function(u){return kn.clearTimeout(u)};function Ys(u,l){if(l)return u.slice();var b=u.length,j=lu?lu(b):new u.constructor(b);return u.copy(j),j}function Vs(u){var l=new u.constructor(u.byteLength);return new Fi(l).set(new Fi(u)),l}function bn(u,l){var b=l?Vs(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function zf(u,l){if(u!==l){var b=u!==v,j=u===null,N=u==u,U=Dr(u),te=l!==v,se=l===null,_e=l==l,Ie=Dr(l);if(!se&&!Ie&&!U&&u>l||U&&te&&_e&&!se&&!Ie||j&&te&&_e||!b&&_e||!N)return 1;if(!j&&!U&&!Ie&&u<l||Ie&&b&&N&&!j&&!U||se&&b&&N||!te&&N||!_e)return-1}return 0}function xn(u,l,b,j){for(var N=-1,U=u.length,te=b.length,se=-1,_e=l.length,Ie=qn(U-te,0),Ne=Qe(_e+Ie),Ge=!j;++se<_e;)Ne[se]=l[se];for(;++N<te;)(Ge||N<U)&&(Ne[b[N]]=u[N]);for(;Ie--;)Ne[se++]=u[N++];return Ne}function Ec(u,l,b,j){for(var N=-1,U=u.length,te=-1,se=b.length,_e=-1,Ie=l.length,Ne=qn(U-se,0),Ge=Qe(Ne+Ie),ct=!j;++N<Ne;)Ge[N]=u[N];for(var ht=N;++_e<Ie;)Ge[ht+_e]=l[_e];for(;++te<se;)(ct||N<U)&&(Ge[ht+b[te]]=u[N++]);return Ge}function Ar(u,l){var b=-1,j=u.length;for(l||(l=Qe(j));++b<j;)l[b]=u[b];return l}function ko(u,l,b,j){var N=!b;b||(b={});for(var U=-1,te=l.length;++U<te;){var se=l[U],_e=j?j(b[se],u[se],se,b,u):v;_e===v&&(_e=u[se]),N?Mo(b,se,_e):wa(b,se,_e)}return b}function Sc(u,l){return function(b,j){var N=Ut(b)?rc:wf,U=l?l():{};return N(b,u,Mt(j,2),U)}}function Hi(u){return Wt(function(l,b){var j=-1,N=b.length,U=N>1?b[N-1]:v,te=N>2?b[2]:v;for(U=u.length>3&&typeof U=="function"?(N--,U):v,te&&rr(b[0],b[1],te)&&(U=N<3?v:U,N=1),l=w(l);++j<N;){var se=b[j];se&&u(l,se,j,U)}return l})}function Bf(u,l){return function(b,j){if(b==null)return b;if(!Tr(b))return u(b,j);for(var N=b.length,U=l?N:-1,te=w(b);(l?U--:++U<N)&&j(te[U],U,te)!==!1;);return b}}function Ff(u){return function(l,b,j){for(var N=-1,U=w(l),te=j(l),se=te.length;se--;){var _e=te[u?se:++N];if(b(U[_e],_e,U)===!1)break}return l}}function Uf(u){return function(l){var b=uo(l=yn(l))?jr(l):v,j=b?b[0]:l.charAt(0),N=b?yi(b,1).join(""):l.slice(1);return j[u]()+N}}function vi(u){return function(l){return la(Pl(Hc(l).replace(Ju,"")),u,"")}}function yu(u){return function(){var l=arguments;switch(l.length){case 0:return new u;case 1:return new u(l[0]);case 2:return new u(l[0],l[1]);case 3:return new u(l[0],l[1],l[2]);case 4:return new u(l[0],l[1],l[2],l[3]);case 5:return new u(l[0],l[1],l[2],l[3],l[4]);case 6:return new u(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new u(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var b=Oa(u.prototype),j=u.apply(b,l);return hn(j)?j:b}}function Gf(u){return function(l,b,j){var N=w(l);if(!Tr(l)){var U=Mt(b,3);l=Jn(l),b=function(se){return U(N[se],se,N)}}var te=u(l,b,j);return te>-1?N[U?l[te]:te]:v}}function Xf(u){return Ko(function(l){var b=l.length,j=b,N=$r.prototype.thru;for(u&&l.reverse();j--;){var U=l[j];if(typeof U!="function")throw new K(E);if(N&&!te&&kc(U)=="wrapper")var te=new $r([],!0)}for(j=te?j:b;++j<b;){var se=kc(U=l[j]),_e=se=="wrapper"?Js(U):v;te=_e&&bu(_e[0])&&_e[1]==424&&!_e[4].length&&_e[9]==1?te[kc(_e[0])].apply(te,_e[3]):U.length==1&&bu(U)?te[se]():te.thru(U)}return function(){var Ie=arguments,Ne=Ie[0];if(te&&Ie.length==1&&Ut(Ne))return te.plant(Ne).value();for(var Ge=0,ct=b?l[Ge].apply(this,Ie):Ne;++Ge<b;)ct=l[Ge].call(this,ct);return ct}})}function vu(u,l,b,j,N,U,te,se,_e,Ie){var Ne=l&C,Ge=1&l,ct=2&l,ht=24&l,Et=512&l,Le=ct?v:yu(u);return function He(){for(var It=arguments.length,tt=Qe(It),kt=It;kt--;)tt[kt]=arguments[kt];if(ht)var At=mi(He),qt=Ss(tt,At);if(j&&(tt=xn(tt,j,N,ht)),U&&(tt=Ec(tt,U,te,ht)),It-=qt,ht&&It<Ie){var vt=Sr(tt,At);return Ac(u,l,vu,He.placeholder,b,tt,vt,se,_e,Ie-It)}var St=Ge?b:this,Mn=ct?St[u]:u;return It=tt.length,se?tt=uh(tt,se):Et&&It>1&&tt.reverse(),Ne&&_e<It&&(tt.length=_e),this&&this!==kn&&this instanceof He&&(Mn=Le||yu(Mn)),Mn.apply(St,tt)}}function Hf(u,l){return function(b,j){return function(N,U,te,se){return pt(N,function(_e,Ie,Ne){U(se,te(_e),Ie,Ne)}),se}(b,u,l(j),{})}}function gu(u,l){return function(b,j){var N;if(b===v&&j===v)return l;if(b!==v&&(N=b),j!==v){if(N===v)return j;typeof b=="string"||typeof j=="string"?(b=Pr(b),j=Pr(j)):(b=Gs(b),j=Gs(j)),N=u(b,j)}return N}}function Ws(u){return Ko(function(l){return l=tn(l,jn(Mt())),Wt(function(b){var j=this;return u(l,function(N){return vn(N,j,b)})})})}function jc(u,l){var b=(l=l===v?" ":Pr(l)).length;if(b<2)return b?bc(l,u):l;var j=bc(l,uc(u/co(l)));return uo(l)?yi(jr(j),0,u).join(""):j.slice(0,u)}function gi(u){return function(l,b,j){return j&&typeof j!="number"&&rr(l,b,j)&&(b=j=v),l=Jo(l),b===v?(b=l,l=0):b=Jo(b),function(N,U,te,se){for(var _e=-1,Ie=qn(uc((U-N)/(te||1)),0),Ne=Qe(Ie);Ie--;)Ne[se?Ie:++_e]=N,N+=te;return Ne}(l,b,j=j===v?l<b?1:-1:Jo(j),u)}}function Pc(u){return function(l,b){return typeof l=="string"&&typeof b=="string"||(l=Gr(l),b=Gr(b)),u(l,b)}}function Ac(u,l,b,j,N,U,te,se,_e,Ie){var Ne=8&l;l|=Ne?k:I,4&(l&=~(Ne?I:k))||(l&=-4);var Ge=[u,l,N,Ne?U:v,Ne?te:v,Ne?v:U,Ne?v:te,se,_e,Ie],ct=b.apply(v,Ge);return bu(u)&&ol(ct,Ge),ct.placeholder=j,il(ct,u,l)}function Mc(u){var l=_[u];return function(b,j){if(b=Gr(b),(j=j==null?0:pr(Gt(j),292))&&yf(b)){var N=(yn(b)+"e").split("e");return+((N=(yn(l(N[0]+"e"+(+N[1]+j)))+"e").split("e"))[0]+"e"+(+N[1]-j))}return l(b)}}var Ks=Gi&&1/Bo(new Gi([,-0]))[1]==G?function(u){return new Gi(u)}:Ru;function $s(u){return function(l){var b=dr(l);return b==ie?lr(l):b==Se?ha(l):function(j,N){return tn(N,function(U){return[U,j[U]]})}(l,u(l))}}function Wo(u,l,b,j,N,U,te,se){var _e=2&l;if(!_e&&typeof u!="function")throw new K(E);var Ie=j?j.length:0;if(Ie||(l&=-97,j=N=v),te=te===v?te:qn(Gt(te),0),se=se===v?se:Gt(se),Ie-=N?N.length:0,l&I){var Ne=j,Ge=N;j=N=v}var ct=_e?v:Js(u),ht=[u,l,b,j,N,Ne,Ge,U,te,se];if(ct&&function(Le,He){var It=Le[1],tt=He[1],kt=It|tt,At=kt<131,qt=tt==C&&It==8||tt==C&&It==L&&Le[7].length<=He[8]||tt==384&&He[7].length<=He[8]&&It==8;if(!At&&!qt)return Le;1&tt&&(Le[2]=He[2],kt|=1&It?0:4);var vt=He[3];if(vt){var St=Le[3];Le[3]=St?xn(St,vt,He[4]):vt,Le[4]=St?Sr(Le[3],A):He[4]}(vt=He[5])&&(St=Le[5],Le[5]=St?Ec(St,vt,He[6]):vt,Le[6]=St?Sr(Le[5],A):He[6]),(vt=He[7])&&(Le[7]=vt),tt&C&&(Le[8]=Le[8]==null?He[8]:pr(Le[8],He[8])),Le[9]==null&&(Le[9]=He[9]),Le[0]=He[0],Le[1]=kt}(ht,ct),u=ht[0],l=ht[1],b=ht[2],j=ht[3],N=ht[4],!(se=ht[9]=ht[9]===v?_e?0:u.length:qn(ht[9]-Ie,0))&&24&l&&(l&=-25),l&&l!=1)Et=l==8||l==T?function(Le,He,It){var tt=yu(Le);return function kt(){for(var At=arguments.length,qt=Qe(At),vt=At,St=mi(kt);vt--;)qt[vt]=arguments[vt];var Mn=At<3&&qt[0]!==St&&qt[At-1]!==St?[]:Sr(qt,St);return(At-=Mn.length)<It?Ac(Le,He,vu,kt.placeholder,v,qt,Mn,v,v,It-At):vn(this&&this!==kn&&this instanceof kt?tt:Le,this,qt)}}(u,l,se):l!=k&&l!=33||N.length?vu.apply(v,ht):function(Le,He,It,tt){var kt=1&He,At=yu(Le);return function qt(){for(var vt=-1,St=arguments.length,Mn=-1,me=tt.length,po=Qe(me+St),Wn=this&&this!==kn&&this instanceof qt?At:Le;++Mn<me;)po[Mn]=tt[Mn];for(;St--;)po[Mn++]=arguments[++vt];return vn(Wn,kt?It:this,po)}}(u,l,b,j);else var Et=function(Le,He,It){var tt=1&He,kt=yu(Le);return function At(){return(this&&this!==kn&&this instanceof At?kt:Le).apply(tt?It:this,arguments)}}(u,l,b);return il((ct?Df:ol)(Et,ht),u,l)}function Yf(u,l,b,j){return u===v||Ur(u,Fe[b])&&!et.call(j,b)?l:u}function Vf(u,l,b,j,N,U){return hn(u)&&hn(l)&&(U.set(l,u),mc(u,l,v,Vf,U),U.delete(l)),u}function ih(u){return Zo(u)?v:u}function Wf(u,l,b,j,N,U){var te=1&b,se=u.length,_e=l.length;if(se!=_e&&!(te&&_e>se))return!1;var Ie=U.get(u),Ne=U.get(l);if(Ie&&Ne)return Ie==l&&Ne==u;var Ge=-1,ct=!0,ht=2&b?new fi:v;for(U.set(u,l),U.set(l,u);++Ge<se;){var Et=u[Ge],Le=l[Ge];if(j)var He=te?j(Le,Et,Ge,l,u,U):j(Et,Le,Ge,u,l,U);if(He!==v){if(He)continue;ct=!1;break}if(ht){if(!iu(l,function(It,tt){if(!Eo(ht,tt)&&(Et===It||N(Et,It,b,j,U)))return ht.push(tt)})){ct=!1;break}}else if(Et!==Le&&!N(Et,Le,b,j,U)){ct=!1;break}}return U.delete(u),U.delete(l),ct}function Ko(u){return Nc(nl(u,v,fl),u+"")}function qs(u){return Cs(u,Jn,mu)}function Zs(u){return Cs(u,ar,el)}var Js=fc?function(u){return fc.get(u)}:Ru;function kc(u){for(var l=u.name+"",b=_a[l],j=et.call(_a,l)?b.length:0;j--;){var N=b[j],U=N.func;if(U==null||U==u)return N.name}return l}function mi(u){return(et.call(F,"placeholder")?F:u).placeholder}function Mt(){var u=F.iteratee||Da;return u=u===Da?Is:u,arguments.length?u(arguments[0],arguments[1]):u}function Tc(u,l){var b,j,N=u.__data__;return((j=typeof(b=l))=="string"||j=="number"||j=="symbol"||j=="boolean"?b!=="__proto__":b===null)?N[typeof l=="string"?"string":"hash"]:N.map}function Qs(u){for(var l=Jn(u),b=l.length;b--;){var j=l[b],N=u[j];l[b]=[j,N,Aa(N)]}return l}function Yi(u,l){var b=function(j,N){return j==null?v:j[N]}(u,l);return Sa(b)?b:v}var mu=js?function(u){return u==null?[]:(u=w(u),sr(js(u),function(l){return fr.call(u,l)}))}:Iu,el=js?function(u){for(var l=[];u;)Vn(l,mu(u)),u=Fo(u);return l}:Iu,dr=Pn;function Kf(u,l,b){for(var j=-1,N=(l=hi(l,u)).length,U=!1;++j<N;){var te=lo(l[j]);if(!(U=u!=null&&b(u,te)))break;u=u[te]}return U||++j!=N?U:!!(N=u==null?0:u.length)&&wi(N)&&En(te,N)&&(Ut(u)||Oi(u))}function $f(u){return typeof u.constructor!="function"||_u(u)?{}:Oa(Fo(u))}function ah(u){return Ut(u)||Oi(u)||!!(li&&u&&u[li])}function En(u,l){var b=typeof u;return!!(l=l==null?W:l)&&(b=="number"||b!="symbol"&&at.test(u))&&u>-1&&u%1==0&&u<l}function rr(u,l,b){if(!hn(b))return!1;var j=typeof l;return!!(j=="number"?Tr(b)&&En(l,b.length):j=="string"&&l in b)&&Ur(b[l],u)}function tl(u,l){if(Ut(u))return!1;var b=typeof u;return!(b!="number"&&b!="symbol"&&b!="boolean"&&u!=null&&!Dr(u))||zt.test(u)||!on.test(u)||l!=null&&u in w(l)}function bu(u){var l=kc(u),b=F[l];if(typeof b!="function"||!(l in en.prototype))return!1;if(u===b)return!0;var j=Js(b);return!!j&&u===j[0]}(ma&&dr(new ma(new ArrayBuffer(1)))!=rt||Po&&dr(new Po)!=ie||As&&dr(As.resolve())!=Pe||Gi&&dr(new Gi)!=Se||ba&&dr(new ba)!=Ae)&&(dr=function(u){var l=Pn(u),b=l==ge?u.constructor:v,j=b?_i(b):"";if(j)switch(j){case Jd:return rt;case gf:return ie;case Qd:return Pe;case eh:return Se;case mf:return Ae}return l});var bi=ut?qo:Kc;function _u(u){var l=u&&u.constructor;return u===(typeof l=="function"&&l.prototype||Fe)}function Aa(u){return u==u&&!hn(u)}function Dc(u,l){return function(b){return b!=null&&b[u]===l&&(l!==v||u in w(b))}}function nl(u,l,b){return l=qn(l===v?u.length-1:l,0),function(){for(var j=arguments,N=-1,U=qn(j.length-l,0),te=Qe(U);++N<U;)te[N]=j[l+N];N=-1;for(var se=Qe(l+1);++N<l;)se[N]=j[N];return se[l]=b(te),vn(u,this,se)}}function rl(u,l){return l.length<2?u:Ho(u,Jr(l,0,-1))}function uh(u,l){for(var b=u.length,j=pr(l.length,b),N=Ar(u);j--;){var U=l[j];u[j]=En(U,b)?N[U]:v}return u}function ke(u,l){if((l!=="constructor"||typeof u[l]!="function")&&l!="__proto__")return u[l]}var ol=al(Df),Ma=hf||function(u,l){return kn.setTimeout(u,l)},Nc=al(rh);function il(u,l,b){var j=l+"";return Nc(u,function(N,U){var te=U.length;if(!te)return N;var se=te-1;return U[se]=(te>1?"& ":"")+U[se],U=U.join(te>2?", ":" "),N.replace(q,`{
/* [wrapped with `+U+`] */
`)}(j,function(N,U){return vr(oe,function(te){var se="_."+te[0];U&te[1]&&!gr(N,se)&&N.push(se)}),N.sort()}(function(N){var U=N.match(pe);return U?U[1].split(re):[]}(j),b)))}function al(u){var l=0,b=0;return function(){var j=cc(),N=16-(j-b);if(b=j,N>0){if(++l>=800)return arguments[0]}else l=0;return u.apply(v,arguments)}}function Ou(u,l){var b=-1,j=u.length,N=j-1;for(l=l===v?j:l;++b<l;){var U=zs(b,N),te=u[U];u[U]=u[b],u[b]=te}return u.length=l,u}var ul=function(u){var l=ju(u,function(j){return b.size===500&&b.clear(),j}),b=l.cache;return l}(function(u){var l=[];return u.charCodeAt(0)===46&&l.push(""),u.replace(Zt,function(b,j,N,U){l.push(N?U.replace(Ke,"$1"):j||b)}),l});function lo(u){if(typeof u=="string"||Dr(u))return u;var l=u+"";return l=="0"&&1/u==-1/0?"-0":l}function _i(u){if(u!=null){try{return Yt.call(u)}catch(l){}try{return u+""}catch(l){}}return""}function cl(u){if(u instanceof en)return u.clone();var l=new $r(u.__wrapped__,u.__chain__);return l.__actions__=Ar(u.__actions__),l.__index__=u.__index__,l.__values__=u.__values__,l}var qf=Wt(function(u,l){return Un(u)?Xo(u,tr(l,1,Un,!0)):[]}),Zf=Wt(function(u,l){var b=Mr(l);return Un(b)&&(b=v),Un(u)?Xo(u,tr(l,1,Un,!0),Mt(b,2)):[]}),Jf=Wt(function(u,l){var b=Mr(l);return Un(b)&&(b=v),Un(u)?Xo(u,tr(l,1,Un,!0),v,b):[]});function sl(u,l,b){var j=u==null?0:u.length;if(!j)return-1;var N=b==null?0:Gt(b);return N<0&&(N=qn(j+N,0)),wo(u,Mt(l,3),N)}function ll(u,l,b){var j=u==null?0:u.length;if(!j)return-1;var N=j-1;return b!==v&&(N=Gt(b),N=b<0?qn(j+N,0):pr(N,j-1)),wo(u,Mt(l,3),N,!0)}function fl(u){return u!=null&&u.length?tr(u,1):[]}function pl(u){return u&&u.length?u[0]:v}var Qf=Wt(function(u){var l=tn(u,xc);return l.length&&l[0]===u[0]?vc(l):[]}),ep=Wt(function(u){var l=Mr(u),b=tn(u,xc);return l===Mr(b)?l=v:b.pop(),b.length&&b[0]===u[0]?vc(b,Mt(l,2)):[]}),tp=Wt(function(u){var l=Mr(u),b=tn(u,xc);return(l=typeof l=="function"?l:v)&&b.pop(),b.length&&b[0]===u[0]?vc(b,v,l):[]});function Mr(u){var l=u==null?0:u.length;return l?u[l-1]:v}var Cc=Wt(np);function np(u,l){return u&&u.length&&l&&l.length?Ls(u,l):u}var fo=Ko(function(u,l){var b=u==null?0:u.length,j=hc(u,l);return ja(u,tn(l,function(N){return En(N,b)?+N:N}).sort(zf)),j});function To(u){return u==null?u:Zd.call(u)}var ch=Wt(function(u){return di(tr(u,1,Un,!0))}),Fr=Wt(function(u){var l=Mr(u);return Un(l)&&(l=v),di(tr(u,1,Un,!0),Mt(l,2))}),rp=Wt(function(u){var l=Mr(u);return l=typeof l=="function"?l:v,di(tr(u,1,Un,!0),v,l)});function wu(u){if(!u||!u.length)return[];var l=0;return u=sr(u,function(b){if(Un(b))return l=qn(b.length,l),!0}),Bi(l,function(b){return tn(u,br(b))})}function dl(u,l){if(!u||!u.length)return[];var b=wu(u);return l==null?b:tn(b,function(j){return vn(l,v,j)})}var op=Wt(function(u,l){return Un(u)?Xo(u,l):[]}),ip=Wt(function(u){return wc(sr(u,Un))}),ap=Wt(function(u){var l=Mr(u);return Un(l)&&(l=v),wc(sr(u,Un),Mt(l,2))}),up=Wt(function(u){var l=Mr(u);return l=typeof l=="function"?l:v,wc(sr(u,Un),v,l)}),hl=Wt(wu),xu=Wt(function(u){var l=u.length,b=l>1?u[l-1]:v;return b=typeof b=="function"?(u.pop(),b):v,dl(u,b)});function or(u){var l=F(u);return l.__chain__=!0,l}function Rc(u,l){return l(u)}var sh=Ko(function(u){var l=u.length,b=l?u[0]:0,j=this.__wrapped__,N=function(U){return hc(U,u)};return!(l>1||this.__actions__.length)&&j instanceof en&&En(b)?((j=j.slice(b,+b+(l?1:0))).__actions__.push({func:Rc,args:[N],thisArg:v}),new $r(j,this.__chain__).thru(function(U){return l&&!U.length&&U.push(v),U})):this.thru(N)}),yl=Sc(function(u,l,b){et.call(u,b)?++u[b]:Mo(u,b,1)}),cp=Gf(sl),kr=Gf(ll);function Fn(u,l){return(Ut(u)?vr:wn)(u,Mt(l,3))}function sp(u,l){return(Ut(u)?oc:xf)(u,Mt(l,3))}var Qr=Sc(function(u,l,b){et.call(u,b)?u[b].push(l):Mo(u,b,[l])}),Pt=Wt(function(u,l,b){var j=-1,N=typeof l=="function",U=Tr(u)?Qe(u.length):[];return wn(u,function(te){U[++j]=N?vn(l,te,b):xa(te,l,b)}),U}),vl=Sc(function(u,l,b){Mo(u,b,l)});function ka(u,l){return(Ut(u)?tn:Zr)(u,Mt(l,3))}var gl=Sc(function(u,l,b){u[b?0:1].push(l)},function(){return[[],[]]}),lp=Wt(function(u,l){if(u==null)return[];var b=l.length;return b>1&&rr(u,l[0],l[1])?l=[]:b>2&&rr(l[0],l[1],l[2])&&(l=[l[0]]),kf(u,tr(l,1),[])}),Eu=$d||function(){return kn.Date.now()};function fp(u,l,b){return l=b?v:l,l=u&&l==null?u.length:l,Wo(u,C,v,v,v,v,l)}function pp(u,l){var b;if(typeof l!="function")throw new K(E);return u=Gt(u),function(){return--u>0&&(b=l.apply(this,arguments)),u<=1&&(l=v),b}}var Su=Wt(function(u,l,b){var j=1;if(b.length){var N=Sr(b,mi(Su));j|=k}return Wo(u,j,l,b,N)}),dp=Wt(function(u,l,b){var j=3;if(b.length){var N=Sr(b,mi(dp));j|=k}return Wo(l,j,u,b,N)});function Ic(u,l,b){var j,N,U,te,se,_e,Ie=0,Ne=!1,Ge=!1,ct=!0;if(typeof u!="function")throw new K(E);function ht(kt){var At=j,qt=N;return j=N=v,Ie=kt,te=u.apply(qt,At)}function Et(kt){return Ie=kt,se=Ma(He,l),Ne?ht(kt):te}function Le(kt){var At=kt-_e;return _e===v||At>=l||At<0||Ge&&kt-Ie>=U}function He(){var kt=Eu();if(Le(kt))return It(kt);se=Ma(He,function(At){var qt=l-(At-_e);return Ge?pr(qt,U-(At-Ie)):qt}(kt))}function It(kt){return se=v,ct&&j?ht(kt):(j=N=v,te)}function tt(){var kt=Eu(),At=Le(kt);if(j=arguments,N=this,_e=kt,At){if(se===v)return Et(_e);if(Ge)return Hs(se),se=Ma(He,l),ht(_e)}return se===v&&(se=Ma(He,l)),te}return l=Gr(l)||0,hn(b)&&(Ne=!!b.leading,U=(Ge="maxWait"in b)?qn(Gr(b.maxWait)||0,l):U,ct="trailing"in b?!!b.trailing:ct),tt.cancel=function(){se!==v&&Hs(se),Ie=0,j=_e=N=se=v},tt.flush=function(){return se===v?te:It(Eu())},tt}var lh=Wt(function(u,l){return Ns(u,1,l)}),fh=Wt(function(u,l,b){return Ns(u,Gr(l)||0,b)});function ju(u,l){if(typeof u!="function"||l!=null&&typeof l!="function")throw new K(E);var b=function(){var j=arguments,N=l?l.apply(this,j):j[0],U=b.cache;if(U.has(N))return U.get(N);var te=u.apply(this,j);return b.cache=U.set(N,te)||U,te};return b.cache=new(ju.Cache||Ao),b}function $o(u){if(typeof u!="function")throw new K(E);return function(){var l=arguments;switch(l.length){case 0:return!u.call(this);case 1:return!u.call(this,l[0]);case 2:return!u.call(this,l[0],l[1]);case 3:return!u.call(this,l[0],l[1],l[2])}return!u.apply(this,l)}}ju.Cache=Ao;var hp=Lf(function(u,l){var b=(l=l.length==1&&Ut(l[0])?tn(l[0],jn(Mt())):tn(tr(l,1),jn(Mt()))).length;return Wt(function(j){for(var N=-1,U=pr(j.length,b);++N<U;)j[N]=l[N].call(this,j[N]);return vn(u,this,j)})}),Dt=Wt(function(u,l){var b=Sr(l,mi(Dt));return Wo(u,k,v,l,b)}),ml=Wt(function(u,l){var b=Sr(l,mi(ml));return Wo(u,I,v,l,b)}),Lc=Ko(function(u,l){return Wo(u,L,v,v,v,l)});function Ur(u,l){return u===l||u!=u&&l!=l}var ph=Pc(Tn),yp=Pc(function(u,l){return u>=l}),Oi=Rs(function(){return arguments}())?Rs:function(u){return An(u)&&et.call(u,"callee")&&!fr.call(u,"callee")},Ut=Qe.isArray,dh=nu?jn(nu):function(u){return An(u)&&Pn(u)==Ue};function Tr(u){return u!=null&&wi(u.length)&&!qo(u)}function Un(u){return An(u)&&Tr(u)}var eo=qd||Kc,hh=nc?jn(nc):function(u){return An(u)&&Pn(u)==B};function Pu(u){if(!An(u))return!1;var l=Pn(u);return l==X||l=="[object DOMException]"||typeof u.message=="string"&&typeof u.name=="string"&&!Zo(u)}function qo(u){if(!hn(u))return!1;var l=Pn(u);return l==Y||l==$||l=="[object AsyncFunction]"||l=="[object Proxy]"}function vp(u){return typeof u=="number"&&u==Gt(u)}function wi(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=W}function hn(u){var l=typeof u;return u!=null&&(l=="object"||l=="function")}function An(u){return u!=null&&typeof u=="object"}var ir=ru?jn(ru):function(u){return An(u)&&dr(u)==ie};function Au(u){return typeof u=="number"||An(u)&&Pn(u)==xe}function Zo(u){if(!An(u)||Pn(u)!=ge)return!1;var l=Fo(u);if(l===null)return!0;var b=et.call(l,"constructor")&&l.constructor;return typeof b=="function"&&b instanceof b&&Yt.call(b)==zr}var bl=sa?jn(sa):function(u){return An(u)&&Pn(u)==Be},_l=ci?jn(ci):function(u){return An(u)&&dr(u)==Se};function Mu(u){return typeof u=="string"||!Ut(u)&&An(u)&&Pn(u)==ve}function Dr(u){return typeof u=="symbol"||An(u)&&Pn(u)==je}var Vi=oo?jn(oo):function(u){return An(u)&&wi(u.length)&&!!un[Pn(u)]},gp=Pc(Vo),zc=Pc(function(u,l){return u<=l});function mp(u){if(!u)return[];if(Tr(u))return Mu(u)?jr(u):Ar(u);if(Uo&&u[Uo])return function(b){for(var j,N=[];!(j=b.next()).done;)N.push(j.value);return N}(u[Uo]());var l=dr(u);return(l==ie?lr:l==Se?Bo:$i)(u)}function Jo(u){return u?(u=Gr(u))===G||u===-1/0?17976931348623157e292*(u<0?-1:1):u==u?u:0:u===0?u:0}function Gt(u){var l=Jo(u),b=l%1;return l==l?b?l-b:l:0}function ku(u){return u?pi(Gt(u),0,ue):0}function Gr(u){if(typeof u=="number")return u;if(Dr(u))return ee;if(hn(u)){var l=typeof u.valueOf=="function"?u.valueOf():u;u=hn(l)?l+"":l}if(typeof u!="string")return u===0?u:+u;u=au(u);var b=Qn.test(u);return b||zn.test(u)?Oo(u.slice(2),b?2:8):Yn.test(u)?ee:+u}function Bc(u){return ko(u,ar(u))}function yn(u){return u==null?"":Pr(u)}var bp=Hi(function(u,l){if(_u(l)||Tr(l))ko(l,Jn(l),u);else for(var b in l)et.call(l,b)&&wa(u,b,l[b])}),Ta=Hi(function(u,l){ko(l,ar(l),u)}),Fc=Hi(function(u,l,b,j){ko(l,ar(l),u,j)}),Tu=Hi(function(u,l,b,j){ko(l,Jn(l),u,j)}),_p=Ko(hc),Du=Wt(function(u,l){u=w(u);var b=-1,j=l.length,N=j>2?l[2]:v;for(N&&rr(l[0],l[1],N)&&(j=1);++b<j;)for(var U=l[b],te=ar(U),se=-1,_e=te.length;++se<_e;){var Ie=te[se],Ne=u[Ie];(Ne===v||Ur(Ne,Fe[Ie])&&!et.call(u,Ie))&&(u[Ie]=U[Ie])}return u}),Ol=Wt(function(u){return u.push(v,Vf),vn(Uc,v,u)});function xi(u,l,b){var j=u==null?v:Ho(u,l);return j===v?b:j}function Wi(u,l){return u!=null&&Kf(u,l,jf)}var Nu=Hf(function(u,l,b){l!=null&&typeof l.toString!="function"&&(l=nn.call(l)),u[l]=b},Ml(ur)),Op=Hf(function(u,l,b){l!=null&&typeof l.toString!="function"&&(l=nn.call(l)),et.call(u,l)?u[l].push(b):u[l]=[b]},Mt),wp=Wt(xa);function Jn(u){return Tr(u)?Ms(u):Yo(u)}function ar(u){return Tr(u)?Ms(u,!0):th(u)}var xp=Hi(function(u,l,b){mc(u,l,b)}),Uc=Hi(function(u,l,b,j){mc(u,l,b,j)}),Ep=Ko(function(u,l){var b={};if(u==null)return b;var j=!1;l=tn(l,function(U){return U=hi(U,u),j||(j=U.length>1),U}),ko(u,Zs(u),b),j&&(b=Br(b,7,ih));for(var N=l.length;N--;)Oc(b,l[N]);return b}),Sp=Ko(function(u,l){return u==null?{}:function(b,j){return Tf(b,j,function(N,U){return Wi(b,U)})}(u,l)});function Ki(u,l){if(u==null)return{};var b=tn(Zs(u),function(j){return[j]});return l=Mt(l),Tf(u,b,function(j,N){return l(j,N[0])})}var Gc=$s(Jn),wl=$s(ar);function $i(u){return u==null?[]:da(u,Jn(u))}var xl=vi(function(u,l,b){return l=l.toLowerCase(),u+(b?Xc(l):l)});function Xc(u){return Yc(yn(u).toLowerCase())}function Hc(u){return(u=yn(u))&&u.replace(bt,cu).replace(_o,"")}var jp=vi(function(u,l,b){return u+(b?"-":"")+l.toLowerCase()}),El=vi(function(u,l,b){return u+(b?" ":"")+l.toLowerCase()}),Sl=Uf("toLowerCase"),jl=vi(function(u,l,b){return u+(b?"_":"")+l.toLowerCase()}),Cu=vi(function(u,l,b){return u+(b?" ":"")+Yc(l)}),Ei=vi(function(u,l,b){return u+(b?" ":"")+l.toUpperCase()}),Yc=Uf("toUpperCase");function Pl(u,l,b){return u=yn(u),(l=b?v:l)===v?function(j){return Ja.test(j)}(u)?function(j){return j.match(ua)||[]}(u):function(j){return j.match(be)||[]}(u):u.match(l)||[]}var Vc=Wt(function(u,l){try{return vn(u,v,l)}catch(b){return Pu(b)?b:new Kt(b)}}),Al=Ko(function(u,l){return vr(l,function(b){b=lo(b),Mo(u,b,Su(u[b],u))}),u});function Ml(u){return function(){return u}}var Pp=Xf(),kl=Xf(!0);function ur(u){return u}function Da(u){return Is(typeof u=="function"?u:Br(u,1))}var Tl=Wt(function(u,l){return function(b){return xa(b,u,l)}}),Dl=Wt(function(u,l){return function(b){return xa(u,b,l)}});function Wc(u,l,b){var j=Jn(l),N=yc(l,j);b!=null||hn(l)&&(N.length||!j.length)||(b=l,l=u,u=this,N=yc(l,Jn(l)));var U=!(hn(b)&&"chain"in b&&!b.chain),te=qo(u);return vr(N,function(se){var _e=l[se];u[se]=_e,te&&(u.prototype[se]=function(){var Ie=this.__chain__;if(U||Ie){var Ne=u(this.__wrapped__),Ge=Ne.__actions__=Ar(this.__actions__);return Ge.push({func:_e,args:arguments,thisArg:u}),Ne.__chain__=Ie,Ne}return _e.apply(u,Vn([this.value()],arguments))})}),u}function Ru(){}var Ap=Ws(tn),Nl=Ws(ic),yh=Ws(iu);function Gn(u){return tl(u)?br(lo(u)):function(l){return function(b){return Ho(b,l)}}(u)}var Do=gi(),Cl=gi(!0);function Iu(){return[]}function Kc(){return!1}var Rl=gu(function(u,l){return u+l},0),Il=Mc("ceil"),Ll=gu(function(u,l){return u/l},1),vh=Mc("floor"),Qo,zl=gu(function(u,l){return u*l},1),Bl=Mc("round"),Mp=gu(function(u,l){return u-l},0);return F.after=function(u,l){if(typeof l!="function")throw new K(E);return u=Gt(u),function(){if(--u<1)return l.apply(this,arguments)}},F.ary=fp,F.assign=bp,F.assignIn=Ta,F.assignInWith=Fc,F.assignWith=Tu,F.at=_p,F.before=pp,F.bind=Su,F.bindAll=Al,F.bindKey=dp,F.castArray=function(){if(!arguments.length)return[];var u=arguments[0];return Ut(u)?u:[u]},F.chain=or,F.chunk=function(u,l,b){l=(b?rr(u,l,b):l===v)?1:qn(Gt(l),0);var j=u==null?0:u.length;if(!j||l<1)return[];for(var N=0,U=0,te=Qe(uc(j/l));N<j;)te[U++]=Jr(u,N,N+=l);return te},F.compact=function(u){for(var l=-1,b=u==null?0:u.length,j=0,N=[];++l<b;){var U=u[l];U&&(N[j++]=U)}return N},F.concat=function(){var u=arguments.length;if(!u)return[];for(var l=Qe(u-1),b=arguments[0],j=u;j--;)l[j-1]=arguments[j];return Vn(Ut(b)?Ar(b):[b],tr(l,1))},F.cond=function(u){var l=u==null?0:u.length,b=Mt();return u=l?tn(u,function(j){if(typeof j[1]!="function")throw new K(E);return[b(j[0]),j[1]]}):[],Wt(function(j){for(var N=-1;++N<l;){var U=u[N];if(vn(U[0],this,j))return vn(U[1],this,j)}})},F.conforms=function(u){return function(l){var b=Jn(l);return function(j){return Ds(j,l,b)}}(Br(u,1))},F.constant=Ml,F.countBy=yl,F.create=function(u,l){var b=Oa(u);return l==null?b:Ts(b,l)},F.curry=function u(l,b,j){var N=Wo(l,8,v,v,v,v,v,b=j?v:b);return N.placeholder=u.placeholder,N},F.curryRight=function u(l,b,j){var N=Wo(l,T,v,v,v,v,v,b=j?v:b);return N.placeholder=u.placeholder,N},F.debounce=Ic,F.defaults=Du,F.defaultsDeep=Ol,F.defer=lh,F.delay=fh,F.difference=qf,F.differenceBy=Zf,F.differenceWith=Jf,F.drop=function(u,l,b){var j=u==null?0:u.length;return j?Jr(u,(l=b||l===v?1:Gt(l))<0?0:l,j):[]},F.dropRight=function(u,l,b){var j=u==null?0:u.length;return j?Jr(u,0,(l=j-(l=b||l===v?1:Gt(l)))<0?0:l):[]},F.dropRightWhile=function(u,l){return u&&u.length?hu(u,Mt(l,3),!0,!0):[]},F.dropWhile=function(u,l){return u&&u.length?hu(u,Mt(l,3),!0):[]},F.fill=function(u,l,b,j){var N=u==null?0:u.length;return N?(b&&typeof b!="number"&&rr(u,l,b)&&(b=0,j=N),function(U,te,se,_e){var Ie=U.length;for((se=Gt(se))<0&&(se=-se>Ie?0:Ie+se),(_e=_e===v||_e>Ie?Ie:Gt(_e))<0&&(_e+=Ie),_e=se>_e?0:ku(_e);se<_e;)U[se++]=te;return U}(u,l,b,j)):[]},F.filter=function(u,l){return(Ut(u)?sr:cn)(u,Mt(l,3))},F.flatMap=function(u,l){return tr(ka(u,l),1)},F.flatMapDeep=function(u,l){return tr(ka(u,l),G)},F.flatMapDepth=function(u,l,b){return b=b===v?1:Gt(b),tr(ka(u,l),b)},F.flatten=fl,F.flattenDeep=function(u){return u!=null&&u.length?tr(u,G):[]},F.flattenDepth=function(u,l){return u!=null&&u.length?tr(u,l=l===v?1:Gt(l)):[]},F.flip=function(u){return Wo(u,512)},F.flow=Pp,F.flowRight=kl,F.fromPairs=function(u){for(var l=-1,b=u==null?0:u.length,j={};++l<b;){var N=u[l];j[N[0]]=N[1]}return j},F.functions=function(u){return u==null?[]:yc(u,Jn(u))},F.functionsIn=function(u){return u==null?[]:yc(u,ar(u))},F.groupBy=Qr,F.initial=function(u){return u!=null&&u.length?Jr(u,0,-1):[]},F.intersection=Qf,F.intersectionBy=ep,F.intersectionWith=tp,F.invert=Nu,F.invertBy=Op,F.invokeMap=Pt,F.iteratee=Da,F.keyBy=vl,F.keys=Jn,F.keysIn=ar,F.map=ka,F.mapKeys=function(u,l){var b={};return l=Mt(l,3),pt(u,function(j,N,U){Mo(b,l(j,N,U),j)}),b},F.mapValues=function(u,l){var b={};return l=Mt(l,3),pt(u,function(j,N,U){Mo(b,N,l(j,N,U))}),b},F.matches=function(u){return Pf(Br(u,1))},F.matchesProperty=function(u,l){return Af(u,Br(l,1))},F.memoize=ju,F.merge=xp,F.mergeWith=Uc,F.method=Tl,F.methodOf=Dl,F.mixin=Wc,F.negate=$o,F.nthArg=function(u){return u=Gt(u),Wt(function(l){return Mf(l,u)})},F.omit=Ep,F.omitBy=function(u,l){return Ki(u,$o(Mt(l)))},F.once=function(u){return pp(2,u)},F.orderBy=function(u,l,b,j){return u==null?[]:(Ut(l)||(l=l==null?[]:[l]),Ut(b=j?v:b)||(b=b==null?[]:[b]),kf(u,l,b))},F.over=Ap,F.overArgs=hp,F.overEvery=Nl,F.overSome=yh,F.partial=Dt,F.partialRight=ml,F.partition=gl,F.pick=Sp,F.pickBy=Ki,F.property=Gn,F.propertyOf=function(u){return function(l){return u==null?v:Ho(u,l)}},F.pull=Cc,F.pullAll=np,F.pullAllBy=function(u,l,b){return u&&u.length&&l&&l.length?Ls(u,l,Mt(b,2)):u},F.pullAllWith=function(u,l,b){return u&&u.length&&l&&l.length?Ls(u,l,v,b):u},F.pullAt=fo,F.range=Do,F.rangeRight=Cl,F.rearg=Lc,F.reject=function(u,l){return(Ut(u)?sr:cn)(u,$o(Mt(l,3)))},F.remove=function(u,l){var b=[];if(!u||!u.length)return b;var j=-1,N=[],U=u.length;for(l=Mt(l,3);++j<U;){var te=u[j];l(te,j,u)&&(b.push(te),N.push(j))}return ja(u,N),b},F.rest=function(u,l){if(typeof u!="function")throw new K(E);return Wt(u,l=l===v?l:Gt(l))},F.reverse=To,F.sampleSize=function(u,l,b){return l=(b?rr(u,l,b):l===v)?1:Gt(l),(Ut(u)?_f:Bs)(u,l)},F.set=function(u,l,b){return u==null?u:Pa(u,l,b)},F.setWith=function(u,l,b,j){return j=typeof j=="function"?j:v,u==null?u:Pa(u,l,b,j)},F.shuffle=function(u){return(Ut(u)?Of:oh)(u)},F.slice=function(u,l,b){var j=u==null?0:u.length;return j?(b&&typeof b!="number"&&rr(u,l,b)?(l=0,b=j):(l=l==null?0:Gt(l),b=b===v?j:Gt(b)),Jr(u,l,b)):[]},F.sortBy=lp,F.sortedUniq=function(u){return u&&u.length?Nf(u):[]},F.sortedUniqBy=function(u,l){return u&&u.length?Nf(u,Mt(l,2)):[]},F.split=function(u,l,b){return b&&typeof b!="number"&&rr(u,l,b)&&(l=b=v),(b=b===v?ue:b>>>0)?(u=yn(u))&&(typeof l=="string"||l!=null&&!bl(l))&&!(l=Pr(l))&&uo(u)?yi(jr(u),0,b):u.split(l,b):[]},F.spread=function(u,l){if(typeof u!="function")throw new K(E);return l=l==null?0:qn(Gt(l),0),Wt(function(b){var j=b[l],N=yi(b,0,l);return j&&Vn(N,j),vn(u,this,N)})},F.tail=function(u){var l=u==null?0:u.length;return l?Jr(u,1,l):[]},F.take=function(u,l,b){return u&&u.length?Jr(u,0,(l=b||l===v?1:Gt(l))<0?0:l):[]},F.takeRight=function(u,l,b){var j=u==null?0:u.length;return j?Jr(u,(l=j-(l=b||l===v?1:Gt(l)))<0?0:l,j):[]},F.takeRightWhile=function(u,l){return u&&u.length?hu(u,Mt(l,3),!1,!0):[]},F.takeWhile=function(u,l){return u&&u.length?hu(u,Mt(l,3)):[]},F.tap=function(u,l){return l(u),u},F.throttle=function(u,l,b){var j=!0,N=!0;if(typeof u!="function")throw new K(E);return hn(b)&&(j="leading"in b?!!b.leading:j,N="trailing"in b?!!b.trailing:N),Ic(u,l,{leading:j,maxWait:l,trailing:N})},F.thru=Rc,F.toArray=mp,F.toPairs=Gc,F.toPairsIn=wl,F.toPath=function(u){return Ut(u)?tn(u,lo):Dr(u)?[u]:Ar(ul(yn(u)))},F.toPlainObject=Bc,F.transform=function(u,l,b){var j=Ut(u),N=j||eo(u)||Vi(u);if(l=Mt(l,4),b==null){var U=u&&u.constructor;b=N?j?new U:[]:hn(u)&&qo(U)?Oa(Fo(u)):{}}return(N?vr:pt)(u,function(te,se,_e){return l(b,te,se,_e)}),b},F.unary=function(u){return fp(u,1)},F.union=ch,F.unionBy=Fr,F.unionWith=rp,F.uniq=function(u){return u&&u.length?di(u):[]},F.uniqBy=function(u,l){return u&&u.length?di(u,Mt(l,2)):[]},F.uniqWith=function(u,l){return l=typeof l=="function"?l:v,u&&u.length?di(u,v,l):[]},F.unset=function(u,l){return u==null||Oc(u,l)},F.unzip=wu,F.unzipWith=dl,F.update=function(u,l,b){return u==null?u:Cf(u,l,Xs(b))},F.updateWith=function(u,l,b,j){return j=typeof j=="function"?j:v,u==null?u:Cf(u,l,Xs(b),j)},F.values=$i,F.valuesIn=function(u){return u==null?[]:da(u,ar(u))},F.without=op,F.words=Pl,F.wrap=function(u,l){return Dt(Xs(l),u)},F.xor=ip,F.xorBy=ap,F.xorWith=up,F.zip=hl,F.zipObject=function(u,l){return If(u||[],l||[],wa)},F.zipObjectDeep=function(u,l){return If(u||[],l||[],Pa)},F.zipWith=xu,F.entries=Gc,F.entriesIn=wl,F.extend=Ta,F.extendWith=Fc,Wc(F,F),F.add=Rl,F.attempt=Vc,F.camelCase=xl,F.capitalize=Xc,F.ceil=Il,F.clamp=function(u,l,b){return b===v&&(b=l,l=v),b!==v&&(b=(b=Gr(b))==b?b:0),l!==v&&(l=(l=Gr(l))==l?l:0),pi(Gr(u),l,b)},F.clone=function(u){return Br(u,4)},F.cloneDeep=function(u){return Br(u,5)},F.cloneDeepWith=function(u,l){return Br(u,5,l=typeof l=="function"?l:v)},F.cloneWith=function(u,l){return Br(u,4,l=typeof l=="function"?l:v)},F.conformsTo=function(u,l){return l==null||Ds(u,l,Jn(l))},F.deburr=Hc,F.defaultTo=function(u,l){return u==null||u!=u?l:u},F.divide=Ll,F.endsWith=function(u,l,b){u=yn(u),l=Pr(l);var j=u.length,N=b=b===v?j:pi(Gt(b),0,j);return(b-=l.length)>=0&&u.slice(b,N)==l},F.eq=Ur,F.escape=function(u){return(u=yn(u))&&st.test(u)?u.replace(yt,Rn):u},F.escapeRegExp=function(u){return(u=yn(u))&&_n.test(u)?u.replace(fn,"\\$&"):u},F.every=function(u,l,b){var j=Ut(u)?ic:Ef;return b&&rr(u,l,b)&&(l=v),j(u,Mt(l,3))},F.find=cp,F.findIndex=sl,F.findKey=function(u,l){return io(u,Mt(l,3),pt)},F.findLast=kr,F.findLastIndex=ll,F.findLastKey=function(u,l){return io(u,Mt(l,3),mn)},F.floor=vh,F.forEach=Fn,F.forEachRight=sp,F.forIn=function(u,l){return u==null?u:Vt(u,Mt(l,3),ar)},F.forInRight=function(u,l){return u==null?u:Bn(u,Mt(l,3),ar)},F.forOwn=function(u,l){return u&&pt(u,Mt(l,3))},F.forOwnRight=function(u,l){return u&&mn(u,Mt(l,3))},F.get=xi,F.gt=ph,F.gte=yp,F.has=function(u,l){return u!=null&&Kf(u,l,Sf)},F.hasIn=Wi,F.head=pl,F.identity=ur,F.includes=function(u,l,b,j){u=Tr(u)?u:$i(u),b=b&&!j?Gt(b):0;var N=u.length;return b<0&&(b=qn(N+b,0)),Mu(u)?b<=N&&u.indexOf(l,b)>-1:!!N&&si(u,l,b)>-1},F.indexOf=function(u,l,b){var j=u==null?0:u.length;if(!j)return-1;var N=b==null?0:Gt(b);return N<0&&(N=qn(j+N,0)),si(u,l,N)},F.inRange=function(u,l,b){return l=Jo(l),b===v?(b=l,l=0):b=Jo(b),function(j,N,U){return j>=pr(N,U)&&j<qn(N,U)}(u=Gr(u),l,b)},F.invoke=wp,F.isArguments=Oi,F.isArray=Ut,F.isArrayBuffer=dh,F.isArrayLike=Tr,F.isArrayLikeObject=Un,F.isBoolean=function(u){return u===!0||u===!1||An(u)&&Pn(u)==V},F.isBuffer=eo,F.isDate=hh,F.isElement=function(u){return An(u)&&u.nodeType===1&&!Zo(u)},F.isEmpty=function(u){if(u==null)return!0;if(Tr(u)&&(Ut(u)||typeof u=="string"||typeof u.splice=="function"||eo(u)||Vi(u)||Oi(u)))return!u.length;var l=dr(u);if(l==ie||l==Se)return!u.size;if(_u(u))return!Yo(u).length;for(var b in u)if(et.call(u,b))return!1;return!0},F.isEqual=function(u,l){return Ea(u,l)},F.isEqualWith=function(u,l,b){var j=(b=typeof b=="function"?b:v)?b(u,l):v;return j===v?Ea(u,l,v,b):!!j},F.isError=Pu,F.isFinite=function(u){return typeof u=="number"&&yf(u)},F.isFunction=qo,F.isInteger=vp,F.isLength=wi,F.isMap=ir,F.isMatch=function(u,l){return u===l||gc(u,l,Qs(l))},F.isMatchWith=function(u,l,b){return b=typeof b=="function"?b:v,gc(u,l,Qs(l),b)},F.isNaN=function(u){return Au(u)&&u!=+u},F.isNative=function(u){if(bi(u))throw new Kt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Sa(u)},F.isNil=function(u){return u==null},F.isNull=function(u){return u===null},F.isNumber=Au,F.isObject=hn,F.isObjectLike=An,F.isPlainObject=Zo,F.isRegExp=bl,F.isSafeInteger=function(u){return vp(u)&&u>=-9007199254740991&&u<=W},F.isSet=_l,F.isString=Mu,F.isSymbol=Dr,F.isTypedArray=Vi,F.isUndefined=function(u){return u===v},F.isWeakMap=function(u){return An(u)&&dr(u)==Ae},F.isWeakSet=function(u){return An(u)&&Pn(u)=="[object WeakSet]"},F.join=function(u,l){return u==null?"":Ps.call(u,l)},F.kebabCase=jp,F.last=Mr,F.lastIndexOf=function(u,l,b){var j=u==null?0:u.length;if(!j)return-1;var N=j;return b!==v&&(N=(N=Gt(b))<0?qn(j+N,0):pr(N,j-1)),l==l?function(U,te,se){for(var _e=se+1;_e--;)if(U[_e]===te)return _e;return _e}(u,l,N):wo(u,xo,N,!0)},F.lowerCase=El,F.lowerFirst=Sl,F.lt=gp,F.lte=zc,F.max=function(u){return u&&u.length?In(u,ur,Tn):v},F.maxBy=function(u,l){return u&&u.length?In(u,Mt(l,2),Tn):v},F.mean=function(u){return Jt(u,ur)},F.meanBy=function(u,l){return Jt(u,Mt(l,2))},F.min=function(u){return u&&u.length?In(u,ur,Vo):v},F.minBy=function(u,l){return u&&u.length?In(u,Mt(l,2),Vo):v},F.stubArray=Iu,F.stubFalse=Kc,F.stubObject=function(){return{}},F.stubString=function(){return""},F.stubTrue=function(){return!0},F.multiply=zl,F.nth=function(u,l){return u&&u.length?Mf(u,Gt(l)):v},F.noConflict=function(){return kn._===this&&(kn._=On),this},F.noop=Ru,F.now=Eu,F.pad=function(u,l,b){u=yn(u);var j=(l=Gt(l))?co(u):0;if(!l||j>=l)return u;var N=(l-j)/2;return jc(ga(N),b)+u+jc(uc(N),b)},F.padEnd=function(u,l,b){u=yn(u);var j=(l=Gt(l))?co(u):0;return l&&j<l?u+jc(l-j,b):u},F.padStart=function(u,l,b){u=yn(u);var j=(l=Gt(l))?co(u):0;return l&&j<l?jc(l-j,b)+u:u},F.parseInt=function(u,l,b){return b||l==null?l=0:l&&(l=+l),sc(yn(u).replace(Ct,""),l||0)},F.random=function(u,l,b){if(b&&typeof b!="boolean"&&rr(u,l,b)&&(l=b=v),b===v&&(typeof l=="boolean"?(b=l,l=v):typeof u=="boolean"&&(b=u,u=v)),u===v&&l===v?(u=0,l=1):(u=Jo(u),l===v?(l=u,u=0):l=Jo(l)),u>l){var j=u;u=l,l=j}if(b||u%1||l%1){var N=lc();return pr(u+N*(l-u+ui("1e-"+((N+"").length-1))),l)}return zs(u,l)},F.reduce=function(u,l,b){var j=Ut(u)?la:$n,N=arguments.length<3;return j(u,Mt(l,4),b,N,wn)},F.reduceRight=function(u,l,b){var j=Ut(u)?ac:$n,N=arguments.length<3;return j(u,Mt(l,4),b,N,xf)},F.repeat=function(u,l,b){return l=(b?rr(u,l,b):l===v)?1:Gt(l),bc(yn(u),l)},F.replace=function(){var u=arguments,l=yn(u[0]);return u.length<3?l:l.replace(u[1],u[2])},F.result=function(u,l,b){var j=-1,N=(l=hi(l,u)).length;for(N||(N=1,u=v);++j<N;){var U=u==null?v:u[lo(l[j])];U===v&&(j=N,U=b),u=qo(U)?U.call(u):U}return u},F.round=Bl,F.runInContext=Oe,F.sample=function(u){return(Ut(u)?ks:nh)(u)},F.size=function(u){if(u==null)return 0;if(Tr(u))return Mu(u)?co(u):u.length;var l=dr(u);return l==ie||l==Se?u.size:Yo(u).length},F.snakeCase=jl,F.some=function(u,l,b){var j=Ut(u)?iu:Fs;return b&&rr(u,l,b)&&(l=v),j(u,Mt(l,3))},F.sortedIndex=function(u,l){return _c(u,l)},F.sortedIndexBy=function(u,l,b){return Us(u,l,Mt(b,2))},F.sortedIndexOf=function(u,l){var b=u==null?0:u.length;if(b){var j=_c(u,l);if(j<b&&Ur(u[j],l))return j}return-1},F.sortedLastIndex=function(u,l){return _c(u,l,!0)},F.sortedLastIndexBy=function(u,l,b){return Us(u,l,Mt(b,2),!0)},F.sortedLastIndexOf=function(u,l){if(u!=null&&u.length){var b=_c(u,l,!0)-1;if(Ur(u[b],l))return b}return-1},F.startCase=Cu,F.startsWith=function(u,l,b){return u=yn(u),b=b==null?0:pi(Gt(b),0,u.length),l=Pr(l),u.slice(b,b+l.length)==l},F.subtract=Mp,F.sum=function(u){return u&&u.length?pa(u,ur):0},F.sumBy=function(u,l){return u&&u.length?pa(u,Mt(l,2)):0},F.template=function(u,l,b){var j=F.templateSettings;b&&rr(u,l,b)&&(l=v),u=yn(u),l=Fc({},l,j,Yf);var N,U,te=Fc({},l.imports,j.imports,Yf),se=Jn(te),_e=da(te,se),Ie=0,Ne=l.interpolate||xt,Ge="__p += '",ct=P((l.escape||xt).source+"|"+Ne.source+"|"+(Ne===Lt?ft:xt).source+"|"+(l.evaluate||xt).source+"|$","g"),ht="//# sourceURL="+(et.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Qu+"]")+`
`;u.replace(ct,function(He,It,tt,kt,At,qt){return tt||(tt=kt),Ge+=u.slice(Ie,qt).replace(Rt,zo),It&&(N=!0,Ge+=`' +
__e(`+It+`) +
'`),At&&(U=!0,Ge+=`';
`+At+`;
__p += '`),tt&&(Ge+=`' +
((__t = (`+tt+`)) == null ? '' : __t) +
'`),Ie=qt+He.length,He}),Ge+=`';
`;var Et=et.call(l,"variable")&&l.variable;if(Et){if(We.test(Et))throw new Kt("Invalid `variable` option passed into `_.template`")}else Ge=`with (obj) {
`+Ge+`
}
`;Ge=(U?Ge.replace(ze,""):Ge).replace(wt,"$1").replace(Tt,"$1;"),Ge="function("+(Et||"obj")+`) {
`+(Et?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(N?", __e = _.escape":"")+(U?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ge+`return __p
}`;var Le=Vc(function(){return gn(se,ht+"return "+Ge).apply(v,_e)});if(Le.source=Ge,Pu(Le))throw Le;return Le},F.times=function(u,l){if((u=Gt(u))<1||u>W)return[];var b=ue,j=pr(u,ue);l=Mt(l),u-=ue;for(var N=Bi(j,l);++b<u;)l(b);return N},F.toFinite=Jo,F.toInteger=Gt,F.toLength=ku,F.toLower=function(u){return yn(u).toLowerCase()},F.toNumber=Gr,F.toSafeInteger=function(u){return u?pi(Gt(u),-9007199254740991,W):u===0?u:0},F.toString=yn,F.toUpper=function(u){return yn(u).toUpperCase()},F.trim=function(u,l,b){if((u=yn(u))&&(b||l===v))return au(u);if(!u||!(l=Pr(l)))return u;var j=jr(u),N=jr(l);return yi(j,Ir(j,N),uu(j,N)+1).join("")},F.trimEnd=function(u,l,b){if((u=yn(u))&&(b||l===v))return u.slice(0,_r(u)+1);if(!u||!(l=Pr(l)))return u;var j=jr(u);return yi(j,0,uu(j,jr(l))+1).join("")},F.trimStart=function(u,l,b){if((u=yn(u))&&(b||l===v))return u.replace(Ct,"");if(!u||!(l=Pr(l)))return u;var j=jr(u);return yi(j,Ir(j,jr(l))).join("")},F.truncate=function(u,l){var b=30,j="...";if(hn(l)){var N="separator"in l?l.separator:N;b="length"in l?Gt(l.length):b,j="omission"in l?Pr(l.omission):j}var U=(u=yn(u)).length;if(uo(u)){var te=jr(u);U=te.length}if(b>=U)return u;var se=b-co(j);if(se<1)return j;var _e=te?yi(te,0,se).join(""):u.slice(0,se);if(N===v)return _e+j;if(te&&(se+=_e.length-se),bl(N)){if(u.slice(se).search(N)){var Ie,Ne=_e;for(N.global||(N=P(N.source,yn(Xt.exec(N))+"g")),N.lastIndex=0;Ie=N.exec(Ne);)var Ge=Ie.index;_e=_e.slice(0,Ge===v?se:Ge)}}else if(u.indexOf(Pr(N),se)!=se){var ct=_e.lastIndexOf(N);ct>-1&&(_e=_e.slice(0,ct))}return _e+j},F.unescape=function(u){return(u=yn(u))&&Me.test(u)?u.replace(jt,Lr):u},F.uniqueId=function(u){var l=++pn;return yn(u)+l},F.upperCase=Ei,F.upperFirst=Yc,F.each=Fn,F.eachRight=sp,F.first=pl,Wc(F,(Qo={},pt(F,function(u,l){et.call(F.prototype,l)||(Qo[l]=u)}),Qo),{chain:!1}),F.VERSION="4.17.21",vr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){F[u].placeholder=F}),vr(["drop","take"],function(u,l){en.prototype[u]=function(b){b=b===v?1:qn(Gt(b),0);var j=this.__filtered__&&!l?new en(this):this.clone();return j.__filtered__?j.__takeCount__=pr(b,j.__takeCount__):j.__views__.push({size:pr(b,ue),type:u+(j.__dir__<0?"Right":"")}),j},en.prototype[u+"Right"]=function(b){return this.reverse()[u](b).reverse()}}),vr(["filter","map","takeWhile"],function(u,l){var b=l+1,j=b==1||b==3;en.prototype[u]=function(N){var U=this.clone();return U.__iteratees__.push({iteratee:Mt(N,3),type:b}),U.__filtered__=U.__filtered__||j,U}}),vr(["head","last"],function(u,l){var b="take"+(l?"Right":"");en.prototype[u]=function(){return this[b](1).value()[0]}}),vr(["initial","tail"],function(u,l){var b="drop"+(l?"":"Right");en.prototype[u]=function(){return this.__filtered__?new en(this):this[b](1)}}),en.prototype.compact=function(){return this.filter(ur)},en.prototype.find=function(u){return this.filter(u).head()},en.prototype.findLast=function(u){return this.reverse().find(u)},en.prototype.invokeMap=Wt(function(u,l){return typeof u=="function"?new en(this):this.map(function(b){return xa(b,u,l)})}),en.prototype.reject=function(u){return this.filter($o(Mt(u)))},en.prototype.slice=function(u,l){u=Gt(u);var b=this;return b.__filtered__&&(u>0||l<0)?new en(b):(u<0?b=b.takeRight(-u):u&&(b=b.drop(u)),l!==v&&(b=(l=Gt(l))<0?b.dropRight(-l):b.take(l-u)),b)},en.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},en.prototype.toArray=function(){return this.take(ue)},pt(en.prototype,function(u,l){var b=/^(?:filter|find|map|reject)|While$/.test(l),j=/^(?:head|last)$/.test(l),N=F[j?"take"+(l=="last"?"Right":""):l],U=j||/^find/.test(l);N&&(F.prototype[l]=function(){var te=this.__wrapped__,se=j?[1]:arguments,_e=te instanceof en,Ie=se[0],Ne=_e||Ut(te),Ge=function(It){var tt=N.apply(F,Vn([It],se));return j&&ct?tt[0]:tt};Ne&&b&&typeof Ie=="function"&&Ie.length!=1&&(_e=Ne=!1);var ct=this.__chain__,ht=!!this.__actions__.length,Et=U&&!ct,Le=_e&&!ht;if(!U&&Ne){te=Le?te:new en(this);var He=u.apply(te,se);return He.__actions__.push({func:Rc,args:[Ge],thisArg:v}),new $r(He,ct)}return Et&&Le?u.apply(this,se):(He=this.thru(Ge),Et?j?He.value()[0]:He.value():He)})}),vr(["pop","push","shift","sort","splice","unshift"],function(u){var l=fe[u],b=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",j=/^(?:pop|shift)$/.test(u);F.prototype[u]=function(){var N=arguments;if(j&&!this.__chain__){var U=this.value();return l.apply(Ut(U)?U:[],N)}return this[b](function(te){return l.apply(Ut(te)?te:[],N)})}}),pt(en.prototype,function(u,l){var b=F[l];if(b){var j=b.name+"";et.call(_a,j)||(_a[j]=[]),_a[j].push({name:l,func:b})}}),_a[vu(v,2).name]=[{name:"wrapper",func:v}],en.prototype.clone=function(){var u=new en(this.__wrapped__);return u.__actions__=Ar(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Ar(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Ar(this.__views__),u},en.prototype.reverse=function(){if(this.__filtered__){var u=new en(this);u.__dir__=-1,u.__filtered__=!0}else(u=this.clone()).__dir__*=-1;return u},en.prototype.value=function(){var u=this.__wrapped__.value(),l=this.__dir__,b=Ut(u),j=l<0,N=b?u.length:0,U=function(qt,vt,St){for(var Mn=-1,me=St.length;++Mn<me;){var po=St[Mn],Wn=po.size;switch(po.type){case"drop":qt+=Wn;break;case"dropRight":vt-=Wn;break;case"take":vt=pr(vt,qt+Wn);break;case"takeRight":qt=qn(qt,vt-Wn)}}return{start:qt,end:vt}}(0,N,this.__views__),te=U.start,se=U.end,_e=se-te,Ie=j?se:te-1,Ne=this.__iteratees__,Ge=Ne.length,ct=0,ht=pr(_e,this.__takeCount__);if(!b||!j&&N==_e&&ht==_e)return Rf(u,this.__actions__);var Et=[];e:for(;_e--&&ct<ht;){for(var Le=-1,He=u[Ie+=l];++Le<Ge;){var It=Ne[Le],tt=It.iteratee,kt=It.type,At=tt(He);if(kt==2)He=At;else if(!At){if(kt==1)continue e;break e}}Et[ct++]=He}return Et},F.prototype.at=sh,F.prototype.chain=function(){return or(this)},F.prototype.commit=function(){return new $r(this.value(),this.__chain__)},F.prototype.next=function(){this.__values__===v&&(this.__values__=mp(this.value()));var u=this.__index__>=this.__values__.length;return{done:u,value:u?v:this.__values__[this.__index__++]}},F.prototype.plant=function(u){for(var l,b=this;b instanceof pu;){var j=cl(b);j.__index__=0,j.__values__=v,l?N.__wrapped__=j:l=j;var N=j;b=b.__wrapped__}return N.__wrapped__=u,l},F.prototype.reverse=function(){var u=this.__wrapped__;if(u instanceof en){var l=u;return this.__actions__.length&&(l=new en(this)),(l=l.reverse()).__actions__.push({func:Rc,args:[To],thisArg:v}),new $r(l,this.__chain__)}return this.thru(To)},F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=function(){return Rf(this.__wrapped__,this.__actions__)},F.prototype.first=F.prototype.head,Uo&&(F.prototype[Uo]=function(){return this}),F}();kn._=so,(O=function(){return so}.call(p,o,p,d))===v||(d.exports=O)}).call(this)}).call(this,o(68),o(221)(s))},function(s,p,o){var f=o(7),d=o(34),O=o(33),v=o(87),E=o(62),M=o(174),A=o(28),T=f.TypeError,k=A("toPrimitive");s.exports=function(I,C){if(!O(I)||v(I))return I;var L,G=E(I,k);if(G){if(C===void 0&&(C="default"),L=d(G,I,C),!O(L)||v(L))return L;throw T("Can't convert object to primitive value")}return C===void 0&&(C="number"),M(I,C)}},function(s,p,o){var f=o(108);s.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(s,p,o){var f=o(36),d=o(18),O=o(91);s.exports=!f&&!d(function(){return Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a!=7})},function(s,p,o){var f=o(35),d=o(135),O=o(50),v=o(38);s.exports=function(E,M){for(var A=d(M),T=v.f,k=O.f,I=0;I<A.length;I++){var C=A[I];f(E,C)||T(E,C,k(M,C))}}},function(s,p,o){var f=o(46),d=o(15),O=o(74),v=o(112),E=o(32),M=d([].concat);s.exports=f("Reflect","ownKeys")||function(A){var T=O.f(E(A)),k=v.f;return k?M(T,k(A)):T}},function(s,p,o){var f=o(15),d=o(35),O=o(41),v=o(137).indexOf,E=o(72),M=f([].push);s.exports=function(A,T){var k,I=O(A),C=0,L=[];for(k in I)!d(E,k)&&d(I,k)&&M(L,k);for(;T.length>C;)d(I,k=T[C++])&&(~v(L,k)||M(L,k));return L}},function(s,p,o){var f=o(41),d=o(75),O=o(45),v=function(E){return function(M,A,T){var k,I=f(M),C=O(I),L=d(T,C);if(E&&A!=A){for(;C>L;)if((k=I[L++])!=k)return!0}else for(;C>L;L++)if((E||L in I)&&I[L]===A)return E||L||0;return!E&&-1}};s.exports={includes:v(!0),indexOf:v(!1)}},function(s,p,o){var f=o(46);s.exports=f("document","documentElement")},function(s,p,o){var f=o(51),d=o(41),O=o(74).f,v=o(114),E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(M){return E&&f(M)=="Window"?function(A){try{return O(A)}catch(T){return v(E)}}(M):O(d(M))}},function(s,p,o){var f=o(28);p.f=f},function(s,p,o){var f=o(177),d=o(35),O=o(140),v=o(38).f;s.exports=function(E){var M=f.Symbol||(f.Symbol={});d(M,E)||v(M,E,{value:O.f(E)})}},function(s,p,o){var f,d,O,v=o(18),E=o(30),M=o(60),A=o(101),T=o(42),k=o(28),I=o(71),C=k("iterator"),L=!1;[].keys&&("next"in(O=[].keys())?(d=A(A(O)))!==Object.prototype&&(f=d):L=!0),f==null||v(function(){var G={};return f[C].call(G)!==G})?f={}:I&&(f=M(f)),E(f[C])||T(f,C,function(){return this}),s.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:L}},function(s,p,o){var f=o(18);s.exports=!f(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},function(s,p,o){var f=o(16),d=o(15),O=o(72),v=o(33),E=o(35),M=o(38).f,A=o(74),T=o(139),k=o(183),I=o(90),C=o(185),L=!1,G=I("meta"),W=0,ee=function(oe){M(oe,G,{value:{objectID:"O"+W++,weakData:{}}})},ue=s.exports={enable:function(){ue.enable=function(){},L=!0;var oe=A.f,J=d([].splice),Q={};Q[G]=1,oe(Q).length&&(A.f=function(V){for(var B=oe(V),X=0,Y=B.length;X<Y;X++)if(B[X]===G){J(B,X,1);break}return B},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:T.f}))},fastKey:function(oe,J){if(!v(oe))return typeof oe=="symbol"?oe:(typeof oe=="string"?"S":"P")+oe;if(!E(oe,G)){if(!k(oe))return"F";if(!J)return"E";ee(oe)}return oe[G].objectID},getWeakData:function(oe,J){if(!E(oe,G)){if(!k(oe))return!0;if(!J)return!1;ee(oe)}return oe[G].weakData},onFreeze:function(oe){return C&&L&&k(oe)&&!E(oe,G)&&ee(oe),oe}};O[G]=!0},function(s,p,o){var f=o(28),d=o(80),O=f("iterator"),v=Array.prototype;s.exports=function(E){return E!==void 0&&(d.Array===E||v[O]===E)}},function(s,p,o){var f=o(7),d=o(34),O=o(56),v=o(32),E=o(88),M=o(118),A=f.TypeError;s.exports=function(T,k){var I=arguments.length<2?M(T):k;if(O(I))return v(d(I,T));throw A(E(T)+" is not iterable")}},function(s,p,o){var f=o(34),d=o(32),O=o(62);s.exports=function(v,E,M){var A,T;d(v);try{if(!(A=O(v,"return"))){if(E==="throw")throw M;return M}A=f(A,v)}catch(k){T=!0,A=k}if(E==="throw")throw M;if(T)throw A;return d(A),M}},function(s,p,o){var f=o(30),d=o(33),O=o(102);s.exports=function(v,E,M){var A,T;return O&&f(A=E.constructor)&&A!==M&&d(T=A.prototype)&&T!==M.prototype&&O(v,T),v}},function(s,p,o){var f=o(42);s.exports=function(d,O,v){for(var E in O)f(d,E,O[E],v);return d}},function(s,p,o){var f=o(46),d=o(38),O=o(28),v=o(36),E=O("species");s.exports=function(M){var A=f(M),T=d.f;v&&A&&!A[E]&&T(A,E,{configurable:!0,get:function(){return this}})}},function(s,p,o){var f=o(15),d=o(59),O=o(39),v=o(44),E=f("".charAt),M=f("".charCodeAt),A=f("".slice),T=function(k){return function(I,C){var L,G,W=O(v(I)),ee=d(C),ue=W.length;return ee<0||ee>=ue?k?"":void 0:(L=M(W,ee))<55296||L>56319||ee+1===ue||(G=M(W,ee+1))<56320||G>57343?k?E(W,ee):L:k?A(W,ee,ee+2):G-56320+(L-55296<<10)+65536}};s.exports={codeAt:T(!1),charAt:T(!0)}},function(s,p){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(s,p,o){var f=o(91)("span").classList,d=f&&f.constructor&&f.constructor.prototype;s.exports=d===Object.prototype?void 0:d},function(s,p,o){var f=o(32);s.exports=function(){var d=f(this),O="";return d.global&&(O+="g"),d.ignoreCase&&(O+="i"),d.multiline&&(O+="m"),d.dotAll&&(O+="s"),d.unicode&&(O+="u"),d.sticky&&(O+="y"),O}},function(s,p,o){var f=o(18),d=o(7).RegExp,O=f(function(){var M=d("a","y");return M.lastIndex=2,M.exec("abcd")!=null}),v=O||f(function(){return!d("a","y").sticky}),E=O||f(function(){var M=d("^r","gy");return M.lastIndex=2,M.exec("str")!=null});s.exports={BROKEN_CARET:E,MISSED_STICKY:v,UNSUPPORTED_Y:O}},function(s,p,o){var f=o(16),d=o(79).find,O=o(100),v="find",E=!0;v in[]&&Array(1).find(function(){E=!1}),f({target:"Array",proto:!0,forced:E},{find:function(M){return d(this,M,arguments.length>1?arguments[1]:void 0)}}),O(v)},function(s,p,o){var f=o(16),d=o(137).includes,O=o(100);f({target:"Array",proto:!0},{includes:function(v){return d(this,v,arguments.length>1?arguments[1]:void 0)}}),O("includes")},function(s,p,o){var f=o(16),d=o(15),O=o(197),v=o(44),E=o(39),M=o(198),A=d("".indexOf);f({target:"String",proto:!0,forced:!M("includes")},{includes:function(T){return!!~A(E(v(this)),E(O(T)),arguments.length>1?arguments[1]:void 0)}})},function(s,p,o){var f=o(33),d=o(51),O=o(28)("match");s.exports=function(v){var E;return f(v)&&((E=v[O])!==void 0?!!E:d(v)=="RegExp")}},function(s,p,o){var f=o(15);s.exports=f(1 .valueOf)},function(s,p,o){var f=o(15),d=o(44),O=o(39),v=o(162),E=f("".replace),M="["+v+"]",A=RegExp("^"+M+M+"*"),T=RegExp(M+M+"*$"),k=function(I){return function(C){var L=O(d(C));return 1&I&&(L=E(L,A,"")),2&I&&(L=E(L,T,"")),L}};s.exports={start:k(1),end:k(2),trim:k(3)}},function(s,p){s.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(s,p){var o,f,d=s.exports={};function O(){throw new Error("setTimeout has not been defined")}function v(){throw new Error("clearTimeout has not been defined")}function E(W){if(o===setTimeout)return setTimeout(W,0);if((o===O||!o)&&setTimeout)return o=setTimeout,setTimeout(W,0);try{return o(W,0)}catch(ee){try{return o.call(null,W,0)}catch(ue){return o.call(this,W,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:O}catch(W){o=O}try{f=typeof clearTimeout=="function"?clearTimeout:v}catch(W){f=v}})();var M,A=[],T=!1,k=-1;function I(){T&&M&&(T=!1,M.length?A=M.concat(A):k=-1,A.length&&C())}function C(){if(!T){var W=E(I);T=!0;for(var ee=A.length;ee;){for(M=A,A=[];++k<ee;)M&&M[k].run();k=-1,ee=A.length}M=null,T=!1,function(ue){if(f===clearTimeout)return clearTimeout(ue);if((f===v||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(ue);try{f(ue)}catch(oe){try{return f.call(null,ue)}catch(J){return f.call(this,ue)}}}(W)}}function L(W,ee){this.fun=W,this.array=ee}function G(){}d.nextTick=function(W){var ee=new Array(arguments.length-1);if(arguments.length>1)for(var ue=1;ue<arguments.length;ue++)ee[ue-1]=arguments[ue];A.push(new L(W,ee)),A.length!==1||T||E(C)},L.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=G,d.addListener=G,d.once=G,d.off=G,d.removeListener=G,d.removeAllListeners=G,d.emit=G,d.prependListener=G,d.prependOnceListener=G,d.listeners=function(W){return[]},d.binding=function(W){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(W){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(s,p,o){var f=o(32),d=o(165),O=o(28)("species");s.exports=function(v,E){var M,A=f(v).constructor;return A===void 0||(M=f(A)[O])==null?E:d(M)}},function(s,p,o){var f=o(7),d=o(99),O=o(88),v=f.TypeError;s.exports=function(E){if(d(E))return E;throw v(O(E)+" is not a constructor")}},function(s,p,o){var f=o(16),d=o(161).trim;f({target:"String",proto:!0,forced:o(200)("trim")},{trim:function(){return d(this)}})},function(s,p,o){var f=o(34),d=o(123),O=o(32),v=o(94),E=o(39),M=o(44),A=o(62),T=o(124),k=o(125);d("match",function(I,C,L){return[function(G){var W=M(this),ee=G==null?void 0:A(G,I);return ee?f(ee,G,W):new RegExp(G)[I](E(W))},function(G){var W=O(this),ee=E(G),ue=L(C,W,ee);if(ue.done)return ue.value;if(!W.global)return k(W,ee);var oe=W.unicode;W.lastIndex=0;for(var J,Q=[],V=0;(J=k(W,ee))!==null;){var B=E(J[0]);Q[V]=B,B===""&&(W.lastIndex=T(ee,v(W.lastIndex),oe)),V++}return V===0?null:Q}]})},function(s,p,o){var f,d,O,v,E=o(7),M=o(76),A=o(64),T=o(30),k=o(35),I=o(18),C=o(138),L=o(98),G=o(91),W=o(169),ee=o(128),ue=E.setImmediate,oe=E.clearImmediate,J=E.process,Q=E.Dispatch,V=E.Function,B=E.MessageChannel,X=E.String,Y=0,$={},ie="onreadystatechange";try{f=E.location}catch(Se){}var xe=function(Se){if(k($,Se)){var ve=$[Se];delete $[Se],ve()}},ge=function(Se){return function(){xe(Se)}},Pe=function(Se){xe(Se.data)},Be=function(Se){E.postMessage(X(Se),f.protocol+"//"+f.host)};ue&&oe||(ue=function(Se){var ve=L(arguments,1);return $[++Y]=function(){M(T(Se)?Se:V(Se),void 0,ve)},d(Y),Y},oe=function(Se){delete $[Se]},ee?d=function(Se){J.nextTick(ge(Se))}:Q&&Q.now?d=function(Se){Q.now(ge(Se))}:B&&!W?(v=(O=new B).port2,O.port1.onmessage=Pe,d=A(v.postMessage,v)):E.addEventListener&&T(E.postMessage)&&!E.importScripts&&f&&f.protocol!=="file:"&&!I(Be)?(d=Be,E.addEventListener("message",Pe,!1)):d=ie in G("script")?function(Se){C.appendChild(G("script")).onreadystatechange=function(){C.removeChild(this),xe(Se)}}:function(Se){setTimeout(ge(Se),0)}),s.exports={set:ue,clear:oe}},function(s,p,o){var f=o(55);s.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)},function(s,p,o){var f=o(56),d=function(O){var v,E;this.promise=new O(function(M,A){if(v!==void 0||E!==void 0)throw TypeError("Bad Promise constructor");v=M,E=A}),this.resolve=f(v),this.reject=f(E)};s.exports.f=function(O){return new d(O)}},function(s,p,o){p.a=function(){return!1}},function(s,p,o){(function(f){o.d(p,"a",function(){return J});var d=o(1);function O(B){throw new Error("[mobx-utils] "+B)}function v(B,X){X===void 0&&(X="Illegal state"),B||O(X)}var E=function(B){return B&&B!==Object.prototype&&Object.getOwnPropertyNames(B).concat(E(Object.getPrototypeOf(B))||[])},M=function(B){return function(X){var Y=E(X);return Y.filter(function($,ie){return Y.indexOf($)===ie})}(B).filter(function(X){return X!=="constructor"&&!~X.indexOf("__")})},A="pending",T="fulfilled",k="rejected";function I(B){switch(this.state){case A:return B.pending&&B.pending(this.value);case k:return B.rejected&&B.rejected(this.value);case T:return B.fulfilled?B.fulfilled(this.value):this.value}}function C(B,X){if(v(arguments.length<=2,"fromPromise expects up to two arguments"),v(typeof B=="function"||typeof B=="object"&&B&&typeof B.then=="function","Please pass a promise or function to fromPromise"),B.isPromiseBasedObservable===!0)return B;typeof B=="function"&&(B=new Promise(B));var Y=B;B.then(Object(d.k)("observableFromPromise-resolve",function(ie){Y.value=ie,Y.state=T}),Object(d.k)("observableFromPromise-reject",function(ie){Y.value=ie,Y.state=k})),Y.isPromiseBasedObservable=!0,Y.case=I;var $=X&&X.state===T?X.value:void 0;return Object(d.q)(Y,{value:$,state:A},{},{deep:!1}),Y}(function(B){B.reject=Object(d.k)("fromPromise.reject",function(X){var Y=B(Promise.reject(X));return Y.state=k,Y.value=X,Y}),B.resolve=Object(d.k)("fromPromise.resolve",function(X){X===void 0&&(X=void 0);var Y=B(Promise.resolve(X));return Y.state=T,Y.value=X,Y})})(C||(C={}));var L=function(B,X,Y,$){var ie,xe=arguments.length,ge=xe<3?X:$===null?$=Object.getOwnPropertyDescriptor(X,Y):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(B,X,Y,$);else for(var Pe=B.length-1;Pe>=0;Pe--)(ie=B[Pe])&&(ge=(xe<3?ie(ge):xe>3?ie(X,Y,ge):ie(X,Y))||ge);return xe>3&&ge&&Object.defineProperty(X,Y,ge),ge};(function(){function B(X,Y){var $=this;Object(d.G)(function(){$.current=Y,$.subscription=X.subscribe($)})}B.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},B.prototype.next=function(X){this.current=X},B.prototype.complete=function(){this.dispose()},B.prototype.error=function(X){this.current=X,this.dispose()},L([d.C.ref],B.prototype,"current",void 0),L([d.k.bound],B.prototype,"next",null),L([d.k.bound],B.prototype,"complete",null),L([d.k.bound],B.prototype,"error",null)})();var G=function(){return G=Object.assign||function(B){for(var X,Y=1,$=arguments.length;Y<$;Y++)for(var ie in X=arguments[Y])Object.prototype.hasOwnProperty.call(X,ie)&&(B[ie]=X[ie]);return B},G.apply(this,arguments)},W=function(B,X,Y,$){var ie,xe=arguments.length,ge=xe<3?X:$===null?$=Object.getOwnPropertyDescriptor(X,Y):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(B,X,Y,$);else for(var Pe=B.length-1;Pe>=0;Pe--)(ie=B[Pe])&&(ge=(xe<3?ie(ge):xe>3?ie(X,Y,ge):ie(X,Y))||ge);return xe>3&&ge&&Object.defineProperty(X,Y,ge),ge},ee=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function B(X){var Y=this;this.model=X,this.localValues=d.C.map({}),this.localComputedValues=d.C.map({}),this.isPropertyDirty=function($){return Y.localValues.has($)},v(Object(d.A)(X),"createViewModel expects an observable object"),M(X).forEach(function($){if($!==d.a&&$!=="__mobxDidRunLazyInitializers"){if(v(ee.indexOf($)===-1,"The propertyname "+$+" is reserved and cannot be used with viewModels"),Object(d.w)(X,$)){var ie=Object(d.h)(X,$).derivation;Y.localComputedValues.set($,Object(d.m)(ie.bind(Y)))}var xe=Object.getOwnPropertyDescriptor(X,$),ge=xe?{enumerable:xe.enumerable}:{};Object.defineProperty(Y,$,G(G({},ge),{configurable:!0,get:function(){return Object(d.w)(X,$)?Y.localComputedValues.get($).get():Y.isPropertyDirty($)?Y.localValues.get($):Y.model[$]},set:Object(d.k)(function(Pe){Pe!==Y.model[$]?Y.localValues.set($,Pe):Y.localValues.delete($)})}))}})}Object.defineProperty(B.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),B.prototype.submit=function(){var X=this;Object(d.B)(this.localValues).forEach(function(Y){var $=X.localValues.get(Y),ie=X.model[Y];Object(d.y)(ie)?ie.replace($):Object(d.z)(ie)?(ie.clear(),ie.merge($)):Object(d.v)($)||(X.model[Y]=$)}),this.localValues.clear()},B.prototype.reset=function(){this.localValues.clear()},B.prototype.resetProperty=function(X){this.localValues.delete(X)},W([d.m],B.prototype,"isDirty",null),W([d.m],B.prototype,"changedValues",null),W([d.k.bound],B.prototype,"submit",null),W([d.k.bound],B.prototype,"reset",null),W([d.k.bound],B.prototype,"resetProperty",null)})();function ue(B){if(!B)return"ROOT";for(var X=[];B.parent;)X.push(B.path),B=B.parent;return X.reverse().join("/")}function oe(B){return Object(d.A)(B)||Object(d.y)(B)||Object(d.z)(B)}function J(B,X){var Y=new WeakMap;function $(ge){var Pe=Y.get(ge.object);(function(Be,Se){switch(Be.type){case"add":ie(Be.newValue,Se,Be.name);break;case"update":xe(Be.oldValue),ie(Be.newValue,Se,Be.name||""+Be.index);break;case"remove":case"delete":xe(Be.oldValue);break;case"splice":Be.removed.map(xe),Be.added.forEach(function(Ae,Ue){return ie(Ae,Se,""+(Be.index+Ue))});for(var ve=Be.index+Be.addedCount;ve<Be.object.length;ve++)if(oe(Be.object[ve])){var je=Y.get(Be.object[ve]);je&&(je.path=""+ve)}}})(ge,Pe),X(ge,ue(Pe),B)}function ie(ge,Pe,Be){if(oe(ge)){var Se=Y.get(ge);if(Se){if(Se.parent!==Pe||Se.path!==Be)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+ue(Pe)+"/"+Be+"', but it already exists at '"+ue(Se.parent)+"/"+Se.path+"'")}else{var ve={parent:Pe,path:Be,dispose:Object(d.D)(ge,$)};Y.set(ge,ve),Object(d.p)(ge).forEach(function(je){var Ae=je[0];return ie(je[1],ve,Ae)})}}}function xe(ge){if(oe(ge)){var Pe=Y.get(ge);if(!Pe)return;Y.delete(ge),Pe.dispose(),Object(d.L)(ge).forEach(xe)}}return ie(B,void 0,""),function(){xe(B)}}var Q,V=(Q=function(B,X){return Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,$){Y.__proto__=$}||function(Y,$){for(var ie in $)$.hasOwnProperty(ie)&&(Y[ie]=$[ie])},Q(B,X)},function(B,X){function Y(){this.constructor=B}Q(B,X),B.prototype=X===null?Object.create(X):(Y.prototype=X.prototype,new Y)});(function(B){function X(Y,$,ie){var xe=ie===void 0?{}:ie,ge=xe.name,Pe=ge===void 0?"ogm"+(1e3*Math.random()|0):ge,Be=xe.keyToName,Se=Be===void 0?function(Ae){return""+Ae}:Be,ve=B.call(this)||this;ve._keyToName=Se,ve._groupBy=$,ve._ogmInfoKey=Symbol("ogmInfo"+Pe),ve._base=Y;for(var je=0;je<Y.length;je++)ve._addItem(Y[je]);return ve._disposeBaseObserver=Object(d.D)(ve._base,function(Ae){if(Ae.type==="splice")Object(d.J)(function(){for(var Ue=0,rt=Ae.removed;Ue<rt.length;Ue++){var Ot=rt[Ue];ve._removeItem(Ot)}for(var Ve=0,Ze=Ae.added;Ve<Ze.length;Ve++){var gt=Ze[Ve];ve._addItem(gt)}});else{if(Ae.type!=="update")throw new Error("illegal state");Object(d.J)(function(){ve._removeItem(Ae.oldValue),ve._addItem(Ae.newValue)})}}),ve}V(X,B),X.prototype.clear=function(){throw new Error("not supported")},X.prototype.delete=function(Y){throw new Error("not supported")},X.prototype.set=function(Y,$){throw new Error("not supported")},X.prototype.dispose=function(){this._disposeBaseObserver();for(var Y=0;Y<this._base.length;Y++){var $=this._base[Y];$[this._ogmInfoKey].reaction(),delete $[this._ogmInfoKey]}},X.prototype._getGroupArr=function(Y){var $=B.prototype.get.call(this,Y);return $===void 0&&($=Object(d.C)([],{name:"GroupArray["+this._keyToName(Y)+"]",deep:!1}),B.prototype.set.call(this,Y,$)),$},X.prototype._removeFromGroupArr=function(Y,$){var ie=B.prototype.get.call(this,Y);ie.length===1?B.prototype.delete.call(this,Y):($===ie.length-1||(ie[$]=ie[ie.length-1],ie[$][this._ogmInfoKey].groupArrIndex=$),ie.length--)},X.prototype._addItem=function(Y){var $=this,ie=this._groupBy(Y),xe=this._getGroupArr(ie),ge={groupByValue:ie,groupArrIndex:xe.length,reaction:Object(d.F)(function(){return $._groupBy(Y)},function(Pe,Be){var Se=Y[$._ogmInfoKey];$._removeFromGroupArr(Se.groupByValue,Se.groupArrIndex);var ve=$._getGroupArr(Pe),je=ve.length;ve.push(Y),Se.groupByValue=Pe,Se.groupArrIndex=je})};Object.defineProperty(Y,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:ge}),xe.push(Y)},X.prototype._removeItem=function(Y){var $=Y[this._ogmInfoKey];this._removeFromGroupArr($.groupByValue,$.groupArrIndex),$.reaction(),delete Y[this._ogmInfoKey]}})(d.b),function(){function B(X,Y){this.base=X,this.args=Y,this.closestIdx=0,this.isDisposed=!1;for(var $=this.closest=this.root=X,ie=0;ie<this.args.length-1&&($=$.get(Y[ie]));ie++)this.closest=$;this.closestIdx=ie}return B.prototype.exists=function(){this.assertNotDisposed();var X=this.args.length;return this.closestIdx>=X-1&&this.closest.has(this.args[X-1])},B.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},B.prototype.set=function(X){this.assertNotDisposed();for(var Y=this.args.length,$=this.closest,ie=this.closestIdx;ie<Y-1;ie++){var xe=new Map;$.set(this.args[ie],xe),$=xe}this.closestIdx=Y-1,this.closest=$,$.set(this.args[Y-1],X)},B.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var X=this.args.length;this.closest.delete(this.args[X-1]);for(var Y=this.root,$=[Y],ie=0;ie<X-1;ie++)Y=Y.get(this.args[ie]),$.push(Y);for(ie=$.length-1;ie>0;ie--)$[ie].size===0&&$[ie-1].delete(this.args[ie-1]);this.isDisposed=!0},B.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},B}(),Promise.resolve(),typeof queueMicrotask!="undefined"||f!==void 0&&f.nextTick}).call(this,o(163))},function(s,p,o){var f;(function(d,O,v){if(d){for(var E,M={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},A={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},T={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},I=1;I<20;++I)M[111+I]="f"+I;for(I=0;I<=9;++I)M[I+96]=I.toString();oe.prototype.bind=function(J,Q,V){var B=this;return J=J instanceof Array?J:[J],B._bindMultiple.call(B,J,Q,V),B},oe.prototype.unbind=function(J,Q){return this.bind.call(this,J,function(){},Q)},oe.prototype.trigger=function(J,Q){var V=this;return V._directMap[J+":"+Q]&&V._directMap[J+":"+Q]({},J),V},oe.prototype.reset=function(){var J=this;return J._callbacks={},J._directMap={},J},oe.prototype.stopCallback=function(J,Q){if((" "+Q.className+" ").indexOf(" mousetrap ")>-1||ue(Q,this.target))return!1;if("composedPath"in J&&typeof J.composedPath=="function"){var V=J.composedPath()[0];V!==J.target&&(Q=V)}return Q.tagName=="INPUT"||Q.tagName=="SELECT"||Q.tagName=="TEXTAREA"||Q.isContentEditable},oe.prototype.handleKey=function(){var J=this;return J._handleKey.apply(J,arguments)},oe.addKeycodes=function(J){for(var Q in J)J.hasOwnProperty(Q)&&(M[Q]=J[Q]);E=null},oe.init=function(){var J=oe(O);for(var Q in J)Q.charAt(0)!=="_"&&(oe[Q]=function(V){return function(){return J[V].apply(J,arguments)}}(Q))},oe.init(),d.Mousetrap=oe,s.exports&&(s.exports=oe),(f=function(){return oe}.call(p,o,p,s))===void 0||(s.exports=f)}function C(J,Q,V){J.addEventListener?J.addEventListener(Q,V,!1):J.attachEvent("on"+Q,V)}function L(J){if(J.type=="keypress"){var Q=String.fromCharCode(J.which);return J.shiftKey||(Q=Q.toLowerCase()),Q}return M[J.which]?M[J.which]:A[J.which]?A[J.which]:String.fromCharCode(J.which).toLowerCase()}function G(J){return J=="shift"||J=="ctrl"||J=="alt"||J=="meta"}function W(J,Q,V){return V||(V=function(){if(!E)for(var B in E={},M)B>95&&B<112||M.hasOwnProperty(B)&&(E[M[B]]=B);return E}()[J]?"keydown":"keypress"),V=="keypress"&&Q.length&&(V="keydown"),V}function ee(J,Q){var V,B,X,Y=[];for(V=function($){return $==="+"?["+"]:($=$.replace(/\+{2}/g,"+plus")).split("+")}(J),X=0;X<V.length;++X)B=V[X],k[B]&&(B=k[B]),Q&&Q!="keypress"&&T[B]&&(B=T[B],Y.push("shift")),G(B)&&Y.push(B);return{key:B,modifiers:Y,action:Q=W(B,Y,Q)}}function ue(J,Q){return J!==null&&J!==O&&(J===Q||ue(J.parentNode,Q))}function oe(J){var Q=this;if(J=J||O,!(Q instanceof oe))return new oe(J);Q.target=J,Q._callbacks={},Q._directMap={};var V,B={},X=!1,Y=!1,$=!1;function ie(ve){ve=ve||{};var je,Ae=!1;for(je in B)ve[je]?Ae=!0:B[je]=0;Ae||($=!1)}function xe(ve,je,Ae,Ue,rt,Ot){var Ve,Ze,gt,ce,ae=[],he=Ae.type;if(!Q._callbacks[ve])return[];for(he=="keyup"&&G(ve)&&(je=[ve]),Ve=0;Ve<Q._callbacks[ve].length;++Ve)if(Ze=Q._callbacks[ve][Ve],(Ue||!Ze.seq||B[Ze.seq]==Ze.level)&&he==Ze.action&&(he=="keypress"&&!Ae.metaKey&&!Ae.ctrlKey||(gt=je,ce=Ze.modifiers,gt.sort().join(",")===ce.sort().join(",")))){var Te=!Ue&&Ze.combo==rt,Xe=Ue&&Ze.seq==Ue&&Ze.level==Ot;(Te||Xe)&&Q._callbacks[ve].splice(Ve,1),ae.push(Ze)}return ae}function ge(ve,je,Ae,Ue){Q.stopCallback(je,je.target||je.srcElement,Ae,Ue)||ve(je,Ae)===!1&&(function(rt){rt.preventDefault?rt.preventDefault():rt.returnValue=!1}(je),function(rt){rt.stopPropagation?rt.stopPropagation():rt.cancelBubble=!0}(je))}function Pe(ve){typeof ve.which!="number"&&(ve.which=ve.keyCode);var je=L(ve);je&&(ve.type!="keyup"||X!==je?Q.handleKey(je,function(Ae){var Ue=[];return Ae.shiftKey&&Ue.push("shift"),Ae.altKey&&Ue.push("alt"),Ae.ctrlKey&&Ue.push("ctrl"),Ae.metaKey&&Ue.push("meta"),Ue}(ve),ve):X=!1)}function Be(ve,je,Ae,Ue){function rt(gt){return function(){$=gt,++B[ve],clearTimeout(V),V=setTimeout(ie,1e3)}}function Ot(gt){ge(Ae,gt,ve),Ue!=="keyup"&&(X=L(gt)),setTimeout(ie,10)}B[ve]=0;for(var Ve=0;Ve<je.length;++Ve){var Ze=Ve+1===je.length?Ot:rt(Ue||ee(je[Ve+1]).action);Se(je[Ve],Ze,Ue,ve,Ve)}}function Se(ve,je,Ae,Ue,rt){Q._directMap[ve+":"+Ae]=je;var Ot,Ve=(ve=ve.replace(/\s+/g," ")).split(" ");Ve.length>1?Be(ve,Ve,je,Ae):(Ot=ee(ve,Ae),Q._callbacks[Ot.key]=Q._callbacks[Ot.key]||[],xe(Ot.key,Ot.modifiers,{type:Ot.action},Ue,ve,rt),Q._callbacks[Ot.key][Ue?"unshift":"push"]({callback:je,modifiers:Ot.modifiers,action:Ot.action,seq:Ue,level:rt,combo:ve}))}Q._handleKey=function(ve,je,Ae){var Ue,rt=xe(ve,je,Ae),Ot={},Ve=0,Ze=!1;for(Ue=0;Ue<rt.length;++Ue)rt[Ue].seq&&(Ve=Math.max(Ve,rt[Ue].level));for(Ue=0;Ue<rt.length;++Ue)if(rt[Ue].seq){if(rt[Ue].level!=Ve)continue;Ze=!0,Ot[rt[Ue].seq]=1,ge(rt[Ue].callback,Ae,rt[Ue].combo,rt[Ue].seq)}else Ze||ge(rt[Ue].callback,Ae,rt[Ue].combo);var gt=Ae.type=="keypress"&&Y;Ae.type!=$||G(ve)||gt||ie(Ot),Y=Ze&&Ae.type=="keydown"},Q._bindMultiple=function(ve,je,Ae){for(var Ue=0;Ue<ve.length;++Ue)Se(ve[Ue],je,Ae)},C(J,"keypress",Pe),C(J,"keydown",Pe),C(J,"keyup",Pe)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(s,p,o){var f=o(7),d=o(34),O=o(30),v=o(33),E=f.TypeError;s.exports=function(M,A){var T,k;if(A==="string"&&O(T=M.toString)&&!v(k=d(T,M))||O(T=M.valueOf)&&!v(k=d(T,M))||A!=="string"&&O(T=M.toString)&&!v(k=d(T,M)))return k;throw E("Can't convert object to primitive value")}},function(s,p,o){var f=o(7),d=o(30),O=o(92),v=f.WeakMap;s.exports=d(v)&&/native code/.test(O(v))},function(s,p,o){var f=o(36),d=o(38),O=o(32),v=o(41),E=o(77);s.exports=f?Object.defineProperties:function(M,A){O(M);for(var T,k=v(A),I=E(A),C=I.length,L=0;C>L;)d.f(M,T=I[L++],k[T]);return M}},function(s,p,o){var f=o(7);s.exports=f},function(s,p,o){var f=o(7),d=o(96),O=o(99),v=o(33),E=o(28)("species"),M=f.Array;s.exports=function(A){var T;return d(A)&&(T=A.constructor,(O(T)&&(T===M||d(T.prototype))||v(T)&&(T=T[E])===null)&&(T=void 0)),T===void 0?M:T}},function(s,p,o){var f=o(113),d=o(97);s.exports=f?{}.toString:function(){return"[object "+d(this)+"]"}},function(s,p,o){var f=o(142).IteratorPrototype,d=o(60),O=o(69),v=o(78),E=o(80),M=function(){return this};s.exports=function(A,T,k,I){var C=T+" Iterator";return A.prototype=d(f,{next:O(+!I,k)}),v(A,C,!1,!0),E[C]=M,A}},function(s,p,o){var f=o(7),d=o(30),O=f.String,v=f.TypeError;s.exports=function(E){if(typeof E=="object"||d(E))return E;throw v("Can't set "+O(E)+" as a prototype")}},function(s,p,o){var f=o(16),d=o(7),O=o(15),v=o(95),E=o(42),M=o(144),A=o(117),T=o(119),k=o(30),I=o(33),C=o(18),L=o(120),G=o(78),W=o(148);s.exports=function(ee,ue,oe){var J=ee.indexOf("Map")!==-1,Q=ee.indexOf("Weak")!==-1,V=J?"set":"add",B=d[ee],X=B&&B.prototype,Y=B,$={},ie=function(ve){var je=O(X[ve]);E(X,ve,ve=="add"?function(Ae){return je(this,Ae===0?0:Ae),this}:ve=="delete"?function(Ae){return!(Q&&!I(Ae))&&je(this,Ae===0?0:Ae)}:ve=="get"?function(Ae){return Q&&!I(Ae)?void 0:je(this,Ae===0?0:Ae)}:ve=="has"?function(Ae){return!(Q&&!I(Ae))&&je(this,Ae===0?0:Ae)}:function(Ae,Ue){return je(this,Ae===0?0:Ae,Ue),this})};if(v(ee,!k(B)||!(Q||X.forEach&&!C(function(){new B().entries().next()}))))Y=oe.getConstructor(ue,ee,J,V),M.enable();else if(v(ee,!0)){var xe=new Y,ge=xe[V](Q?{}:-0,1)!=xe,Pe=C(function(){xe.has(1)}),Be=L(function(ve){new B(ve)}),Se=!Q&&C(function(){for(var ve=new B,je=5;je--;)ve[V](je,je);return!ve.has(-0)});Be||((Y=ue(function(ve,je){T(ve,X);var Ae=W(new B,ve,Y);return je!=null&&A(je,Ae[V],{that:Ae,AS_ENTRIES:J}),Ae})).prototype=X,X.constructor=Y),(Pe||Se)&&(ie("delete"),ie("has"),J&&ie("get")),(Se||ge)&&ie(V),Q&&X.clear&&delete X.clear}return $[ee]=Y,f({global:!0,forced:Y!=B},$),G(Y,ee),Q||oe.setStrong(Y,ee,J),Y}},function(s,p,o){var f=o(18),d=o(33),O=o(51),v=o(184),E=Object.isExtensible,M=f(function(){});s.exports=M||v?function(A){return!!d(A)&&(!v||O(A)!="ArrayBuffer")&&(!E||E(A))}:E},function(s,p,o){var f=o(18);s.exports=f(function(){if(typeof ArrayBuffer=="function"){var d=new ArrayBuffer(8);Object.isExtensible(d)&&Object.defineProperty(d,"a",{value:8})}})},function(s,p,o){var f=o(18);s.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(s,p,o){var f=o(38).f,d=o(60),O=o(149),v=o(64),E=o(119),M=o(117),A=o(116),T=o(150),k=o(36),I=o(144).fastKey,C=o(58),L=C.set,G=C.getterFor;s.exports={getConstructor:function(W,ee,ue,oe){var J=W(function(Y,$){E(Y,Q),L(Y,{type:ee,index:d(null),first:void 0,last:void 0,size:0}),k||(Y.size=0),$!=null&&M($,Y[oe],{that:Y,AS_ENTRIES:ue})}),Q=J.prototype,V=G(ee),B=function(Y,$,ie){var xe,ge,Pe=V(Y),Be=X(Y,$);return Be?Be.value=ie:(Pe.last=Be={index:ge=I($,!0),key:$,value:ie,previous:xe=Pe.last,next:void 0,removed:!1},Pe.first||(Pe.first=Be),xe&&(xe.next=Be),k?Pe.size++:Y.size++,ge!=="F"&&(Pe.index[ge]=Be)),Y},X=function(Y,$){var ie,xe=V(Y),ge=I($);if(ge!=="F")return xe.index[ge];for(ie=xe.first;ie;ie=ie.next)if(ie.key==$)return ie};return O(Q,{clear:function(){for(var Y=V(this),$=Y.index,ie=Y.first;ie;)ie.removed=!0,ie.previous&&(ie.previous=ie.previous.next=void 0),delete $[ie.index],ie=ie.next;Y.first=Y.last=void 0,k?Y.size=0:this.size=0},delete:function(Y){var $=this,ie=V($),xe=X($,Y);if(xe){var ge=xe.next,Pe=xe.previous;delete ie.index[xe.index],xe.removed=!0,Pe&&(Pe.next=ge),ge&&(ge.previous=Pe),ie.first==xe&&(ie.first=ge),ie.last==xe&&(ie.last=Pe),k?ie.size--:$.size--}return!!xe},forEach:function(Y){for(var $,ie=V(this),xe=v(Y,arguments.length>1?arguments[1]:void 0);$=$?$.next:ie.first;)for(xe($.value,$.key,this);$&&$.removed;)$=$.previous},has:function(Y){return!!X(this,Y)}}),O(Q,ue?{get:function(Y){var $=X(this,Y);return $&&$.value},set:function(Y,$){return B(this,Y===0?0:Y,$)}}:{add:function(Y){return B(this,Y=Y===0?0:Y,Y)}}),k&&f(Q,"size",{get:function(){return V(this).size}}),J},setStrong:function(W,ee,ue){var oe=ee+" Iterator",J=G(ee),Q=G(oe);A(W,ee,function(V,B){L(this,{type:oe,target:V,state:J(V),kind:B,last:void 0})},function(){for(var V=Q(this),B=V.kind,X=V.last;X&&X.removed;)X=X.previous;return V.target&&(V.last=X=X?X.next:V.state.first)?B=="keys"?{value:X.key,done:!1}:B=="values"?{value:X.value,done:!1}:{value:[X.key,X.value],done:!1}:(V.target=void 0,{value:void 0,done:!0})},ue?"entries":"values",!ue,!0),T(ee)}}},function(s,p,o){var f=o(79).forEach,d=o(121)("forEach");s.exports=d?[].forEach:function(O){return f(this,O,arguments.length>1?arguments[1]:void 0)}},function(s,p,o){var f=o(7),d=o(64),O=o(34),v=o(40),E=o(189),M=o(145),A=o(99),T=o(45),k=o(63),I=o(146),C=o(118),L=f.Array;s.exports=function(G){var W=v(G),ee=A(this),ue=arguments.length,oe=ue>1?arguments[1]:void 0,J=oe!==void 0;J&&(oe=d(oe,ue>2?arguments[2]:void 0));var Q,V,B,X,Y,$,ie=C(W),xe=0;if(!ie||this==L&&M(ie))for(Q=T(W),V=ee?new this(Q):L(Q);Q>xe;xe++)$=J?oe(W[xe],xe):W[xe],k(V,xe,$);else for(Y=(X=I(W,ie)).next,V=ee?new this:[];!(B=O(Y,X)).done;xe++)$=J?E(X,oe,[B.value,xe],!0):B.value,k(V,xe,$);return V.length=xe,V}},function(s,p,o){var f=o(32),d=o(147);s.exports=function(O,v,E,M){try{return M?v(f(E)[0],E[1]):v(E)}catch(A){d(O,"throw",A)}}},function(s,p,o){var f=o(18),d=o(7).RegExp;s.exports=f(function(){var O=d(".","s");return!(O.dotAll&&O.exec(`
`)&&O.flags==="s")})},function(s,p,o){var f=o(18),d=o(7).RegExp;s.exports=f(function(){var O=d("(?<a>b)","g");return O.exec("b").groups.a!=="b"||"b".replace(O,"$<a>c")!=="bc"})},function(s,p,o){var f=o(16),d=o(15),O=o(56),v=o(40),E=o(45),M=o(39),A=o(18),T=o(193),k=o(121),I=o(194),C=o(195),L=o(70),G=o(196),W=[],ee=d(W.sort),ue=d(W.push),oe=A(function(){W.sort(void 0)}),J=A(function(){W.sort(null)}),Q=k("sort"),V=!A(function(){if(L)return L<70;if(!(I&&I>3)){if(C)return!0;if(G)return G<603;var B,X,Y,$,ie="";for(B=65;B<76;B++){switch(X=String.fromCharCode(B),B){case 66:case 69:case 70:case 72:Y=3;break;case 68:case 71:Y=4;break;default:Y=2}for($=0;$<47;$++)W.push({k:X+$,v:Y})}for(W.sort(function(xe,ge){return ge.v-xe.v}),$=0;$<W.length;$++)X=W[$].k.charAt(0),ie.charAt(ie.length-1)!==X&&(ie+=X);return ie!=="DGBEFHACIJK"}});f({target:"Array",proto:!0,forced:oe||!J||!Q||!V},{sort:function(B){B!==void 0&&O(B);var X=v(this);if(V)return B===void 0?ee(X):ee(X,B);var Y,$,ie=[],xe=E(X);for($=0;$<xe;$++)$ in X&&ue(ie,X[$]);for(T(ie,function(ge){return function(Pe,Be){return Be===void 0?-1:Pe===void 0?1:ge!==void 0?+ge(Pe,Be)||0:M(Pe)>M(Be)?1:-1}}(B)),Y=ie.length,$=0;$<Y;)X[$]=ie[$++];for(;$<xe;)delete X[$++];return X}})},function(s,p,o){var f=o(114),d=Math.floor,O=function(M,A){var T=M.length,k=d(T/2);return T<8?v(M,A):E(M,O(f(M,0,k),A),O(f(M,k),A),A)},v=function(M,A){for(var T,k,I=M.length,C=1;C<I;){for(k=C,T=M[C];k&&A(M[k-1],T)>0;)M[k]=M[--k];k!==C++&&(M[k]=T)}return M},E=function(M,A,T,k){for(var I=A.length,C=T.length,L=0,G=0;L<I||G<C;)M[L+G]=L<I&&G<C?k(A[L],T[G])<=0?A[L++]:T[G++]:L<I?A[L++]:T[G++];return M};s.exports=O},function(s,p,o){var f=o(55).match(/firefox\/(\d+)/i);s.exports=!!f&&+f[1]},function(s,p,o){var f=o(55);s.exports=/MSIE|Trident/.test(f)},function(s,p,o){var f=o(55).match(/AppleWebKit\/(\d+)\./);s.exports=!!f&&+f[1]},function(s,p,o){var f=o(7),d=o(159),O=f.TypeError;s.exports=function(v){if(d(v))throw O("The method doesn't accept regular expressions");return v}},function(s,p,o){var f=o(28)("match");s.exports=function(d){var O=/./;try{"/./"[d](O)}catch(v){try{return O[f]=!1,"/./"[d](O)}catch(E){}}return!1}},function(s,p,o){o(16)({target:"Number",stat:!0},{isNaN:function(f){return f!=f}})},function(s,p,o){var f=o(73).PROPER,d=o(18),O=o(162);s.exports=function(v){return d(function(){return!!O[v]()||"​᠎"[v]()!=="​᠎"||f&&O[v].name!==v})}},function(s,p,o){var f=o(15),d=o(40),O=Math.floor,v=f("".charAt),E=f("".replace),M=f("".slice),A=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,T=/\$([$&'`]|\d{1,2})/g;s.exports=function(k,I,C,L,G,W){var ee=C+k.length,ue=L.length,oe=T;return G!==void 0&&(G=d(G),oe=A),E(W,oe,function(J,Q){var V;switch(v(Q,0)){case"$":return"$";case"&":return k;case"`":return M(I,0,C);case"'":return M(I,ee);case"<":V=G[M(Q,1,-1)];break;default:var B=+Q;if(B===0)return J;if(B>ue){var X=O(B/10);return X===0?J:X<=ue?L[X-1]===void 0?v(Q,1):L[X-1]+v(Q,1):J}V=L[B-1]}return V===void 0?"":V})}},function(s,p,o){var f=o(36),d=o(15),O=o(34),v=o(18),E=o(77),M=o(112),A=o(84),T=o(40),k=o(85),I=Object.assign,C=Object.defineProperty,L=d([].concat);s.exports=!I||v(function(){if(f&&I({b:1},I(C({},"a",{enumerable:!0,get:function(){C(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var G={},W={},ee=Symbol(),ue="abcdefghijklmnopqrst";return G[ee]=7,ue.split("").forEach(function(oe){W[oe]=oe}),I({},G)[ee]!=7||E(I({},W)).join("")!=ue})?function(G,W){for(var ee=T(G),ue=arguments.length,oe=1,J=M.f,Q=A.f;ue>oe;)for(var V,B=k(arguments[oe++]),X=J?L(E(B),J(B)):E(B),Y=X.length,$=0;Y>$;)V=X[$++],f&&!O(Q,B,V)||(ee[V]=B[V]);return ee}:I},function(s,p,o){var f=o(7),d=o(15),O=o(56),v=o(33),E=o(35),M=o(98),A=f.Function,T=d([].concat),k=d([].join),I={},C=function(L,G,W){if(!E(I,G)){for(var ee=[],ue=0;ue<G;ue++)ee[ue]="a["+ue+"]";I[G]=A("C,a","return new C("+k(ee,",")+")")}return I[G](L,W)};s.exports=A.bind||function(L){var G=O(this),W=G.prototype,ee=M(arguments,1),ue=function(){var oe=T(ee,M(arguments));return this instanceof ue?C(G,oe.length,oe):G.apply(L,oe)};return v(W)&&(ue.prototype=W),ue}},function(s,p,o){var f=o(35);s.exports=function(d){return d!==void 0&&(f(d,"value")||f(d,"writable"))}},function(s,p,o){var f=o(15),d=o(44),O=o(39),v=/"/g,E=f("".replace);s.exports=function(M,A,T,k){var I=O(d(M)),C="<"+A;return T!==""&&(C+=" "+T+'="'+E(O(k),v,"&quot;")+'"'),C+">"+I+"</"+A+">"}},function(s,p,o){var f=o(18);s.exports=function(d){return f(function(){var O=""[d]('"');return O!==O.toLowerCase()||O.split('"').length>3})}},function(s,p,o){o(16)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(s,p,o){var f,d,O,v,E=o(16),M=o(71),A=o(7),T=o(46),k=o(34),I=o(209),C=o(42),L=o(149),G=o(102),W=o(78),ee=o(150),ue=o(56),oe=o(30),J=o(33),Q=o(119),V=o(92),B=o(117),X=o(120),Y=o(164),$=o(168).set,ie=o(210),xe=o(213),ge=o(214),Pe=o(170),Be=o(215),Se=o(58),ve=o(95),je=o(28),Ae=o(216),Ue=o(128),rt=o(70),Ot=je("species"),Ve="Promise",Ze=Se.getterFor(Ve),gt=Se.set,ce=Se.getterFor(Ve),ae=I&&I.prototype,he=I,Te=ae,Xe=A.TypeError,ze=A.document,wt=A.process,Tt=Pe.f,jt=Tt,yt=!!(ze&&ze.createEvent&&A.dispatchEvent),Me=oe(A.PromiseRejectionEvent),st="unhandledrejection",le=!1,it=ve(Ve,function(){var re=V(he),be=re!==String(he);if(!be&&rt===66||M&&!Te.finally)return!0;if(rt>=51&&/native code/.test(re))return!1;var We=new he(function(ft){ft(1)}),Ke=function(ft){ft(function(){},function(){})};return(We.constructor={})[Ot]=Ke,!(le=We.then(function(){})instanceof Ke)||!be&&Ae&&!Me}),Lt=it||!X(function(re){he.all(re).catch(function(){})}),on=function(re){var be;return!(!J(re)||!oe(be=re.then))&&be},zt=function(re,be){if(!re.notified){re.notified=!0;var We=re.reactions;ie(function(){for(var Ke=re.value,ft=re.state==1,Xt=0;We.length>Xt;){var Yn,Qn,Cn,zn=We[Xt++],at=ft?zn.ok:zn.fail,bt=zn.resolve,xt=zn.reject,Rt=zn.domain;try{at?(ft||(re.rejection===2&&Ct(re),re.rejection=1),at===!0?Yn=Ke:(Rt&&Rt.enter(),Yn=at(Ke),Rt&&(Rt.exit(),Cn=!0)),Yn===zn.promise?xt(Xe("Promise-chain cycle")):(Qn=on(Yn))?k(Qn,Yn,bt,xt):bt(Yn)):xt(Ke)}catch(sn){Rt&&!Cn&&Rt.exit(),xt(sn)}}re.reactions=[],re.notified=!1,be&&!re.rejection&&fn(re)})}},Zt=function(re,be,We){var Ke,ft;yt?((Ke=ze.createEvent("Event")).promise=be,Ke.reason=We,Ke.initEvent(re,!1,!0),A.dispatchEvent(Ke)):Ke={promise:be,reason:We},!Me&&(ft=A["on"+re])?ft(Ke):re===st&&ge("Unhandled promise rejection",We)},fn=function(re){k($,A,function(){var be,We=re.facade,Ke=re.value;if(_n(re)&&(be=Be(function(){Ue?wt.emit("unhandledRejection",Ke,We):Zt(st,We,Ke)}),re.rejection=Ue||_n(re)?2:1,be.error))throw be.value})},_n=function(re){return re.rejection!==1&&!re.parent},Ct=function(re){k($,A,function(){var be=re.facade;Ue?wt.emit("rejectionHandled",be):Zt("rejectionhandled",be,re.value)})},Nn=function(re,be,We){return function(Ke){re(be,Ke,We)}},q=function(re,be,We){re.done||(re.done=!0,We&&(re=We),re.value=be,re.state=2,zt(re,!0))},pe=function(re,be,We){if(!re.done){re.done=!0,We&&(re=We);try{if(re.facade===be)throw Xe("Promise can't be resolved itself");var Ke=on(be);Ke?ie(function(){var ft={done:!1};try{k(Ke,be,Nn(pe,ft,re),Nn(q,ft,re))}catch(Xt){q(ft,Xt,re)}}):(re.value=be,re.state=1,zt(re,!1))}catch(ft){q({done:!1},ft,re)}}};if(it&&(Te=(he=function(re){Q(this,Te),ue(re),k(f,this);var be=Ze(this);try{re(Nn(pe,be),Nn(q,be))}catch(We){q(be,We)}}).prototype,(f=function(re){gt(this,{type:Ve,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=L(Te,{then:function(re,be){var We=ce(this),Ke=We.reactions,ft=Tt(Y(this,he));return ft.ok=!oe(re)||re,ft.fail=oe(be)&&be,ft.domain=Ue?wt.domain:void 0,We.parent=!0,Ke[Ke.length]=ft,We.state!=0&&zt(We,!1),ft.promise},catch:function(re){return this.then(void 0,re)}}),d=function(){var re=new f,be=Ze(re);this.promise=re,this.resolve=Nn(pe,be),this.reject=Nn(q,be)},Pe.f=Tt=function(re){return re===he||re===O?new d(re):jt(re)},!M&&oe(I)&&ae!==Object.prototype)){v=ae.then,le||(C(ae,"then",function(re,be){var We=this;return new he(function(Ke,ft){k(v,We,Ke,ft)}).then(re,be)},{unsafe:!0}),C(ae,"catch",Te.catch,{unsafe:!0}));try{delete ae.constructor}catch(re){}G&&G(ae,Te)}E({global:!0,wrap:!0,forced:it},{Promise:he}),W(he,Ve,!1,!0),ee(Ve),O=T(Ve),E({target:Ve,stat:!0,forced:it},{reject:function(re){var be=Tt(this);return k(be.reject,void 0,re),be.promise}}),E({target:Ve,stat:!0,forced:M||it},{resolve:function(re){return xe(M&&this===O?he:this,re)}}),E({target:Ve,stat:!0,forced:Lt},{all:function(re){var be=this,We=Tt(be),Ke=We.resolve,ft=We.reject,Xt=Be(function(){var Yn=ue(be.resolve),Qn=[],Cn=0,zn=1;B(re,function(at){var bt=Cn++,xt=!1;zn++,k(Yn,be,at).then(function(Rt){xt||(xt=!0,Qn[bt]=Rt,--zn||Ke(Qn))},ft)}),--zn||Ke(Qn)});return Xt.error&&ft(Xt.value),We.promise},race:function(re){var be=this,We=Tt(be),Ke=We.reject,ft=Be(function(){var Xt=ue(be.resolve);B(re,function(Yn){k(Xt,be,Yn).then(We.resolve,Ke)})});return ft.error&&Ke(ft.value),We.promise}})},function(s,p,o){var f=o(7);s.exports=f.Promise},function(s,p,o){var f,d,O,v,E,M,A,T,k=o(7),I=o(64),C=o(50).f,L=o(168).set,G=o(169),W=o(211),ee=o(212),ue=o(128),oe=k.MutationObserver||k.WebKitMutationObserver,J=k.document,Q=k.process,V=k.Promise,B=C(k,"queueMicrotask"),X=B&&B.value;X||(f=function(){var Y,$;for(ue&&(Y=Q.domain)&&Y.exit();d;){$=d.fn,d=d.next;try{$()}catch(ie){throw d?v():O=void 0,ie}}O=void 0,Y&&Y.enter()},G||ue||ee||!oe||!J?!W&&V&&V.resolve?((A=V.resolve(void 0)).constructor=V,T=I(A.then,A),v=function(){T(f)}):ue?v=function(){Q.nextTick(f)}:(L=I(L,k),v=function(){L(f)}):(E=!0,M=J.createTextNode(""),new oe(f).observe(M,{characterData:!0}),v=function(){M.data=E=!E})),s.exports=X||function(Y){var $={fn:Y,next:void 0};O&&(O.next=$),d||(d=$,v()),O=$}},function(s,p,o){var f=o(55),d=o(7);s.exports=/ipad|iphone|ipod/i.test(f)&&d.Pebble!==void 0},function(s,p,o){var f=o(55);s.exports=/web0s(?!.*chrome)/i.test(f)},function(s,p,o){var f=o(32),d=o(33),O=o(170);s.exports=function(v,E){if(f(v),d(E)&&E.constructor===v)return E;var M=O.f(v);return(0,M.resolve)(E),M.promise}},function(s,p,o){var f=o(7);s.exports=function(d,O){var v=f.console;v&&v.error&&(arguments.length==1?v.error(d):v.error(d,O))}},function(s,p){s.exports=function(o){try{return{error:!1,value:o()}}catch(f){return{error:!0,value:f}}}},function(s,p){s.exports=typeof window=="object"},function(s,p,o){var f=o(40),d=o(75),O=o(45);s.exports=function(v){for(var E=f(this),M=O(E),A=arguments.length,T=d(A>1?arguments[1]:void 0,M),k=A>2?arguments[2]:void 0,I=k===void 0?M:d(k,M);I>T;)E[T++]=v;return E}},function(s,p,o){var f=o(16),d=o(7),O=o(15),v=o(59),E=o(160),M=o(219),A=o(18),T=d.RangeError,k=d.String,I=Math.floor,C=O(M),L=O("".slice),G=O(1 .toFixed),W=function(J,Q,V){return Q===0?V:Q%2==1?W(J,Q-1,V*J):W(J*J,Q/2,V)},ee=function(J,Q,V){for(var B=-1,X=V;++B<6;)X+=Q*J[B],J[B]=X%1e7,X=I(X/1e7)},ue=function(J,Q){for(var V=6,B=0;--V>=0;)B+=J[V],J[V]=I(B/Q),B=B%Q*1e7},oe=function(J){for(var Q=6,V="";--Q>=0;)if(V!==""||Q===0||J[Q]!==0){var B=k(J[Q]);V=V===""?B:V+C("0",7-B.length)+B}return V};f({target:"Number",proto:!0,forced:A(function(){return G(8e-5,3)!=="0.000"||G(.9,0)!=="1"||G(1.255,2)!=="1.25"||G(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!A(function(){G({})})},{toFixed:function(J){var Q,V,B,X,Y=E(this),$=v(J),ie=[0,0,0,0,0,0],xe="",ge="0";if($<0||$>20)throw T("Incorrect fraction digits");if(Y!=Y)return"NaN";if(Y<=-1e21||Y>=1e21)return k(Y);if(Y<0&&(xe="-",Y=-Y),Y>1e-21)if(V=(Q=function(Pe){for(var Be=0,Se=Pe;Se>=4096;)Be+=12,Se/=4096;for(;Se>=2;)Be+=1,Se/=2;return Be}(Y*W(2,69,1))-69)<0?Y*W(2,-Q,1):Y/W(2,Q,1),V*=4503599627370496,(Q=52-Q)>0){for(ee(ie,0,V),B=$;B>=7;)ee(ie,1e7,0),B-=7;for(ee(ie,W(10,B,1),0),B=Q-1;B>=23;)ue(ie,1<<23),B-=23;ue(ie,1<<B),ee(ie,1,1),ue(ie,2),ge=oe(ie)}else ee(ie,0,V),ee(ie,1<<-Q,0),ge=oe(ie)+C("0",$);return ge=$>0?xe+((X=ge.length)<=$?"0."+C("0",$-X)+ge:L(ge,0,X-$)+"."+L(ge,X-$)):xe+ge}})},function(s,p,o){var f=o(7),d=o(59),O=o(39),v=o(44),E=f.RangeError;s.exports=function(M){var A=O(v(this)),T="",k=d(M);if(k<0||k==1/0)throw E("Wrong number of repetitions");for(;k>0;(k>>>=1)&&(A+=A))1&k&&(T+=A);return T}},function(s,p,o){var f=o(36),d=o(15),O=o(77),v=o(41),E=d(o(84).f),M=d([].push),A=function(T){return function(k){for(var I,C=v(k),L=O(C),G=L.length,W=0,ee=[];G>W;)I=L[W++],f&&!E(C,I)||M(ee,T?[I,C[I]]:C[I]);return ee}};s.exports={entries:A(!0),values:A(!1)}},function(s,p){s.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(s,p,o){o.r(p),o.d(p,"observer",function(){return ii}),o.d(p,"LogicFlow",function(){return Kv}),o.d(p,"h",function(){return le.g}),o.d(p,"LogicFlowUtil",function(){return f}),o.d(p,"BaseNode",function(){return ta}),o.d(p,"RectNode",function(){return By}),o.d(p,"CircleNode",function(){return Xy}),o.d(p,"PolygonNode",function(){return Ky}),o.d(p,"DiamondNode",function(){return Jy}),o.d(p,"EllipseNode",function(){return rv}),o.d(p,"TextNode",function(){return av}),o.d(p,"HtmlNode",function(){return lv}),o.d(p,"BaseEdge",function(){return Jl}),o.d(p,"LineEdge",function(){return Ev}),o.d(p,"PolylineEdge",function(){return Mv}),o.d(p,"BezierEdge",function(){return Nv}),o.d(p,"Arrow",function(){return Bw}),o.d(p,"BaseEdgeModel",function(){return vl}),o.d(p,"BezierEdgeModel",function(){return Yh}),o.d(p,"LineEdgeModel",function(){return Lc}),o.d(p,"PolylineEdgeModel",function(){return Au}),o.d(p,"BaseNodeModel",function(){return ea}),o.d(p,"CircleNodeModel",function(){return Zh}),o.d(p,"DiamondNodeModel",function(){return ny}),o.d(p,"EllipseNodeModel",function(){return ay}),o.d(p,"PolygonNodeModel",function(){return py}),o.d(p,"RectNodeModel",function(){return vy}),o.d(p,"TextNodeModel",function(){return _y}),o.d(p,"HtmlNodeModel",function(){return xy}),o.d(p,"EditConfigModel",function(){return Cs}),o.d(p,"GraphModel",function(){return wg}),o.d(p,"SnaplineModel",function(){return ab}),o.d(p,"Keyboard",function(){return Vb}),o.d(p,"get",function(){return Vg}),o.d(p,"defaults",function(){return Kg}),o.d(p,"ElementState",function(){return cn}),o.d(p,"ModelType",function(){return Vt}),o.d(p,"ElementType",function(){return Bn}),o.d(p,"EventType",function(){return pt}),o.d(p,"formateAnchorConnectValidateData",function(){return xu});var f={};o.r(f),o.d(f,"createUuid",function(){return bi}),o.d(f,"refreshGraphId",function(){return _u}),o.d(f,"StepDrag",function(){return Do}),o.d(f,"setupEdgeModel",function(){return yn}),o.d(f,"isBboxOverLapping",function(){return bp}),o.d(f,"filterRepeatPoints",function(){return Ta}),o.d(f,"getSimplePolyline",function(){return Fc}),o.d(f,"getExpandedBBox",function(){return Tu}),o.d(f,"pointDirection",function(){return _p}),o.d(f,"getExpandedBBoxPoint",function(){return Du}),o.d(f,"mergeBBox",function(){return Ol}),o.d(f,"getBBoxOfPoints",function(){return xi}),o.d(f,"getPointsFromBBox",function(){return Wi}),o.d(f,"isPointOutsideBBox",function(){return Nu}),o.d(f,"getBBoxXCrossPoints",function(){return Op}),o.d(f,"getBBoxYCrossPoints",function(){return wp}),o.d(f,"getBBoxCrossPointsByPoint",function(){return Jn}),o.d(f,"estimateDistance",function(){return ar}),o.d(f,"costByPoints",function(){return xp}),o.d(f,"heuristicCostEstimate",function(){return Uc}),o.d(f,"rebuildPath",function(){return Ep}),o.d(f,"removeClosePointFromOpenList",function(){return Sp}),o.d(f,"isSegmentsIntersected",function(){return Ki}),o.d(f,"isSegmentCrossingBBox",function(){return Gc}),o.d(f,"getNextNeighborPoints",function(){return wl}),o.d(f,"pathFinder",function(){return $i}),o.d(f,"getBoxByOriginNode",function(){return xl}),o.d(f,"pointFilter",function(){return Xc}),o.d(f,"getPolylinePoints",function(){return Hc}),o.d(f,"getLongestEdge",function(){return jp}),o.d(f,"isSegmentsInNode",function(){return El}),o.d(f,"isSegmentsCrossNode",function(){return Sl}),o.d(f,"getCrossPointInRect",function(){return jl}),o.d(f,"segmentDirection",function(){return Cu}),o.d(f,"points2PointsList",function(){return Ei}),o.d(f,"getSimplePoints",function(){return Yc}),o.d(f,"getBytesLength",function(){return Vc}),o.d(f,"getTextWidth",function(){return Ml}),o.d(f,"getAppendAttributes",function(){return Pp}),o.d(f,"getBezierControlPoints",function(){return kl}),o.d(f,"getBezierPoints",function(){return ur}),o.d(f,"getEndTangent",function(){return Tl}),o.d(f,"getClosestPointOfPolyline",function(){return Dl}),o.d(f,"pickEdgeConfig",function(){return Wc}),o.d(f,"twoPointDistance",function(){return Ru}),o.d(f,"createEdgeGenerator",function(){return Ap}),o.d(f,"snapToGrid",function(){return gi}),o.d(f,"getGridOffset",function(){return Pc}),o.d(f,"sampleCubic",function(){return _l}),o.d(f,"getThetaOfVector",function(){return Dr}),o.d(f,"degrees",function(){return Vi}),o.d(f,"Vector",function(){return U}),o.d(f,"Point",function(){return te}),o.d(f,"Matrix",function(){return ji}),o.d(f,"RotateMatrix",function(){return Bu}),o.d(f,"ScaleMatrix",function(){return Gl}),o.d(f,"TranslateMatrix",function(){return Pi});var d=o(1),O=o(10);if(!O.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!d.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var v=o(43),E=Object(v.b)("observerBatching");function M(t){t()}var A=!1;function T(){return A}function k(t){return Object(d.t)(t)}var I,C=1e4,L=new Set;function G(){I===void 0&&(I=setTimeout(W,1e4))}function W(){I=void 0;var t=Date.now();L.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,L.delete(e))}),L.size>0&&G()}var ee=!1,ue=[],oe={};function J(t){return"observer"+t}function Q(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=oe),T();var r,a=function(x){return function(){ee?ue.push(x):x()}}((n.useForceUpdate||v.d)()),i=O.d.useRef(null);if(!i.current){var c=new d.c(J(e),function(){h.mounted?a():(c.dispose(),i.current=null)}),h=function(x){return{cleanAt:Date.now()+C,reaction:x}}(c);i.current=h,r=i,L.add(r),G()}var g=i.current.reaction;return O.d.useDebugValue(g,k),O.d.useEffect(function(){var x;return x=i,L.delete(x),i.current?i.current.mounted=!0:(i.current={reaction:new d.c(J(e),function(){a()}),cleanAt:1/0},a()),function(){i.current.reaction.dispose(),i.current=null}},[]),function(x){ee=!0,ue=[];try{var S=x();ee=!1;var D=ue.length>0?ue:void 0;return O.d.useLayoutEffect(function(){D&&D.forEach(function(R){return R()})},[D]),S}finally{ee=!1}}(function(){var x,S;if(g.track(function(){try{x=t()}catch(D){S=D}}),S)throw S;return x})}var V=function(){return V=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},V.apply(this,arguments)};function B(t,e){var n,r,a,i=V({forwardRef:!1},e),c=t.displayName||t.name,h=function(g,x){return Q(function(){return t(g,x)},c)};return h.displayName=c,n=i.forwardRef?Object(O.f)(Object(O.e)(h)):Object(O.f)(h),r=t,a=n,Object.keys(r).forEach(function(g){X[g]||Object.defineProperty(a,g,Object.getOwnPropertyDescriptor(r,g))}),n.displayName=c,n}var X={$$typeof:!0,render:!0,compare:!0,type:!0};function Y(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:Q(r)}function $(t,e,n,r,a){var i=e==="children"?"render":"children",c=typeof t[e]=="function",h=typeof t[i]=="function";return c&&h?new Error("MobX Observer: Do not use children and render in the same time in`"+n):c||h?null:new Error("Invalid prop `"+a+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}Y.propTypes={children:$,render:$},Y.displayName="Observer";var ie;(ie=O.g)||(ie=M),Object(d.n)({reactionScheduler:ie}),Object(v.a)()[E]=!0;var xe=0,ge={};function Pe(t){return ge[t]||(ge[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+xe+")";return xe++,n}(t)),ge[t]}function Be(t,e){if(Se(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.hasOwnProperty.call(e,n[a])||!Se(t[n[a]],e[n[a]]))return!1;return!0}function Se(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ve(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var je=Pe("patchMixins"),Ae=Pe("patchedDefinition");function Ue(t,e){for(var n=this,r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];e.locks++;try{var c;return t!=null&&(c=t.apply(this,a)),c}finally{e.locks--,e.locks===0&&e.methods.forEach(function(h){h.apply(n,a)})}}function rt(t,e){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];Ue.call.apply(Ue,[this,t,e].concat(r))}}function Ot(t,e,n){var r=function(h,g){var x=h[je]=h[je]||{},S=x[g]=x[g]||{};return S.locks=S.locks||0,S.methods=S.methods||[],S}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var a=Object.getOwnPropertyDescriptor(t,e);if(!a||!a[Ae]){var i=t[e],c=Ve(t,e,a?a.enumerable:void 0,r,i);Object.defineProperty(t,e,c)}}function Ve(t,e,n,r,a){var i,c=rt(a,r);return(i={})[Ae]=!0,i.get=function(){return c},i.set=function(h){if(this===t)c=rt(h,r);else{var g=Ve(this,e,n,r,h);Object.defineProperty(this,e,g)}},i.configurable=!0,i.enumerable=n,i}var Ze=d.a||"$mobx",gt=Pe("isMobXReactObserver"),ce=Pe("isUnmounted"),ae=Pe("skipRender"),he=Pe("isForcingUpdate");function Te(t){var e=t.prototype;if(t[gt]?Xe(e):t[gt]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==O.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==wt)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=wt;Tt(e,"props"),Tt(e,"state");var n=e.render;return e.render=function(){return ze.call(this,n)},Ot(e,"componentWillUnmount",function(){var r;(r=this.render[Ze])===null||r===void 0||r.dispose(),this[ce]=!0,!this.render[Ze]&&Xe(this)}),t}function Xe(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function ze(t){var e=this;ve(this,ae,!1),ve(this,he,!1);var n=Xe(this),r=t.bind(this),a=!1,i=new d.c(n+".render()",function(){if(!a&&(a=!0,e[ce]!==!0)){var h=!0;try{ve(e,he,!0),e[ae]||O.a.prototype.forceUpdate.call(e),h=!1}finally{ve(e,he,!1),h&&i.dispose()}}});function c(){a=!1;var h=void 0,g=void 0;if(i.track(function(){try{g=Object(d.d)(!1,r)}catch(x){h=x}}),h)throw h;return g}return i.reactComponent=this,c[Ze]=i,this.render=c,c.call(this)}function wt(t,e){return this.state!==e||!Be(this.props,t)}function Tt(t,e){var n=Pe("reactProp_"+e+"_valueHolder"),r=Pe("reactProp_"+e+"_atomHolder");function a(){return this[r]||ve(this,r,Object(d.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var i=!1;return d.f&&d.e&&(i=Object(d.f)(!0)),a.call(this).reportObserved(),d.f&&d.e&&Object(d.e)(i),this[n]},set:function(i){this[he]||Be(this[n],i)?ve(this,n,i):(ve(this,n,i),ve(this,ae,!0),a.call(this).reportChanged(),ve(this,ae,!1))}})}var jt=typeof Symbol=="function"&&Symbol.for,yt=jt?Symbol.for("react.forward_ref"):typeof O.e=="function"&&Object(O.e)(function(t){return null}).$$typeof,Me=jt?Symbol.for("react.memo"):typeof O.f=="function"&&Object(O.f)(function(t){return null}).$$typeof;function st(t){if(t.isMobxInjector,Me&&t.$$typeof===Me)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(yt&&t.$$typeof===yt){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(O.e)(function(){var n=arguments;return Object(O.c)(Y,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(O.a,t)?Te(t):B(t)}if(!O.a)throw new Error("mobx-react requires React to be available");if(!d.C)throw new Error("mobx-react requires mobx to be available");var le=o(0);o(4),o(8),o(2),o(3),o(52),o(6),o(5),o(11),o(37),o(27),o(21),o(20),o(24),o(22),o(25),o(9),o(17),o(23),o(19),o(192),o(156),o(104),o(157),o(158),o(199),o(61);var it=function(t,e){for(var n=-1,r=t==null?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a},Lt=function(){this.__data__=[],this.size=0},on=function(t,e){return t===e||t!=t&&e!=e},zt=function(t,e){for(var n=t.length;n--;)if(on(t[n][0],e))return n;return-1},Zt=Array.prototype.splice,fn=function(t){var e=this.__data__,n=zt(e,t);return!(n<0)&&(n==e.length-1?e.pop():Zt.call(e,n,1),--this.size,!0)},_n=function(t){var e=this.__data__,n=zt(e,t);return n<0?void 0:e[n][1]},Ct=function(t){return zt(this.__data__,t)>-1},Nn=function(t,e){var n=this.__data__,r=zt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function q(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}q.prototype.clear=Lt,q.prototype.delete=fn,q.prototype.get=_n,q.prototype.has=Ct,q.prototype.set=Nn;var pe=q,re=function(){this.__data__=new pe,this.size=0},be=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},We=function(t){return this.__data__.get(t)},Ke=function(t){return this.__data__.has(t)},ft=o(31),Xt=ft.a.Symbol,Yn=Object.prototype,Qn=Yn.hasOwnProperty,Cn=Yn.toString,zn=Xt?Xt.toStringTag:void 0,at=function(t){var e=Qn.call(t,zn),n=t[zn];try{t[zn]=void 0;var r=!0}catch(i){}var a=Cn.call(t);return r&&(e?t[zn]=n:delete t[zn]),a},bt=Object.prototype.toString,xt=function(t){return bt.call(t)},Rt=Xt?Xt.toStringTag:void 0,sn=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Rt&&Rt in Object(t)?at(t):xt(t)},Sn=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},mo,ro=function(t){if(!Sn(t))return!1;var e=sn(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},bo=ft.a["__core-js_shared__"],ai=(mo=/[^.]+$/.exec(bo&&bo.keys&&bo.keys.IE_PROTO||""))?"Symbol(src)_1."+mo:"",Os=function(t){return!!ai&&ai in t},Ha=Function.prototype.toString,Cr=function(t){if(t!=null){try{return Ha.call(t)}catch(e){}try{return t+""}catch(e){}}return""},Ii=/^\[object .+?Constructor\]$/,lt=Function.prototype,ws=Object.prototype,Ya=lt.toString,Va=ws.hasOwnProperty,yr=RegExp("^"+Ya.call(Va).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Er=function(t){return!(!Sn(t)||Os(t))&&(ro(t)?yr:Ii).test(Cr(t))},aa=function(t,e){return t==null?void 0:t[e]},Wr=function(t,e){var n=aa(t,e);return Er(n)?n:void 0},Rr=Wr(ft.a,"Map"),Kr=Wr(Object,"create"),Wa=function(){this.__data__=Kr?Kr(null):{},this.size=0},Ka=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},qu=Object.prototype.hasOwnProperty,Li=function(t){var e=this.__data__;if(Kr){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return qu.call(e,t)?e[t]:void 0},Zu=Object.prototype.hasOwnProperty,$a=function(t){var e=this.__data__;return Kr?e[t]!==void 0:Zu.call(e,t)},xs=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Kr&&e===void 0?"__lodash_hash_undefined__":e,this};function Lo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Lo.prototype.clear=Wa,Lo.prototype.delete=Ka,Lo.prototype.get=Li,Lo.prototype.has=$a,Lo.prototype.set=xs;var Ju=Lo,_o=function(){this.size=0,this.__data__={hash:new Ju,map:new(Rr||pe),string:new Ju}},qa=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},ua=function(t,e){var n=t.__data__;return qa(e)?n[typeof e=="string"?"string":"hash"]:n.map},Za=function(t){var e=ua(this,t).delete(t);return this.size-=e?1:0,e},Ja=function(t){return ua(this,t).get(t)},Es=function(t){return ua(this,t).has(t)},Qu=function(t,e){var n=ua(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function un(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}un.prototype.clear=_o,un.prototype.delete=Za,un.prototype.get=Ja,un.prototype.has=Es,un.prototype.set=Qu;var an=un,ec=function(t,e){var n=this.__data__;if(n instanceof pe){var r=n.__data__;if(!Rr||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new an(r)}return n.set(t,e),this.size=n.size,this};function ui(t){var e=this.__data__=new pe(t);this.size=e.size}ui.prototype.clear=re,ui.prototype.delete=be,ui.prototype.get=We,ui.prototype.has=Ke,ui.prototype.set=ec;var Oo=ui,Qa=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},tc=function(t){return this.__data__.has(t)};function kn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new an;++e<n;)this.add(t[e])}kn.prototype.add=kn.prototype.push=Qa,kn.prototype.has=tc;var eu=kn,zi=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},tu=function(t,e){return t.has(e)},ca=function(t,e,n,r,a,i){var c=1&n,h=t.length,g=e.length;if(h!=g&&!(c&&g>h))return!1;var x=i.get(t),S=i.get(e);if(x&&S)return x==e&&S==t;var D=-1,R=!0,H=2&n?new eu:void 0;for(i.set(t,e),i.set(e,t);++D<h;){var Z=t[D],ne=e[D];if(r)var ye=c?r(ne,Z,D,e,t,i):r(Z,ne,D,t,e,i);if(ye!==void 0){if(ye)continue;R=!1;break}if(H){if(!zi(e,function(de,we){if(!tu(H,we)&&(Z===de||a(Z,de,n,r,i)))return H.push(we)})){R=!1;break}}else if(Z!==ne&&!a(Z,ne,n,r,i)){R=!1;break}}return i.delete(t),i.delete(e),R},er=ft.a.Uint8Array,nu=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,a){n[++e]=[a,r]}),n},nc=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},ru=Xt?Xt.prototype:void 0,sa=ru?ru.valueOf:void 0,ci=function(t,e,n,r,a,i,c){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new er(t),new er(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return on(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var h=nu;case"[object Set]":var g=1&r;if(h||(h=nc),t.size!=e.size&&!g)return!1;var x=c.get(t);if(x)return x==e;r|=2,c.set(t,e);var S=ca(h(t),h(e),r,a,i,c);return c.delete(t),S;case"[object Symbol]":if(sa)return sa.call(t)==sa.call(e)}return!1},oo=function(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t},vn=Array.isArray,rc=function(t,e,n){var r=e(t);return vn(t)?r:oo(r,n(t))},vr=function(t,e){for(var n=-1,r=t==null?0:t.length,a=0,i=[];++n<r;){var c=t[n];e(c,n,t)&&(i[a++]=c)}return i},oc=function(){return[]},ic=Object.prototype.propertyIsEnumerable,sr=Object.getOwnPropertySymbols,gr=sr?function(t){return t==null?[]:(t=Object(t),vr(sr(t),function(e){return ic.call(t,e)}))}:oc,ou=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},tn=function(t){return t!=null&&typeof t=="object"},Vn=function(t){return tn(t)&&sn(t)=="[object Arguments]"},la=Object.prototype,ac=la.hasOwnProperty,iu=la.propertyIsEnumerable,fa=Vn(function(){return arguments}())?Vn:function(t){return tn(t)&&ac.call(t,"callee")&&!iu.call(t,"callee")},io=fa,wo=o(48),si=/^(?:0|[1-9]\d*)$/,mr=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&si.test(t))&&t>-1&&t%1==0&&t<e},xo=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},Jt={};Jt["[object Float32Array]"]=Jt["[object Float64Array]"]=Jt["[object Int8Array]"]=Jt["[object Int16Array]"]=Jt["[object Int32Array]"]=Jt["[object Uint8Array]"]=Jt["[object Uint8ClampedArray]"]=Jt["[object Uint16Array]"]=Jt["[object Uint32Array]"]=!0,Jt["[object Arguments]"]=Jt["[object Array]"]=Jt["[object ArrayBuffer]"]=Jt["[object Boolean]"]=Jt["[object DataView]"]=Jt["[object Date]"]=Jt["[object Error]"]=Jt["[object Function]"]=Jt["[object Map]"]=Jt["[object Number]"]=Jt["[object Object]"]=Jt["[object RegExp]"]=Jt["[object Set]"]=Jt["[object String]"]=Jt["[object WeakMap]"]=!1;var br=function(t){return tn(t)&&xo(t.length)&&!!Jt[sn(t)]},ao=function(t){return function(e){return t(e)}},$n=o(49),pa=$n.a&&$n.a.isTypedArray,Bi=pa?ao(pa):br,au=Object.prototype.hasOwnProperty,jn=function(t,e){var n=vn(t),r=!n&&io(t),a=!n&&!r&&Object(wo.a)(t),i=!n&&!r&&!a&&Bi(t),c=n||r||a||i,h=c?ou(t.length,String):[],g=h.length;for(var x in t)!e&&!au.call(t,x)||c&&(x=="length"||a&&(x=="offset"||x=="parent")||i&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||mr(x,g))||h.push(x);return h},da=Object.prototype,Eo=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||da)},Ir=function(t,e){return function(n){return t(e(n))}},uu=Ir(Object.keys,Object),Ss=Object.prototype.hasOwnProperty,cu=function(t){if(!Eo(t))return uu(t);var e=[];for(var n in Object(t))Ss.call(t,n)&&n!="constructor"&&e.push(n);return e},Rn=function(t){return t!=null&&xo(t.length)&&!ro(t)},zo=function(t){return Rn(t)?jn(t):cu(t)},uo=function(t){return rc(t,zo,gr)},lr=Object.prototype.hasOwnProperty,su=function(t,e,n,r,a,i){var c=1&n,h=uo(t),g=h.length;if(g!=uo(e).length&&!c)return!1;for(var x=g;x--;){var S=h[x];if(!(c?S in e:lr.call(e,S)))return!1}var D=i.get(t),R=i.get(e);if(D&&R)return D==e&&R==t;var H=!0;i.set(t,e),i.set(e,t);for(var Z=c;++x<g;){var ne=t[S=h[x]],ye=e[S];if(r)var de=c?r(ye,ne,S,e,t,i):r(ne,ye,S,t,e,i);if(!(de===void 0?ne===ye||a(ne,ye,n,r,i):de)){H=!1;break}Z||(Z=S=="constructor")}if(H&&!Z){var we=t.constructor,Ce=e.constructor;we==Ce||!("constructor"in t)||!("constructor"in e)||typeof we=="function"&&we instanceof we&&typeof Ce=="function"&&Ce instanceof Ce||(H=!1)}return i.delete(t),i.delete(e),H},Sr=Wr(ft.a,"DataView"),Bo=Wr(ft.a,"Promise"),ha=Wr(ft.a,"Set"),co=Wr(ft.a,"WeakMap"),jr="[object Map]",_r="[object Promise]",Lr="[object Set]",so="[object WeakMap]",Oe="[object DataView]",De=Cr(Sr),Re=Cr(Rr),Qe=Cr(Bo),Bt=Cr(ha),Kt=Cr(co),gn=sn;(Sr&&gn(new Sr(new ArrayBuffer(1)))!=Oe||Rr&&gn(new Rr)!=jr||Bo&&gn(Bo.resolve())!=_r||ha&&gn(new ha)!=Lr||co&&gn(new co)!=so)&&(gn=function(t){var e=sn(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Cr(n):"";if(r)switch(r){case De:return Oe;case Re:return jr;case Qe:return _r;case Bt:return Lr;case Kt:return so}return e});var _=gn,w="[object Arguments]",P="[object Array]",z="[object Object]",K=Object.prototype.hasOwnProperty,fe=function(t,e,n,r,a,i){var c=vn(t),h=vn(e),g=c?P:_(t),x=h?P:_(e),S=(g=g==w?z:g)==z,D=(x=x==w?z:x)==z,R=g==x;if(R&&Object(wo.a)(t)){if(!Object(wo.a)(e))return!1;c=!0,S=!1}if(R&&!S)return i||(i=new Oo),c||Bi(t)?ca(t,e,n,r,a,i):ci(t,e,g,n,r,a,i);if(!(1&n)){var H=S&&K.call(t,"__wrapped__"),Z=D&&K.call(e,"__wrapped__");if(H||Z){var ne=H?t.value():t,ye=Z?e.value():e;return i||(i=new Oo),a(ne,ye,n,r,i)}}return!!R&&(i||(i=new Oo),su(t,e,n,r,a,i))},Ee=function t(e,n,r,a,i){return e===n||(e==null||n==null||!tn(e)&&!tn(n)?e!=e&&n!=n:fe(e,n,r,a,t,i))},Fe=function(t,e,n,r){var a=n.length,i=a,c=!r;if(t==null)return!i;for(t=Object(t);a--;){var h=n[a];if(c&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++a<i;){var g=(h=n[a])[0],x=t[g],S=h[1];if(c&&h[2]){if(x===void 0&&!(g in t))return!1}else{var D=new Oo;if(r)var R=r(x,S,g,t,e,D);if(!(R===void 0?Ee(S,x,3,r,D):R))return!1}}return!0},ut=function(t){return t==t&&!Sn(t)},Yt=function(t){for(var e=zo(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,ut(a)]}return e},et=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},pn=function(t){var e=Yt(t);return e.length==1&&e[0][2]?et(e[0][0],e[0][1]):function(n){return n===t||Fe(n,t,e)}},Ft=function(t){return typeof t=="symbol"||tn(t)&&sn(t)=="[object Symbol]"},nn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zr=/^\w*$/,On=function(t,e){if(vn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Ft(t))||zr.test(t)||!nn.test(t)||e!=null&&t in Object(e)};function Or(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var c=t.apply(this,r);return n.cache=i.set(a,c)||i,c};return n.cache=new(Or.Cache||an),n}Or.Cache=an;var So=Or,jo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fi=/\\(\\)?/g,lu=function(t){var e=So(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(jo,function(n,r,a,i){e.push(a?i.replace(Fi,"$1"):r||n)}),e}),Fo=Xt?Xt.prototype:void 0,ya=Fo?Fo.toString:void 0,fr=function t(e){if(typeof e=="string")return e;if(vn(e))return it(e,t)+"";if(Ft(e))return ya?ya.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Ui=function(t){return t==null?"":fr(t)},li=function(t,e){return vn(t)?t:On(t,e)?[t]:lu(Ui(t))},Uo=function(t){if(typeof t=="string"||Ft(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Go=function(t,e){for(var n=0,r=(e=li(e,t)).length;t!=null&&n<r;)t=t[Uo(e[n++])];return n&&n==r?t:void 0},va=function(t,e,n){var r=t==null?void 0:Go(t,e);return r===void 0?n:r},Kd=function(t,e){return t!=null&&e in Object(t)},$d=function(t,e,n){for(var r=-1,a=(e=li(e,t)).length,i=!1;++r<a;){var c=Uo(e[r]);if(!(i=t!=null&&n(t,c)))break;t=t[c]}return i||++r!=a?i:!!(a=t==null?0:t.length)&&xo(a)&&mr(c,a)&&(vn(t)||io(t))},hf=function(t,e){return t!=null&&$d(t,e,Kd)},uc=function(t,e){return On(t)&&ut(e)?et(Uo(t),e):function(n){var r=va(n,t);return r===void 0&&r===e?hf(n,t):Ee(e,r,3)}},ga=function(t){return t},js=function(t){return function(e){return e==null?void 0:e[t]}},qd=function(t){return function(e){return Go(e,t)}},yf=function(t){return On(t)?js(Uo(t)):qd(t)},Ps=function(t){return typeof t=="function"?t:t==null?ga:typeof t=="object"?vn(t)?uc(t[0],t[1]):pn(t):yf(t)},vf=function(t){return function(e,n,r){for(var a=-1,i=Object(e),c=r(e),h=c.length;h--;){var g=c[t?h:++a];if(n(i[g],g,i)===!1)break}return e}}(),qn=function(t,e){return function(n,r){if(n==null)return n;if(!Rn(n))return t(n,r);for(var a=n.length,i=e?a:-1,c=Object(n);(e?i--:++i<a)&&r(c[i],i,c)!==!1;);return n}}(function(t,e){return t&&vf(t,e,zo)}),pr=function(t,e){var n=-1,r=Rn(t)?Array(t.length):[];return qn(t,function(a,i,c){r[++n]=e(a,i,c)}),r},cc=function(t,e){return(vn(t)?it:pr)(t,Ps(e))};Object(d.n)({isolateGlobalState:!0});var sc=function(){try{var t=Wr(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),lc=function(t,e,n){e=="__proto__"&&sc?sc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Zd=Object.prototype.hasOwnProperty,ma=function(t,e,n){var r=t[e];Zd.call(t,e)&&on(r,n)&&(n!==void 0||e in t)||lc(t,e,n)},Po=function(t,e,n,r){var a=!n;n||(n={});for(var i=-1,c=e.length;++i<c;){var h=e[i],g=r?r(n[h],t[h],h,n,t):void 0;g===void 0&&(g=t[h]),a?lc(n,h,g):ma(n,h,g)}return n},As=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Gi=Math.max,ba=function(t,e,n){return e=Gi(e===void 0?t.length-1:e,0),function(){for(var r=arguments,a=-1,i=Gi(r.length-e,0),c=Array(i);++a<i;)c[a]=r[e+a];a=-1;for(var h=Array(e+1);++a<e;)h[a]=r[a];return h[e]=n(c),As(t,this,h)}},fu=function(t){return function(){return t}},fc=sc?function(t,e){return sc(t,"toString",{configurable:!0,enumerable:!1,value:fu(e),writable:!0})}:ga,_a=Date.now,Jd=function(t){var e=0,n=0;return function(){var r=_a(),a=16-(r-n);if(n=r,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},gf=Jd(fc),Qd=function(t,e){return gf(ba(t,e,ga),t+"")},eh=function(t,e,n){if(!Sn(n))return!1;var r=typeof e;return!!(r=="number"?Rn(n)&&mr(e,n.length):r=="string"&&e in n)&&on(n[e],t)},mf=function(t){return Qd(function(e,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,c=a>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(a--,i):void 0,c&&eh(n[0],n[1],c)&&(i=a<3?void 0:i,a=1),e=Object(e);++r<a;){var h=n[r];h&&t(e,h,r,i)}return e})},pc=Object.prototype.hasOwnProperty,Zn=mf(function(t,e){if(Eo(e)||Rn(e))Po(e,zo(e),t);else for(var n in e)pc.call(e,n)&&ma(t,n,e[n])}),bf=function(t,e,n,r){if(!Sn(t))return t;for(var a=-1,i=(e=li(e,t)).length,c=i-1,h=t;h!=null&&++a<i;){var g=Uo(e[a]),x=n;if(g==="__proto__"||g==="constructor"||g==="prototype")return t;if(a!=c){var S=h[g];(x=r?r(S,g,h):void 0)===void 0&&(x=Sn(S)?S:mr(e[a+1])?[]:{})}ma(h,g,x),h=h[g]}return t},F=function(t,e,n){for(var r=-1,a=e.length,i={};++r<a;){var c=e[r],h=Go(t,c);n(h,c)&&bf(i,li(c,t),h)}return i},Oa=function(t,e){return F(t,e,function(n,r){return hf(t,r)})},pu=Xt?Xt.isConcatSpreadable:void 0,$r=function(t){return vn(t)||io(t)||!!(pu&&t&&t[pu])},en=function t(e,n,r,a,i){var c=-1,h=e.length;for(r||(r=$r),i||(i=[]);++c<h;){var g=e[c];n>0&&r(g)?n>1?t(g,n-1,r,a,i):oo(i,g):a||(i[i.length]=g)}return i},Xi=function(t){return t!=null&&t.length?en(t,1):[]},dn,Ao,fi,qr,Ms,ks,_f,Of,dc,wa,du,wf,Ts,Mo,hc,pi,Br,Ds,Ns,Xo=function(t){return gf(ba(t,void 0,Xi),t+"")}(function(t,e){return t==null?{}:Oa(t,e)});function wn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function xf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ef(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function In(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var cn,tr,Vt,Bn,pt,mn,yc={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Ho=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Cs=(Ao=In((dn=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),wn(this,"isSilentMode",Ao,this),wn(this,"stopZoomGraph",fi,this),wn(this,"stopScrollGraph",qr,this),wn(this,"stopMoveGraph",Ms,this),wn(this,"adjustEdge",ks,this),wn(this,"adjustEdgeMiddle",_f,this),wn(this,"adjustEdgeStartAndEnd",Of,this),wn(this,"adjustNodePosition",dc,this),wn(this,"hideAnchors",wa,this),wn(this,"allowRotation",du,this),wn(this,"hoverOutline",wf,this),wn(this,"nodeSelectedOutline",Ts,this),wn(this,"edgeSelectedOutline",Mo,this),wn(this,"nodeTextEdit",hc,this),wn(this,"edgeTextEdit",pi,this),wn(this,"nodeTextDraggable",Br,this),wn(this,"edgeTextDraggable",Ds,this),wn(this,"autoExpand",Ns,this),Ef(this,"multipleSelectKey",""),Ef(this,"defaultConfig",{}),Zn(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var a=this.getConfigDetail(r);Zn(this,a)}},{key:"getConfigDetail",value:function(r){var a=r.isSilentMode,i=r.textEdit,c={};if(a===!1&&Zn(c,this.defaultConfig),a===!0&&a!==this.isSilentMode){var h=Xo(yc,Ho);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},Zn(c,h)}i===!1&&Zn(c,{nodeTextEdit:!1,edgeTextEdit:!1});var g=Xo(r,Ho);return Zn(c,g)}},{key:"getConfig",value:function(){return Xo(this,Ho)}}])&&xf(e.prototype,n),t}()).prototype,"isSilentMode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fi=In(dn.prototype,"stopZoomGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qr=In(dn.prototype,"stopScrollGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ms=In(dn.prototype,"stopMoveGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ks=In(dn.prototype,"adjustEdge",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_f=In(dn.prototype,"adjustEdgeMiddle",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Of=In(dn.prototype,"adjustEdgeStartAndEnd",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dc=In(dn.prototype,"adjustNodePosition",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wa=In(dn.prototype,"hideAnchors",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),du=In(dn.prototype,"allowRotation",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wf=In(dn.prototype,"hoverOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ts=In(dn.prototype,"nodeSelectedOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Mo=In(dn.prototype,"edgeSelectedOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),hc=In(dn.prototype,"nodeTextEdit",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pi=In(dn.prototype,"edgeTextEdit",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Br=In(dn.prototype,"nodeTextDraggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ds=In(dn.prototype,"edgeTextDraggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ns=In(dn.prototype,"autoExpand",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),In(dn.prototype,"updateEditConfig",[d.k],Object.getOwnPropertyDescriptor(dn.prototype,"updateEditConfig"),dn.prototype),dn);o(65),o(66),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(cn||(cn={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(tr||(tr={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Vt||(Vt={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(Bn||(Bn={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_GROUP_COPY="node:group-copy-add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(pt||(pt={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(mn||(mn={}));var Pn,Tn,Sf,jf,vc,xa,Rs,Ea,gc;function Sa(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Is(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Is(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Is(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yo(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function th(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zr(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(Pn||(Pn={}));var Pf={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},Af=(Tn=function(){function t(r,a){(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,t),Vo(this,"MINI_SCALE_SIZE",.2),Vo(this,"MAX_SCALE_SIZE",16),Yo(this,"SCALE_X",Sf,this),Yo(this,"SKEW_Y",jf,this),Yo(this,"SKEW_X",vc,this),Yo(this,"SCALE_Y",xa,this),Yo(this,"TRANSLATE_X",Rs,this),Yo(this,"TRANSLATE_Y",Ea,this),Yo(this,"ZOOM_SIZE",gc,this),Vo(this,"eventCenter",void 0),Vo(this,"translateLimitMinX",void 0),Vo(this,"translateLimitMinY",void 0),Vo(this,"translateLimitMaxX",void 0),Vo(this,"translateLimitMaxY",void 0),this.eventCenter=r;var i=a.stopMoveGraph,c=i!==void 0&&i;this.updateTranslateLimits(c)}var e,n;return e=t,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var a=Sa(r,2),i=a[0],c=a[1];return[(i-this.TRANSLATE_X)/this.SCALE_X,(c-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var a=Sa(r,2),i=a[0],c=a[1];return[i*this.SCALE_X+this.TRANSLATE_X,c*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,a,i){var c=Sa(r,2),h=c[0],g=c[1];return[h+a/this.SCALE_X,g+i/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,a){return[r/this.SCALE_X,a/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=arguments.length>1?arguments[1]:void 0,i=this.SCALE_X,c=this.SCALE_Y;return r===!0?(i+=this.ZOOM_SIZE,c+=this.ZOOM_SIZE):r===!1?(i-=this.ZOOM_SIZE,c-=this.ZOOM_SIZE):typeof r=="number"&&(i=r,c=r),i<this.MINI_SCALE_SIZE||i>this.MAX_SCALE_SIZE||(a&&(this.TRANSLATE_X-=(i-this.SCALE_X)*a[0],this.TRANSLATE_Y-=(c-this.SCALE_Y)*a[1]),this.SCALE_X=i,this.SCALE_Y=c,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(pt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,a){this.TRANSLATE_X+r<=this.translateLimitMaxX&&this.TRANSLATE_X+r>=this.translateLimitMinX&&(this.TRANSLATE_X+=r),this.TRANSLATE_Y+a<=this.translateLimitMaxY&&this.TRANSLATE_Y+a>=this.translateLimitMinY&&(this.TRANSLATE_Y+=a),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,a,i,c){var h=Sa(this.CanvasPointToHtmlPoint([r,a]),2),g=i/2-h[0],x=c/2-h[1];this.TRANSLATE_X+=g,this.TRANSLATE_Y+=x,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(r){var a=Sa(Array.isArray(r)&&r.length===4?r:Pf[r.toString()],4);this.translateLimitMinX=a[0],this.translateLimitMinY=a[1],this.translateLimitMaxX=a[2],this.translateLimitMaxY=a[3]}}],n&&th(e.prototype,n),t}(),Sf=Zr(Tn.prototype,"SCALE_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),jf=Zr(Tn.prototype,"SKEW_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vc=Zr(Tn.prototype,"SKEW_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xa=Zr(Tn.prototype,"SCALE_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Rs=Zr(Tn.prototype,"TRANSLATE_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ea=Zr(Tn.prototype,"TRANSLATE_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gc=Zr(Tn.prototype,"ZOOM_SIZE",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Zr(Tn.prototype,"zoom",[d.k],Object.getOwnPropertyDescriptor(Tn.prototype,"zoom"),Tn.prototype),Zr(Tn.prototype,"resetZoom",[d.k],Object.getOwnPropertyDescriptor(Tn.prototype,"resetZoom"),Tn.prototype),Zr(Tn.prototype,"translate",[d.k],Object.getOwnPropertyDescriptor(Tn.prototype,"translate"),Tn.prototype),Zr(Tn.prototype,"focusOn",[d.k],Object.getOwnPropertyDescriptor(Tn.prototype,"focusOn"),Tn.prototype),Tn),mc=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},Mf=function(t,e){return t&&Po(e,zo(e),t)},kf=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},Tf=Object.prototype.hasOwnProperty,Ls=function(t){if(!Sn(t))return kf(t);var e=Eo(t),n=[];for(var r in t)(r!="constructor"||!e&&Tf.call(t,r))&&n.push(r);return n},ja=function(t){return Rn(t)?jn(t,!0):Ls(t)},zs=function(t,e){return t&&Po(e,ja(e),t)},bc=o(107),Wt=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},nh=function(t,e){return Po(t,gr(t),e)},Bs=Ir(Object.getPrototypeOf,Object),Pa=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)oo(e,gr(t)),t=Bs(t);return e}:oc,Df=function(t,e){return Po(t,Pa(t),e)},rh=function(t){return rc(t,ja,Pa)},oh=Object.prototype.hasOwnProperty,Jr=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&oh.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Fs=function(t){var e=new t.constructor(t.byteLength);return new er(e).set(new er(t)),e},_c=function(t,e){var n=e?Fs(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Us=/\w*$/,Nf=function(t){var e=new t.constructor(t.source,Us.exec(t));return e.lastIndex=t.lastIndex,e},Gs=Xt?Xt.prototype:void 0,Pr=Gs?Gs.valueOf:void 0,di=function(t){return Pr?Object(Pr.call(t)):{}},Oc=function(t,e){var n=e?Fs(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Cf=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Fs(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return _c(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Oc(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return Nf(t);case"[object Symbol]":return di(t)}},hu=Object.create,Rf=function(){function t(){}return function(e){if(!Sn(e))return{};if(hu)return hu(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),wc=function(t){return typeof t.constructor!="function"||Eo(t)?{}:Rf(Bs(t))},If=function(t){return tn(t)&&_(t)=="[object Map]"},xc=$n.a&&$n.a.isMap,Xs=xc?ao(xc):If,hi=function(t){return tn(t)&&_(t)=="[object Set]"},Lf=$n.a&&$n.a.isSet,yi=Lf?ao(Lf):hi,Hs="[object Arguments]",Ys="[object Function]",Vs="[object Object]",bn={};bn[Hs]=bn["[object Array]"]=bn["[object ArrayBuffer]"]=bn["[object DataView]"]=bn["[object Boolean]"]=bn["[object Date]"]=bn["[object Float32Array]"]=bn["[object Float64Array]"]=bn["[object Int8Array]"]=bn["[object Int16Array]"]=bn["[object Int32Array]"]=bn["[object Map]"]=bn["[object Number]"]=bn["[object Object]"]=bn["[object RegExp]"]=bn["[object Set]"]=bn["[object String]"]=bn["[object Symbol]"]=bn["[object Uint8Array]"]=bn["[object Uint8ClampedArray]"]=bn["[object Uint16Array]"]=bn["[object Uint32Array]"]=!0,bn["[object Error]"]=bn[Ys]=bn["[object WeakMap]"]=!1;var zf=function t(e,n,r,a,i,c){var h,g=1&n,x=2&n,S=4&n;if(r&&(h=i?r(e,a,i,c):r(e)),h!==void 0)return h;if(!Sn(e))return e;var D=vn(e);if(D){if(h=Jr(e),!g)return Wt(e,h)}else{var R=_(e),H=R==Ys||R=="[object GeneratorFunction]";if(Object(wo.a)(e))return Object(bc.a)(e,g);if(R==Vs||R==Hs||H&&!i){if(h=x||H?{}:wc(e),!g)return x?Df(e,zs(h,e)):nh(e,Mf(h,e))}else{if(!bn[R])return i?e:{};h=Cf(e,R,g)}}c||(c=new Oo);var Z=c.get(e);if(Z)return Z;c.set(e,h),yi(e)?e.forEach(function(ye){h.add(t(ye,n,r,ye,e,c))}):Xs(e)&&e.forEach(function(ye,de){h.set(de,t(ye,n,r,de,e,c))});var ne=D?void 0:(S?x?rh:uo:x?ja:zo)(e);return mc(ne||e,function(ye,de){ne&&(ye=e[de=ye]),ma(h,de,t(ye,n,r,de,e,c))}),h},xn=function(t){return zf(t,5)},Ec=function(t,e,n){(n!==void 0&&!on(t[e],n)||n===void 0&&!(e in t))&&lc(t,e,n)},Ar=function(t){return tn(t)&&Rn(t)},ko=Function.prototype,Sc=Object.prototype,Hi=ko.toString,Bf=Sc.hasOwnProperty,Ff=Hi.call(Object),Uf=function(t){if(!tn(t)||sn(t)!="[object Object]")return!1;var e=Bs(t);if(e===null)return!0;var n=Bf.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Hi.call(n)==Ff},vi=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},yu=function(t){return Po(t,ja(t))},Gf=function(t,e,n,r,a,i,c){var h=vi(t,n),g=vi(e,n),x=c.get(g);if(x)Ec(t,n,x);else{var S=i?i(h,g,n+"",t,e,c):void 0,D=S===void 0;if(D){var R=vn(g),H=!R&&Object(wo.a)(g),Z=!R&&!H&&Bi(g);S=g,R||H||Z?vn(h)?S=h:Ar(h)?S=Wt(h):H?(D=!1,S=Object(bc.a)(g,!0)):Z?(D=!1,S=Oc(g,!0)):S=[]:Uf(g)||io(g)?(S=h,io(h)?S=yu(h):Sn(h)&&!ro(h)||(S=wc(g))):D=!1}D&&(c.set(g,S),a(S,g,r,i,c),c.delete(g)),Ec(t,n,S)}},Xf=function t(e,n,r,a,i){e!==n&&vf(n,function(c,h){if(i||(i=new Oo),Sn(c))Gf(e,n,h,r,t,a,i);else{var g=a?a(vi(e,h),c,h+"",e,n,i):void 0;g===void 0&&(g=c),Ec(e,h,g)}},ja)},vu=mf(function(t,e,n){Xf(t,e,n)}),Hf={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},gu=function(t){var e=xn(Hf);return t&&(e=vu(e,t)),e};o(82),o(166);function Ws(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var jc=function(){function t(){var r,a,i;(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,t),i={},(a="_events")in(r=this)?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}var e,n;return e=t,(n=[{key:"on",value:function(r,a,i){var c=this;return r==null||r.split(",").forEach(function(h){h=h.trim(),c._events[h]||(c._events[h]=[]),c._events[h].push({callback:a,once:!!i})}),this}},{key:"once",value:function(r,a){var i=this;r==null||r.split(",").forEach(function(c){return c=c.trim(),i.on(c,a,!0)})}},{key:"emit",value:function(r,a){var i=this;r==null||r.split(",").forEach(function(c){var h=i._events[c]||[],g=i._events["*"]||[],x=function(S){for(var D=S.length,R=0;R<D;R++)if(S[R]){var H=S[R],Z=H.callback;H.once&&(S.splice(R,1),S.length===0&&delete i._events[c],D--,R--),Z.apply(i,[a])}};x(h),x(g)})}},{key:"off",value:function(r,a){var i=this;return r||(this._events={}),r.split(",").forEach(function(c){if(a){for(var h=i._events[c]||[],g=h.length,x=0;x<g;x++)h[x].callback===a&&(h.splice(x,1),g--,x--);h.length===0&&delete i._events[c]}else delete i._events[c]}),this}},{key:"getEvents",value:function(){return this._events}}])&&Ws(e.prototype,n),t}();function gi(t,e){return e*Math.round(t/e)||t}function Pc(t,e){return t%e}function Ac(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Mc(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Mc(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ks=function(t,e,n){var r=Ac(t,2),a=r[0],i=r[1],c=Ac(e,2),h=c[0],g=c[1],x=Ac(n,2),S=x[0],D=x[1];return a>h&&a<S&&i>g&&i<D},$s=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n};o(167),o(126),o(83),o(29),o(12),o(13),o(14),o(47);var Wo=function(t){return function(e,n,r){var a=Object(e);if(!Rn(e)){var i=Ps(n);e=zo(e),n=function(h){return i(a[h],h,a)}}var c=t(e,n,r);return c>-1?a[i?e[c]:c]:void 0}},Yf=function(t,e,n,r){for(var a=t.length,i=n+(r?1:-1);r?i--:++i<a;)if(e(t[i],i,t))return i;return-1},Vf=/\s/,ih=function(t){for(var e=t.length;e--&&Vf.test(t.charAt(e)););return e},Wf=/^\s+/,Ko=function(t){return t&&t.slice(0,ih(t)+1).replace(Wf,"")},qs=/^[-+]0x[0-9a-f]+$/i,Zs=/^0b[01]+$/i,Js=/^0o[0-7]+$/i,kc=parseInt,mi=function(t){if(typeof t=="number")return t;if(Ft(t))return NaN;if(Sn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Sn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ko(t);var n=Zs.test(t);return n||Js.test(t)?kc(t.slice(2),n?2:8):qs.test(t)?NaN:+t},Mt=1/0,Tc=function(t){return t?(t=mi(t))===Mt||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:t===0?t:0},Qs=function(t){var e=Tc(t),n=e%1;return e==e?n?e-n:e:0},Yi=Math.max,mu,el=Wo(function(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var a=n==null?0:Qs(n);return a<0&&(a=Yi(r+a,0)),Yf(t,Ps(e),a)}),dr=new Uint8Array(16);function Kf(){if(!mu&&!(mu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return mu(dr)}for(var $f=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ah=function(t){return typeof t=="string"&&$f.test(t)},En=[],rr=0;rr<256;++rr)En.push((rr+256).toString(16).substr(1));var tl=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(En[t[e+0]]+En[t[e+1]]+En[t[e+2]]+En[t[e+3]]+"-"+En[t[e+4]]+En[t[e+5]]+"-"+En[t[e+6]]+En[t[e+7]]+"-"+En[t[e+8]]+En[t[e+9]]+"-"+En[t[e+10]]+En[t[e+11]]+En[t[e+12]]+En[t[e+13]]+En[t[e+14]]+En[t[e+15]]).toLowerCase();if(!ah(n))throw TypeError("Stringified UUID is invalid");return n},bu=function(t,e,n){var r=(t=t||{}).random||(t.rng||Kf)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var a=0;a<16;++a)e[n+a]=r[a];return e}return tl(r)},bi=function(){return bu()},_u=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,a){return r[a.id]=e+bu(),a.id=r[a.id],r},{});return t.edges.forEach(function(r){r.id=e+bu(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},Aa=(o(105),o(127),o(207),function(t,e,n){var r=t.x,a=t.y,i=e.x,c=e.y,h=n.x,g=n.y,x=(g-c)/(h-i),S=c-x*i;return r>=i&&r<=h&&a>=c&&a<=g&&Math.abs(a-x*r+S)<Number.EPSILON});function Dc(t){return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function nl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nl(Object(n),!0).forEach(function(r){uh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ke,ol,Ma,Nc,il,al,Ou,ul,lo,_i,cl,qf,Zf,Jf,sl,ll,fl,pl,Qf,ep,tp,Mr=function(t){return t.anchors},Cc=function(t,e){for(var n,r=e.nodes,a=r.length-1;a>=0;a--){var i=r[a];if(ch(t,i)){var c=i.getTargetAnchor(t);if(c){var h={node:i,anchorIndex:c.index,anchor:c.anchor};n&&!np(i,n.node,e)||(n=h)}}}return n},np=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},fo=function(t,e,n,r){return Math.hypot(t-n,e-r)},To=function(t,e){var n=!1,r=Fr(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},ch=function(t,e){var n=!1,r=Fr(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},Fr=function(t){var e=t.x,n=t.y,r=t.width,a=t.height;return{minX:e-r/2,minY:n-a/2,maxX:e+r/2,maxY:n+a/2,x:e,y:n,width:r,height:a,centerX:e,centerY:n}},rp=function(t,e,n){var r,a=function(c){var h=c,g=h.x,x=h.y,S=h.width,D=h.height,R=h.radius;return[{x:g-S/2+R,y:x-D/2+R,r:R},{x:g+S/2-R,y:x-D/2+R,r:R},{x:g-S/2+R,y:x+D/2-R,r:R},{x:g+S/2-R,y:x+D/2-R,r:R}]}(n),i=Number.MAX_SAFE_INTEGER;return a.forEach(function(c){var h=fo(t.x,t.y,c.x,c.y);h<i&&(i=h,r=c)}),wu(t,e,r)},wu=function(t,e,n){var r,a=n,i=a.x,c=a.y,h=a.r;if(e===mn.HORIZONTAL){var g=i-Math.sqrt(h*h-(t.y-c)*(t.y-c)),x=i+Math.sqrt(h*h-(t.y-c)*(t.y-c));r={x:Math.abs(g-t.x)<Math.abs(x-t.x)?g:x,y:t.y}}else if(e===mn.VERTICAL){var S=c-Math.sqrt(h*h-(t.x-i)*(t.x-i)),D=c+Math.sqrt(h*h-(t.x-i)*(t.x-i)),R=Math.abs(S-t.y)<Math.abs(D-t.y)?S:D;r={x:t.x,y:R}}return r},dl=function(t,e){var n=e,r=!1,a=n.x-n.width/2+n.radius,i=n.x+n.width/2-n.radius,c=n.y-n.height/2+n.radius,h=n.y+n.height/2-n.radius,g=n.x,x=n.y,S=n.width,D=n.height;return t.y===x+D/2||t.y===x-D/2?r=t.x>a&&t.x<i:t.x!==g+S/2&&t.x!==g-S/2||(r=t.y>c&&t.y<h),r},op=function(t,e,n){var r,a=n,i=a.x,c=a.y,h=a.rx,g=a.ry;if(e===mn.HORIZONTAL){var x=i-Math.sqrt(h*h-(t.y-c)*(t.y-c)*h*h/(g*g)),S=i+Math.sqrt(h*h-(t.y-c)*(t.y-c)*h*h/(g*g));r={x:Math.abs(x-t.x)<Math.abs(S-t.x)?x:S,y:t.y}}else if(e===mn.VERTICAL){var D=c-Math.sqrt(g*g-(t.x-i)*(t.x-i)*g*g/(h*h)),R=c+Math.sqrt(g*g-(t.x-i)*(t.x-i)*g*g/(h*h)),H=Math.abs(D-t.y)<Math.abs(R-t.y)?D:R;r={x:t.x,y:H}}return r},ip=function(t,e,n){for(var r,a=n.pointsPosition,i=Number.MAX_SAFE_INTEGER,c=[],h=0;h<a.length;h++)c.push({start:a[h],end:a[(h+1)%a.length]});return c.forEach(function(g){var x=g.start,S=g.end,D=x,R=S;x.x>S.x&&(D=S,R=x);var H={x:t.x,y:t.y};if(D.x===R.x&&e===mn.HORIZONTAL&&(H={x:D.x,y:t.y}),D.y===R.y&&e===mn.VERTICAL&&(H={x:t.x,y:D.y}),D.x!==R.x&&D.y!==R.y){var Z=(R.y-D.y)/(R.x-D.x),ne=(D.x*R.y-R.x*D.y)/(D.x-R.x);e===mn.HORIZONTAL?H={x:(t.y-ne)/Z,y:t.y}:e===mn.VERTICAL&&(H={x:t.x,y:Z*t.x+ne})}if(Aa(H,x,S)){var ye=fo(H.x,H.y,t.x,t.y);ye<i&&(i=ye,r=H)}}),r},ap=function(t,e,n,r){var a=t.x,i=t.y;return e.x>t.x?a=t.x+n/2:e.x<t.x&&(a=t.x-n/2),e.y>t.y?i=t.y+r/2:e.y<t.y&&(i=t.y-r/2),{x:a,y:i}},up=function(t){var e=t.rows,n=t.style,r=t.rowsLength,a=t.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=a,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?e.forEach(function(h){var g=document.createElement("div");g.textContent=h,i.appendChild(g)}):i.textContent=e,document.body.appendChild(i);var c=i.clientHeight;return document.body.removeChild(i),c},hl=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,a=0;return e&&e.forEach(function(i){var c=Vc(i);a=c>a?c:a}),{width:Math.ceil(a/2)*r+r/4,height:n*(r+2)+r/4}},xu=function(t){return Dc(t)!=="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},or=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},Rc=1e3,sh=999,yl=function(){return++Rc};function cp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cp(Object(n),!0).forEach(function(r){Qr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function sp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pt(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var vl=(ke=function(){function t(r,a){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Qr(this,"id",""),Fn(this,"type",ol,this),Fn(this,"sourceNodeId",Ma,this),Fn(this,"targetNodeId",Nc,this),Fn(this,"startPoint",il,this),Fn(this,"endPoint",al,this),Fn(this,"text",Ou,this),Fn(this,"properties",ul,this),Fn(this,"points",lo,this),Fn(this,"pointsList",_i,this),Fn(this,"isSelected",cl,this),Fn(this,"isHovered",qf,this),Fn(this,"isHitable",Zf,this),Fn(this,"draggable",Jf,this),Fn(this,"visible",sl,this),Qr(this,"virtual",!1),Fn(this,"isAnimation",ll,this),Fn(this,"isShowAdjustPoint",fl,this),Qr(this,"graphModel",void 0),Fn(this,"zIndex",pl,this),Qr(this,"BaseType",Bn.EDGE),Qr(this,"modelType",Vt.EDGE),Fn(this,"state",Qf,this),Qr(this,"additionStateData",void 0),Qr(this,"sourceAnchorId",""),Qr(this,"targetAnchorId",""),Qr(this,"menu",void 0),Qr(this,"customTextPosition",!1),Fn(this,"style",ep,this),Fn(this,"arrowConfig",tp,this),this.graphModel=a,this.initEdgeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,i=a&&a(r.type),c=this.createId();r.id=c||i||bi()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var h=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=h,Zn(this,Wc(r)),this.graphModel.overlapMode===Pn.INCREASE&&(this.zIndex=r.zIndex||yl()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return kr(kr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return kr({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return xn(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return xn(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),a=this.getEdgeAnimationStyle(),i=this.graphModel.theme.arrow,c=this.isAnimation?a.stroke:r.stroke;return kr(kr({},r),{},{fill:c,stroke:c},i)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return xn(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.sourceNodeId])===null||a===void 0?void 0:a.model}},{key:"targetNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.targetNodeId])===null||a===void 0?void 0:a.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,a,i){var c,h,g=Mr(r);return i&&(c=el(g,function(x){return x.id===i}))||g.forEach(function(x){var S=Ru(x,a);(h===void 0||S<h)&&(h=S,c=x)}),c}},{key:"getEndAnchor",value:function(r,a){var i,c,h=this,g=Mr(r);return a&&(i=el(g,function(x){return x.id===a}))||g.forEach(function(x){var S=Ru(x,h.startPoint);(c===void 0||S<c)&&(c=S,i=x)}),i}},{key:"getProperties",value:function(){return Object(d.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,a=r.x,i=r.y,c=r.value,h={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(d.I)(this.properties)};return c&&(h.text={x:a,y:i,value:c}),this.graphModel.overlapMode===Pn.INCREASE&&(h.zIndex=this.zIndex),h}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,a){this.properties[r]=or(a),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=kr(kr({},Object(d.I)(this.properties)),or(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var a=this.arrowConfig,i=a.markerEnd,c=a.markerStart;c&&c==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),i&&i==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,a){this.style=kr(kr({},this.style),{},Qr({},r,or(a)))}},{key:"setStyles",value:function(r){this.style=kr(kr({},this.style),or(r))}},{key:"updateStyles",value:function(r){this.style=kr({},or(r))}},{key:"formatText",value:function(r){var a=this.textPosition,i=a.x,c=a.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||i,y:r.text.y||c,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:i,y:c,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,a=r.x,i=r.y;this.text.x=a,this.text.y=i}},{key:"moveText",value:function(r,a){if(this.text){var i=this.text,c=i.x,h=i.y,g=i.value,x=i.draggable,S=i.editable;this.text={value:g,draggable:x,x:c+r,y:h+a,editable:S}}}},{key:"setText",value:function(r){r&&Zn(this.text,r)}},{key:"updateText",value:function(r){this.text=kr(kr({},Object(d.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode,this.sourceAnchorId);if(!r)throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var a=this.getEndAnchor(this.targetNode,this.targetAnchorId);if(!a)throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:a.x,y:a.y}),this.targetAnchorId||(this.targetAnchorId=a.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,a){this.startPoint.x+=r,this.startPoint.y+=a}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,a){this.endPoint.x+=r,this.endPoint.y+=a}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){Zn(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var a=r.startPoint,i=r.endPoint;this.updateStartPoint({x:a.x,y:a.y}),this.updateEndPoint({x:i.x,y:i.y})}}],n&&sp(e.prototype,n),t}(),ol=Pt(ke.prototype,"type",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ma=Pt(ke.prototype,"sourceNodeId",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Nc=Pt(ke.prototype,"targetNodeId",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),il=Pt(ke.prototype,"startPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),al=Pt(ke.prototype,"endPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ou=Pt(ke.prototype,"text",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),ul=Pt(ke.prototype,"properties",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),lo=Pt(ke.prototype,"points",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_i=Pt(ke.prototype,"pointsList",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),cl=Pt(ke.prototype,"isSelected",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qf=Pt(ke.prototype,"isHovered",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zf=Pt(ke.prototype,"isHitable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jf=Pt(ke.prototype,"draggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sl=Pt(ke.prototype,"visible",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ll=Pt(ke.prototype,"isAnimation",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fl=Pt(ke.prototype,"isShowAdjustPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pl=Pt(ke.prototype,"zIndex",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qf=Pt(ke.prototype,"state",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ep=Pt(ke.prototype,"style",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),tp=Pt(ke.prototype,"arrowConfig",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Pt(ke.prototype,"sourceNode",[d.m],Object.getOwnPropertyDescriptor(ke.prototype,"sourceNode"),ke.prototype),Pt(ke.prototype,"targetNode",[d.m],Object.getOwnPropertyDescriptor(ke.prototype,"targetNode"),ke.prototype),Pt(ke.prototype,"textPosition",[d.m],Object.getOwnPropertyDescriptor(ke.prototype,"textPosition"),ke.prototype),Pt(ke.prototype,"setProperty",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperty"),ke.prototype),Pt(ke.prototype,"deleteProperty",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"deleteProperty"),ke.prototype),Pt(ke.prototype,"setProperties",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperties"),ke.prototype),Pt(ke.prototype,"changeEdgeId",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"changeEdgeId"),ke.prototype),Pt(ke.prototype,"setStyle",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setStyle"),ke.prototype),Pt(ke.prototype,"setStyles",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setStyles"),ke.prototype),Pt(ke.prototype,"updateStyles",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateStyles"),ke.prototype),Pt(ke.prototype,"formatText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"formatText"),ke.prototype),Pt(ke.prototype,"resetTextPosition",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"resetTextPosition"),ke.prototype),Pt(ke.prototype,"moveText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveText"),ke.prototype),Pt(ke.prototype,"setText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setText"),ke.prototype),Pt(ke.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateText"),ke.prototype),Pt(ke.prototype,"setAnchors",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setAnchors"),ke.prototype),Pt(ke.prototype,"setSelected",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setSelected"),ke.prototype),Pt(ke.prototype,"setHovered",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHovered"),ke.prototype),Pt(ke.prototype,"setHitable",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHitable"),ke.prototype),Pt(ke.prototype,"openEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"openEdgeAnimation"),ke.prototype),Pt(ke.prototype,"closeEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"closeEdgeAnimation"),ke.prototype),Pt(ke.prototype,"setElementState",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setElementState"),ke.prototype),Pt(ke.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateStartPoint"),ke.prototype),Pt(ke.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveStartPoint"),ke.prototype),Pt(ke.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateEndPoint"),ke.prototype),Pt(ke.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveEndPoint"),ke.prototype),Pt(ke.prototype,"setZIndex",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setZIndex"),ke.prototype),Pt(ke.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"initPoints"),ke.prototype),Pt(ke.prototype,"updateAttributes",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateAttributes"),ke.prototype),Pt(ke.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"getAdjustStart"),ke.prototype),Pt(ke.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"getAdjustEnd"),ke.prototype),Pt(ke.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateAfterAdjustStartAndEnd"),ke.prototype),ke),ka=vl;function gl(t){return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function lp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Eu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lp(Object(n),!0).forEach(function(r){hp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Su(){return Su=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=dp(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Su.apply(this,arguments)}function dp(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=$o(t))!==null;);return t}function Ic(t,e){return Ic=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ic(t,e)}function lh(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=$o(t);if(e){var a=$o(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return fh(this,n)}}function fh(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ju(t)}function ju(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $o(t){return $o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$o(t)}function hp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dt,ml,Lc=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ic(i,c)})(a,t);var e,n,r=lh(a);function a(){var i;fp(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return hp(ju(i=r.call.apply(r,[this].concat(h))),"modelType",Vt.LINE_EDGE),i}return e=a,(n=[{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.line;return Eu(Eu({},Su($o(a.prototype),"getEdgeStyle",this).call(this)),xn(i))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&pp(e.prototype,n),a}(ka);function Ur(t){return Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ur(t)}function ph(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return yp(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return yp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oi(Object(n),!0).forEach(function(r){An(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oi(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dh(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Tr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Un(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eo(){return eo=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=hh(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},eo.apply(this,arguments)}function hh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=hn(t))!==null;);return t}function Pu(t,e){return Pu=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pu(t,e)}function qo(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=hn(t);if(e){var a=hn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vp(this,n)}}function vp(t,e){if(e&&(Ur(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wi(t)}function wi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hn(t){return hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hn(t)}function An(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ir(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Au=(Dt=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Pu(i,c)})(a,t);var e,n,r=qo(a);function a(){var i;Tr(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return An(wi(i=r.call.apply(r,[this].concat(h))),"modelType",Vt.POLYLINE_EDGE),An(wi(i),"draggingPointList",void 0),dh(wi(i),"dbClickPosition",ml,wi(i)),i}return e=a,(n=[{key:"initEdgeData",value:function(i){this.offset=30,eo(hn(a.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.polyline;return Ut(Ut({},eo(hn(a.prototype),"getEdgeStyle",this).call(this)),xn(i))}},{key:"getTextPosition",value:function(){var i,c=(i=this.text)===null||i===void 0?void 0:i.value;if(this.dbClickPosition&&!c){var h=this.dbClickPosition;return{x:h.x,y:h.y}}var g=Ei(this.points),x=ph(jp(g),2),S=x[0],D=x[1];return{x:(S.x+D.x)/2,y:(S.y+D.y)/2}}},{key:"getAfterAnchor",value:function(i,c,h){var g,x;return h.forEach(function(S){var D;i===mn.HORIZONTAL?D=Math.abs(c.y-S.y):i===mn.VERTICAL&&(D=Math.abs(c.x-S.x)),(!x||x>D)&&(x=D,g=S)}),g}},{key:"getCrossPoint",value:function(i,c,h){var g;return i===mn.HORIZONTAL?g={x:h.x,y:c.y}:i===mn.VERTICAL&&(g={x:c.x,y:h.y}),g}},{key:"removeCrossPoints",value:function(i,c,h){var g=h.map(function(de){return de});if(i===1){var x=g[i],S=g[c],D=g[i-1];if(El(D,x,this.sourceNode)){if(Sl(x,S,this.sourceNode)){var R=jl(x,S,this.sourceNode);R&&(g[i]=R,g.splice(i-1,1),i--,c--)}}else this.sourceNode.anchors.forEach(function(de){(de.x===D.x&&de.x===x.x||de.y===D.y&&de.y===x.y)&&fo(de.x,de.y,x.x,x.y)<fo(D.x,D.y,x.x,x.y)&&(g[i-1]=de)})}if(c===h.length-2){var H=g[i],Z=g[c],ne=g[c+1];if(El(Z,ne,this.targetNode)){if(Sl(H,Z,this.targetNode)){var ye=jl(H,Z,this.targetNode);ye&&(g[c]=ye,g.splice(c+1,1))}}else this.targetNode.anchors.forEach(function(de){(de.x===ne.x&&de.x===Z.x||de.y===ne.y&&de.y===Z.y)&&fo(de.x,de.y,Z.x,Z.y)<fo(ne.x,ne.y,Z.x,Z.y)&&(g[c+1]=de)})}return g}},{key:"getDraggingPoints",value:function(i,c,h,g,x){var S=x.map(function(H){return H}),D=this.getAfterAnchor(i,h,g),R=this.getCrossPoint(i,h,D);return c==="start"?(S.unshift(R),S.unshift(D)):(S.push(R),S.push(D)),S}},{key:"updateCrossPoints",value:function(i){var c=i.map(function(Ce){return Ce}),h=i[0],g=i[1],x=i[c.length-2],S=i[c.length-1],D=this.sourceNode,R=this.targetNode,H=D.modelType,Z=R.modelType,ne=Cu(h,g),ye=c[0];switch(H){case Vt.RECT_NODE:D.radius!==0&&(dl(h,D)||(ye=rp(h,ne,D)));break;case Vt.CIRCLE_NODE:ye=wu(h,ne,D);break;case Vt.ELLIPSE_NODE:ye=op(h,ne,D);break;case Vt.DIAMOND_NODE:case Vt.POLYGON_NODE:ye=ip(h,ne,D)}c[0]=ye;var de=Cu(x,S),we=c[c.length-1];switch(Z){case Vt.RECT_NODE:R.radius!==0&&(dl(S,R)||(we=rp(S,de,R)));break;case Vt.CIRCLE_NODE:we=wu(S,de,R);break;case Vt.ELLIPSE_NODE:we=op(S,de,R);break;case Vt.DIAMOND_NODE:case Vt.POLYGON_NODE:we=ip(S,de,R)}return c[c.length-1]=we,c}},{key:"getData",value:function(){var i=eo(hn(a.prototype),"getData",this).call(this),c=this.pointsList.map(function(h){return{x:h.x,y:h.y}});return Object.assign({},i,{pointsList:c})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var i=Hc({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=i,this.points=i.map(function(c){return"".concat(c.x,",").concat(c.y)}).join(" ")}},{key:"updateStartPoint",value:function(i){this.startPoint=Object.assign({},i),this.updatePoints()}},{key:"moveStartPoint",value:function(i,c){this.startPoint.x+=i,this.startPoint.y+=c,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=Object.assign({},i),this.updatePoints()}},{key:"moveEndPoint",value:function(i,c){this.endPoint.x+=i,this.endPoint.y+=c,this.updatePoints()}},{key:"updatePointsList",value:function(i,c){this.pointsList.forEach(function(x){x.x+=i,x.y+=c});var h=this.pointsList[0];this.startPoint=Object.assign({},h);var g=this.pointsList[this.pointsList.length-1];this.endPoint=Object.assign({},g),this.initPoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(i){return i})}},{key:"dragAppendSimple",value:function(i,c){this.isDragging=!0;var h=i.start,g=i.end,x=i.startIndex,S=i.endIndex,D=i.direction,R=this.pointsList,H=R;return D===mn.HORIZONTAL?(R[x]={x:h.x,y:h.y+c.y},R[S]={x:g.x,y:g.y+c.y},H=this.pointsList.map(function(Z){return Z})):D===mn.VERTICAL&&(R[x]={x:h.x+c.x,y:h.y},R[S]={x:g.x+c.x,y:g.y},H=this.pointsList.map(function(Z){return Z})),this.updatePointsAfterDrag(H),this.draggingPointList=H,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},R[x]),end:Object.assign({},R[S]),startIndex:x,endIndex:S,direction:D}}},{key:"dragAppend",value:function(i,c){this.isDragging=!0;var h=i.start,g=i.end,x=i.startIndex,S=i.endIndex,D=i.direction,R=this.pointsList;if(D===mn.HORIZONTAL){R[x]={x:h.x,y:h.y+c.y},R[S]={x:g.x,y:g.y+c.y};var H=this.pointsList.map(function($e){return $e});if(x!==0&&S!==this.pointsList.length-1&&(H=this.removeCrossPoints(x,S,H)),x===0){var Z={x:h.x,y:h.y+c.y};if(!To(Z,this.sourceNode)){var ne=this.sourceNode.anchors;H=this.getDraggingPoints(D,"start",Z,ne,H)}}if(S===this.pointsList.length-1){var ye={x:g.x,y:g.y+c.y};if(!To(ye,this.targetNode)){var de=this.targetNode.anchors;H=this.getDraggingPoints(D,"end",ye,de,H)}}this.updatePointsAfterDrag(H),this.draggingPointList=H}else if(D===mn.VERTICAL){R[x]={x:h.x+c.x,y:h.y},R[S]={x:g.x+c.x,y:g.y};var we=this.pointsList.map(function($e){return $e});if(x!==0&&S!==this.pointsList.length-1&&(we=this.removeCrossPoints(x,S,we)),x===0){var Ce={x:h.x+c.x,y:h.y};if(!To(Ce,this.sourceNode)){var Je=this.sourceNode.anchors;we=this.getDraggingPoints(D,"start",Ce,Je,we)}}if(S===this.pointsList.length-1){var qe={x:g.x+c.x,y:g.y};if(!To(qe,this.targetNode)){var mt=this.targetNode.anchors;we=this.getDraggingPoints(D,"end",qe,mt,we)}}this.updatePointsAfterDrag(we),this.draggingPointList=we}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},R[x]),end:Object.assign({},R[S]),startIndex:x,endIndex:S,direction:D}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var i=Xc(Ei(this.points));this.pointsList=i.map(function(g){return g}),this.draggingPointList=[];var c=i[0];this.startPoint=Object.assign({},c);var h=i[i.length-1];this.endPoint=Object.assign({},h)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(i){var c=this.updateCrossPoints(i);this.points=c.map(function(h){return"".concat(h.x,",").concat(h.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var c=i.startPoint,h=i.endPoint,g=i.sourceNode,x=i.targetNode,S=Hc({x:c.x,y:c.y},{x:h.x,y:h.y},g,x,this.offset||0);this.pointsList=S,this.initPoints()}}])&&Un(e.prototype,n),a}(ka),ml=ir(Dt.prototype,"dbClickPosition",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir(Dt.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"initPoints"),Dt.prototype),ir(Dt.prototype,"updatePoints",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"updatePoints"),Dt.prototype),ir(Dt.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"updateStartPoint"),Dt.prototype),ir(Dt.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"moveStartPoint"),Dt.prototype),ir(Dt.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"updateEndPoint"),Dt.prototype),ir(Dt.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"moveEndPoint"),Dt.prototype),ir(Dt.prototype,"updatePointsList",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"updatePointsList"),Dt.prototype),ir(Dt.prototype,"dragAppendStart",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"dragAppendStart"),Dt.prototype),ir(Dt.prototype,"dragAppendSimple",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"dragAppendSimple"),Dt.prototype),ir(Dt.prototype,"dragAppend",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"dragAppend"),Dt.prototype),ir(Dt.prototype,"dragAppendEnd",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"dragAppendEnd"),Dt.prototype),ir(Dt.prototype,"updatePointsAfterDrag",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"updatePointsAfterDrag"),Dt.prototype),ir(Dt.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"getAdjustStart"),Dt.prototype),ir(Dt.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"getAdjustEnd"),Dt.prototype),ir(Dt.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"updateAfterAdjustStartAndEnd"),Dt.prototype),Dt),Zo=function(t){var e=t.start,n=t.end,r=t.offset,a=t.verticalLength,i=t.type,c={leftX:0,leftY:0,rightX:0,rightY:0},h=Math.atan((n.y-e.y)/(n.x-e.x)),g=Math.atan(r/a),x=Math.sqrt(a*a+r*r);return i==="start"?n.x>=e.x?(c.leftX=e.x+x*Math.sin(h+g),c.leftY=e.y-x*Math.cos(h+g),c.rightX=e.x-x*Math.sin(h-g),c.rightY=e.y+x*Math.cos(h-g)):(c.leftX=e.x-x*Math.sin(h+g),c.leftY=e.y+x*Math.cos(h+g),c.rightX=e.x+x*Math.sin(h-g),c.rightY=e.y-x*Math.cos(h-g)):i==="end"&&(n.x>=e.x?(c.leftX=n.x+x*Math.sin(h-g),c.leftY=n.y-x*Math.cos(h-g),c.rightX=n.x-x*Math.sin(h+g),c.rightY=n.y+x*Math.cos(h+g)):(c.leftX=n.x-x*Math.sin(h-g),c.leftY=n.y+x*Math.cos(h-g),c.rightX=n.x+x*Math.sin(h+g),c.rightY=n.y-x*Math.cos(h+g))),c},bl={x:1,y:0,z:0};function _l(t,e,n,r,a){for(var i=function(Z){if(Z<0||Z>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-Z,3)+3*e.x*Z*Math.pow(1-Z,2)+3*n.x*Math.pow(Z,2)*(1-Z)+r.x*Math.pow(Z,3),y:t.y*Math.pow(1-Z,3)+3*e.y*Z*Math.pow(1-Z,2)+3*n.y*Math.pow(Z,2)*(1-Z)+r.y*Math.pow(Z,3)}},c=0,h=2,g=r.x,x=r.y,S=r;c<a&&h<50;){var D=S=i(1-h/100),R=D.x,H=D.y;c=fo(g,x,R,H),h++}return S}function Mu(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function Dr(t){return r=function(i,c){return i.x*c.y-i.y*c.x}(e=bl,n=t),a=Math.acos(function(i,c){var h=[i.x,i.y,i.z];return[c.x,c.y,c.z].reduce(function(g,x,S){return g+x*h[S]})}(Mu(e),Mu(n))),r>=0?a:-a;var e,n,r,a}function Vi(t){return t*(180/Math.PI)}function gp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gp(Object(n),!0).forEach(function(r){mp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jo(t){return function(e){if(Array.isArray(e))return Bc(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Gr(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gt(t){return Gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(t)}function ku(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||Gr(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gr(t,e){if(t){if(typeof t=="string")return Bc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bc(t,e):void 0}}function Bc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yn=function(t,e){var n;switch(t.type){case"line":default:n=new Lc(t,e);break;case"polyline":n=new Au(t,e)}return n},bp=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},Ta=function(t){var e=[],n={};return t.forEach(function(r){var a="".concat(r.x,"-").concat(r.y);r.id=a,n[a]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},Fc=function(t,e){var n=[t,{x:t.x,y:e.y},e];return Ta(n)},Tu=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},_p=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?mn.HORIZONTAL:mn.VERTICAL},Du=function(t,e,n){return _p(n,e)===mn.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},Ol=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),a=Math.max(t.maxX,e.maxX),i=Math.max(t.maxY,e.maxY);return{centerX:(n+a)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:a,maxY:i,height:i-r,width:a-n}},xi=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(S){n.push(S.x),r.push(S.y)});var a=Math.min.apply(Math,n),i=Math.max.apply(Math,n),c=Math.min.apply(Math,r),h=Math.max.apply(Math,r),g=i-a,x=h-c;return e&&(g+=e,x+=e),{centerX:(a+i)/2,centerY:(c+h)/2,maxX:i,maxY:h,minX:a,minY:c,x:(a+i)/2,y:(c+h)/2,height:x,width:g}},Wi=function(t){var e=t.minX,n=t.minY,r=t.maxX,a=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:a},{x:e,y:a}]},Nu=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Op=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},wp=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},Jn=function(t,e){return Op(t,e.x).concat(wp(t,e.y))},ar=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},xp=function(t,e){var n=0;return e.forEach(function(r){r&&(t.x===r.x&&(n+=-2),t.y===r.y&&(n+=-2))}),n},Uc=function(t,e,n,r,a){return ar(t,e)+ar(t,n)+xp(t,[e,n,r,a])},Ep=function t(e,n,r,a,i){i||(i=0),e.unshift(n[a]),r[a]&&r[a]!==a&&i<=100&&t(e,n,r,r[a],i+1)},Sp=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},Ki=function(t,e,n,r){var a=e.x-t.x,i=e.y-t.y,c=r.x-n.x,h=r.y-n.y,g=(-i*(t.x-n.x)+a*(t.y-n.y))/(-c*i+a*h),x=(c*(t.y-n.y)-h*(t.x-n.x))/(-c*i+a*h);return g>=0&&g<=1&&x>=0&&x<=1},Gc=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=ku(Wi(n),4),a=r[0],i=r[1],c=r[2],h=r[3];return Ki(t,e,a,i)||Ki(t,e,a,h)||Ki(t,e,i,c)||Ki(t,e,c,h)},wl=function(t,e,n,r){var a=[];return t.forEach(function(i){i!==e&&(i.x!==e.x&&i.y!==e.y||Gc(i,e,n)||Gc(i,e,r)||a.push(i))}),Ta(a)},$i=function(t,e,n,r,a,i,c){var h=[],g=[e],x={},S={},D={};S[e.id]=0,D[e.id]=Uc(e,n,e);var R={};t.forEach(function(ne){R[ne.id]=ne});for(var H=function(){var ne=void 0,ye=1/0;if(g.forEach(function(we){D[we.id]<ye&&(ye=D[we.id],ne=we)}),ne===n){var de=[];return Ep(de,R,x,n.id),{v:de}}Sp(g,ne),h.push(ne),wl(t,ne,r,a).forEach(function(we){if(h.indexOf(we)===-1){g.indexOf(we)===-1&&g.push(we);var Ce=D[ne.id]+ar(ne,we);S[we.id]&&Ce>=S[we.id]||(x[we.id]=ne.id,S[we.id]=Ce,D[we.id]=S[we.id]+Uc(we,n,e,i,c))}})};g.length;){var Z=H();if(Gt(Z)==="object")return Z.v}return[e,n]},xl=function(t){return Fr(t)},Xc=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],a=t[e+1];n.x===r.x&&r.x===a.x||n.y===r.y&&r.y===a.y?t.splice(e,1):e++}return t},Hc=function(t,e,n,r,a){var i=xl(n),c=xl(r),h=Tu(i,a),g=Tu(c,a),x=Du(h,i,t),S=Du(g,c,e);if(bp(h,g)){var D=Yc(t,e,x,S);return[t,x].concat(Jo(D),[S,e])}var R=xi([x,S]),H=Ol(h,R),Z=Ol(g,R),ne=[];ne=(ne=ne.concat(Wi(H))).concat(Wi(Z));var ye={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[R,H,Z].forEach(function(we){ne=ne.concat(Jn(we,ye).filter(function(Ce){return Nu(Ce,h)&&Nu(Ce,g)}))}),[{x:x.x,y:S.y},{x:S.x,y:x.y}].forEach(function(we){Nu(we,h)&&Nu(we,g)&&ne.push(we)}),ne.unshift(x),ne.push(S),ne=Ta(ne);var de=$i(ne,x,S,i,c,t,e);return de.unshift(t),de.push(e),de.length>2&&(de=Xc(de)),Ta(de)},jp=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],a=fo(n.x,n.y,r.x,r.y),i=1;i<t.length-1;i++){var c=t[i],h=t[i+1],g=fo(c.x,c.y,h.x,h.y);g>a&&(a=g,n=c,r=h)}e=[n,r]}return e},El=function(t,e,n){var r=To(t,n),a=To(e,n);return r&&a},Sl=function(t,e,n){var r=To(t,n),a=To(e,n);return!(r&&a)&&(r||a)},jl=function(t,e,n){for(var r,a,i=Fr(n),c=Wi(i),h=0;h<c.length;h++)Ki(t,e,c[h],c[(h+1)%c.length])&&(a=[c[h],c[(h+1)%c.length]]);return a&&(r=function(g,x,S,D){var R=(x.y-g.y)*(D.x-S.x)-(g.x-x.x)*(S.y-D.y);if(R===0)return!1;var H=((x.x-g.x)*(D.x-S.x)*(S.y-g.y)+(x.y-g.y)*(D.x-S.x)*g.x-(D.y-S.y)*(x.x-g.x)*S.x)/R,Z=-((x.y-g.y)*(D.y-S.y)*(S.x-g.x)+(x.x-g.x)*(D.y-S.y)*g.y-(D.x-S.x)*(x.y-g.y)*S.y)/R;return(H-g.x)*(H-x.x)<=0&&(Z-g.y)*(Z-x.y)<=0&&(H-S.x)*(H-D.x)<=0&&(Z-S.y)*(Z-D.y)<=0&&{x:H,y:Z}}(t,e,a[0],a[1])),r},Cu=function(t,e){var n;return t.x===e.x?n=mn.VERTICAL:t.y===e.y&&(n=mn.HORIZONTAL),n},Ei=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var a=ku(r.split(","),2),i=a[0],c=a[1];n.push({x:Number(i),y:Number(c)})}),n},Yc=function(t,e,n,r){var a=[];if(Cu(t,n)===Cu(e,r))t.y===n.y?(a.push({x:n.x,y:(n.y+r.y)/2}),a.push({x:r.x,y:(n.y+r.y)/2})):(a.push({x:(n.x+r.x)/2,y:n.y}),a.push({x:(n.x+r.x)/2,y:r.y}));else{var i={x:n.x,y:r.y},c=Aa(i,t,n),h=Aa(i,e,r);if(c||h)i={x:r.x,y:n.y};else{var g=Pl(i,t,n),x=Pl(i,e,r);g&&x&&(i={x:r.x,y:n.y})}a.push(i)}return a},Pl=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},Vc=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Al=null,Ml=function(t,e){Al||(Al=document.createElement("canvas"));var n=Al.getContext("2d");return n.font=e,n.measureText(t).width},Pp=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var a={start:n,end:r,offset:10,verticalLength:5},i=Zo(zc(zc({},a),{},{type:"start"})),c=Zo(zc(zc({},a),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY,` 
    L`).concat(i.rightX," ").concat(i.rightY,` 
    L`).concat(c.rightX," ").concat(c.rightY,`
    L`).concat(c.leftX," ").concat(c.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},kl=function(t){var e=t.start,n=t.end,r=t.sourceNode,a=t.targetNode,i=t.offset,c=Fr(r),h=Fr(a),g=Tu(c,i),x=Tu(h,i);return{sNext:Du(g,c,e),ePre:Du(x,h,n)}},ur=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Da(e[0]),Da(e[1]),Da(e[2]),Da(e[3])]},Da=function(t){var e=ku(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Tl=function(t,e){var n=ku(t,4);return[_l(n[0],n[1],n[2],n[3],e),t[3]]},Dl=function(t,e){for(var n,r=t.x,a=t.y,i=Ei(e),c=Number.MAX_SAFE_INTEGER,h=[],g=0;g<i.length;g++)h.push({start:i[g],end:i[(g+1)%i.length]});if(h.forEach(function(R){var H=R.start,Z=R.end;if(H.x===Z.x){var ne={x:H.x,y:a};if(Aa(ne,H,Z)){var ye=Math.abs(H.x-r);ye<c&&(c=ye,n=ne)}}else if(H.y===Z.y){var de={x:r,y:H.y};if(Aa(de,H,Z)){var we=Math.abs(H.y-a);we<c&&(c=we,n=de)}}}),!n){var x=h[0],S=x.start,D=x.end;n={x:S.x+(D.x-S.x)/2,y:S.y+(D.y-S.y)/2}}return n},Wc=function(t){return Xo(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Ru=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Ap(t,e){return typeof e!="function"?function(n,r,a){return Object.assign({type:t.edgeType},a)}:function(n,r,a){var i=e(n,r,a);return i?typeof i=="string"?Object.assign({},a,{type:i}):Object.assign({type:i},a):{type:t.edgeType}}}o(208);var Nl=function(){};function yh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Do=function(){function t(r){var a=this,i=r.onDragStart,c=i===void 0?Nl:i,h=r.onDragging,g=h===void 0?Nl:h,x=r.onDragEnd,S=x===void 0?Nl:x,D=r.eventType,R=D===void 0?"":D,H=r.eventCenter,Z=H===void 0?null:H,ne=r.step,ye=ne===void 0?1:ne,de=r.isStopPropagation,we=de===void 0||de,Ce=r.model,Je=Ce===void 0?null:Ce,qe=r.data,mt=qe===void 0?null:qe;(function($e,dt){if(!($e instanceof dt))throw new TypeError("Cannot call a class as a function")})(this,t),Gn(this,"onDragStart",void 0),Gn(this,"onDragging",void 0),Gn(this,"onDragEnd",void 0),Gn(this,"step",void 0),Gn(this,"isStopPropagation",void 0),Gn(this,"isDragging",!1),Gn(this,"isStartDragging",!1),Gn(this,"startX",0),Gn(this,"startY",0),Gn(this,"sumDeltaX",0),Gn(this,"sumDeltaY",0),Gn(this,"eventType",void 0),Gn(this,"eventCenter",void 0),Gn(this,"model",void 0),Gn(this,"data",void 0),Gn(this,"startTime",void 0),Gn(this,"handleMouseDown",function($e){var dt,nt,$t,Qt=(dt=window)===null||dt===void 0?void 0:dt.document;if($e.button===0){a.isStopPropagation&&$e.stopPropagation(),a.isStartDragging=!0,a.startX=$e.clientX,a.startY=$e.clientY,Qt.addEventListener("mousemove",a.handleMouseMove,!1),Qt.addEventListener("mouseup",a.handleMouseUp,!1);var Nt=(nt=a.model)===null||nt===void 0?void 0:nt.getData();($t=a.eventCenter)===null||$t===void 0||$t.emit(pt["".concat(a.eventType,"_MOUSEDOWN")],{e:$e,data:a.data||Nt}),a.startTime=new Date().getTime()}}),Gn(this,"handleMouseMove",function($e){if(a.isStopPropagation&&$e.stopPropagation(),a.isStartDragging&&(a.sumDeltaX+=$e.clientX-a.startX,a.sumDeltaY+=$e.clientY-a.startY,a.startX=$e.clientX,a.startY=$e.clientY,a.step<=1||Math.abs(a.sumDeltaX)>a.step||Math.abs(a.sumDeltaY)>a.step)){var dt,nt=a.sumDeltaX%a.step,$t=a.sumDeltaY%a.step,Qt=a.sumDeltaX-nt,Nt=a.sumDeltaY-$t;a.sumDeltaX=nt,a.sumDeltaY=$t;var rn,Xn=(dt=a.model)===null||dt===void 0?void 0:dt.getData();a.isDragging||((rn=a.eventCenter)===null||rn===void 0||rn.emit(pt["".concat(a.eventType,"_DRAGSTART")],{e:$e,data:a.data||Xn}),a.onDragStart({event:$e})),a.isDragging=!0,Promise.resolve().then(function(){var Hn,wr;a.onDragging({deltaX:Qt,deltaY:Nt,event:$e}),(Hn=a.eventCenter)===null||Hn===void 0||Hn.emit(pt["".concat(a.eventType,"_MOUSEMOVE")],{e:$e,data:a.data||Xn}),(wr=a.eventCenter)===null||wr===void 0||wr.emit(pt["".concat(a.eventType,"_DRAG")],{e:$e,data:a.data||Xn})})}}),Gn(this,"handleMouseUp",function($e){var dt=window.document;a.isStartDragging=!1,a.isStopPropagation&&$e.stopPropagation(),Promise.resolve().then(function(){var nt,$t,Qt;dt.removeEventListener("mousemove",a.handleMouseMove,!1),dt.removeEventListener("mouseup",a.handleMouseUp,!1);var Nt=(nt=a.model)===null||nt===void 0?void 0:nt.getData();($t=a.eventCenter)===null||$t===void 0||$t.emit(pt["".concat(a.eventType,"_MOUSEUP")],{e:$e,data:a.data||Nt}),a.isDragging&&(a.isDragging=!1,a.onDragEnd({event:$e}),(Qt=a.eventCenter)===null||Qt===void 0||Qt.emit(pt["".concat(a.eventType,"_DROP")],{e:$e,data:a.data||Nt}))})}),Gn(this,"cancelDrag",function(){var $e,dt=($e=window)===null||$e===void 0?void 0:$e.document;dt.removeEventListener("mousemove",a.handleMouseMove,!1),dt.removeEventListener("mouseup",a.handleMouseUp,!1),a.onDragEnd({event:null}),a.isDragging=!1}),this.onDragStart=c,this.onDragging=g,this.onDragEnd=S,this.step=ye,this.isStopPropagation=we,this.eventType=R,this.eventCenter=Z,this.model=Je,this.data=mt}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}},{key:"setModel",value:function(r){this.model=r}}])&&yh(e.prototype,n),t}();function Cl(t){return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function Iu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rl(t,e,n){return e&&Kc(t.prototype,e),n&&Kc(t,n),t}function Il(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function Ll(t){var e=Mp();return function(){var n,r=l(t);if(e){var a=l(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vh(this,n)}}function vh(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qo(t)}function Qo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zl(t){var e=typeof Map=="function"?new Map:void 0;return zl=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return Bl(n,arguments,l(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),u(a,n)},zl(t)}function Bl(t,e,n){return Bl=Mp()?Reflect.construct:function(r,a,i){var c=[null];c.push.apply(c,a);var h=new(Function.bind.apply(r,c));return i&&u(h,i.prototype),h},Bl.apply(null,arguments)}function Mp(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function u(t,e){return u=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},u(t,e)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(t)}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j(t,e){return t instanceof U&&e instanceof U}var N=function(t){Il(n,t);var e=Ll(n);function n(r,a,i){var c;return Iu(this,n),b(Qo(c=e.call(this,3)),"x",void 0),b(Qo(c),"y",void 0),b(Qo(c),"z",void 0),c[0]=r,c[1]=a,c[2]=i,c.x=r,c.y=a,c.z=i,Object.setPrototypeOf(Qo(c),n.prototype),c}return Rl(n,[{key:"add",value:function(r){if(j(this,r))return new U(this.x+r.x,this.y+r.y);var a=this.z+r.z;return new te((this.x+r.x)/a,(this.y+r.y)/a)}},{key:"subtract",value:function(r){if(j(this,r))return new U(this.x-r.x,this.y-r.y);var a=this.z-r.z;return a===0?new U(this.x-r.x,this.y-r.y):new te((this.x-r.x)/a,(this.y-r.y)/a)}}]),n}(zl(Array)),U=function(t){Il(n,t);var e=Ll(n);function n(r,a,i){var c;return Iu(this,n),c=e.call(this,r,a,i!=null?i:0),Object.setPrototypeOf(Qo(c),n.prototype),c}return Rl(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(r){var a=this;return r.reduce(function(i,c,h){return i+c*a[h]})}},{key:"cross",value:function(r){return new n(this.y*r.z-this.z*r.y,this.z*r.x-this.x*r.z,this.x*r.y-this.y*r.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var r=this.getLength();return new n(this.x/r,this.y/r)}},{key:"crossZ",value:function(r){return this.x*r.y-this.y*r.x}},{key:"angle",value:function(r){var a=this.crossZ(r),i=Math.acos(this.normalize().dot(r.normalize()));return a>=0?i:-i}}]),n}(N),te=function(t){Il(n,t);var e=Ll(n);function n(r,a){var i;return Iu(this,n),i=e.call(this,r,a,1),Object.setPrototypeOf(Qo(i),n.prototype),i}return Rl(n,[{key:"toString",value:function(){return"Point"}}]),n}(N);o(67),o(218);function se(t){return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(t)}function _e(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||Ne(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ie(t){return function(e){if(Array.isArray(e))return Ge(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Ne(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ne(t,e){if(t){if(typeof t=="string")return Ge(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(t,e):void 0}}function Ge(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Et(t,e,n){return e&&ht(t.prototype,e),n&&ht(t,n),t}function Le(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vt(t,e)}function He(t){var e=qt();return function(){var n,r=St(t);if(e){var a=St(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return It(this,n)}}function It(t,e){if(e&&(se(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tt(t)}function tt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kt(t){var e=typeof Map=="function"?new Map:void 0;return kt=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return At(n,arguments,St(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),vt(a,n)},kt(t)}function At(t,e,n){return At=qt()?Reflect.construct:function(r,a,i){var c=[null];c.push.apply(c,a);var h=new(Function.bind.apply(r,c));return i&&vt(h,i.prototype),h},At.apply(null,arguments)}function qt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function vt(t,e){return vt=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vt(t,e)}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},St(t)}function Mn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var me,po,Wn,No,ei,Na,Lu,qi,Si,Fl,Ul,zu,$c,ji=function(t){Le(n,t);var e=He(n);function n(){var r;ct(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return Mn(tt(r=e.call(this,i.length)),"rows",void 0),Mn(tt(r),"columns",void 0),r.fill(new Array(3)),i.forEach(function(h,g){r[g]=h}),r.columns=i[0].length,r.rows=i.length,Object.setPrototypeOf(tt(r),n.prototype),r}return Et(n,[{key:"getRow",value:function(r){return this[r]}},{key:"getColumn",value:function(r){return Ie(this.map(function(a){return a[r]}))}},{key:"transpose",value:function(){for(var r=[],a=0;a<this.columns;a++)r.push(this.getColumn(a));return At(n,r)}},{key:"cross",value:function(r){var a=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===r.rows)for(var i=0;i<this.rows;i++)for(var c=this.getRow(i),h=function(x){var S=r.getColumn(x);a[i][x]=c.reduce(function(D,R,H){return D+R*S[H]},0)},g=0;g<r.columns;g++)h(g);return At(n,Ie(a))}},{key:"to2D",value:function(){return this.map(function(r){return[r[0],r[1]]})}},{key:"toPoints",value:function(){return this.map(function(r){return new te(r[0],r[1])})}},{key:"toString",value:function(){var r=_e(this[0],2),a=r[0],i=r[1],c=_e(this[1],2),h=c[0],g=c[1],x=_e(this[2],2),S=x[0],D=x[1];return"matrix(".concat(a," ").concat(i," ").concat(h," ").concat(g," ").concat(S," ").concat(D,")")}},{key:"translate",value:function(r,a){return this.cross(new Pi(r,a))}},{key:"rotate",value:function(r){return this.cross(new Bu(r))}},{key:"scale",value:function(r,a){return this.cross(new Gl(r,a))}}]),n}(kt(Array)),Bu=function(t){Le(n,t);var e=He(n);function n(r){var a;return ct(this,n),a=e.call(this,new U(+Math.cos(r).toFixed(2),+Math.sin(r).toFixed(2),0),new U(-Math.sin(r).toFixed(2),+Math.cos(r).toFixed(2),0),new U(0,0,1)),Object.setPrototypeOf(tt(a),n.prototype),a}return Et(n,[{key:"inverse",value:function(){return this.transpose()}}]),n}(ji),Gl=function(t){Le(n,t);var e=He(n);function n(r,a){var i;return ct(this,n),Mn(tt(i=e.call(this,new U(r,0,0),new U(0,a,0),new U(0,0,1))),"sx",void 0),Mn(tt(i),"sy",void 0),i.sx=r,i.sy=a,Object.setPrototypeOf(tt(i),n.prototype),i}return Et(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n}(ji),Pi=function(t){Le(n,t);var e=He(n);function n(r,a){var i;return ct(this,n),Mn(tt(i=e.call(this,new U(1,0,0),new U(0,1,0),new U(r,a,1))),"tx",void 0),Mn(tt(i),"ty",void 0),i.tx=r,i.ty=a,Object.setPrototypeOf(tt(i),n.prototype),i}return Et(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n}(ji),Fu={node:!1,edge:!1},f_={node:!0,edge:!0};function mg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mg(Object(n),!0).forEach(function(r){ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||bg(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zc(t){return function(e){if(Array.isArray(e))return gh(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||bg(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bg(t,e){if(t){if(typeof t=="string")return gh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gh(t,e):void 0}}function gh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tp(t){return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function Co(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ti(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _t(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var _g,Og=200,wg=(me=function(){function t(r){(function(H,Z){if(!(H instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,t),ti(this,"rootEl",void 0),Co(this,"width",po,this),Co(this,"height",Wn,this),ti(this,"theme",void 0),ti(this,"eventCenter",void 0),ti(this,"modelMap",new Map),ti(this,"topElement",void 0),ti(this,"animation",void 0),ti(this,"idGenerator",void 0),ti(this,"edgeGenerator",void 0),ti(this,"nodeMoveRules",[]),ti(this,"customTrajectory",void 0),Co(this,"edgeType",No,this),Co(this,"nodes",ei,this),Co(this,"edges",Na,this),Co(this,"overlapMode",Lu,this),Co(this,"background",qi,this),Co(this,"transformModel",Si,this),Co(this,"editConfigModel",Fl,this),Co(this,"gridSize",Ul,this),Co(this,"partial",zu,this),Co(this,"fakerNode",$c,this);var a,i=r.container,c=r.background,h=c===void 0?{}:c,g=r.grid,x=r.idGenerator,S=r.edgeGenerator,D=r.animation,R=r.customTrajectory;this.background=h,Tp(g)==="object"&&(this.gridSize=g.size),this.rootEl=i,this.editConfigModel=new Cs(r),this.eventCenter=new jc,this.transformModel=new Af(this.eventCenter,r),this.theme=gu(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(a=D)&&typeof a!="boolean"?vu(xn(Fu),a):xn(a===!0?f_:Fu),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=x,this.customTrajectory=R,this.edgeGenerator=Ap(this,S),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=bi()}var e,n;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,a,i){return r[a.id]={index:i,model:a},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,a,i){return r[a.id]={index:i,model:a},r},{})}},{key:"modelsMap",get:function(){return[].concat(Zc(this.nodes),Zc(this.edges)).reduce(function(r,a){return r[a.id]=a,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(x){return r.push(x)}),this.edges.forEach(function(x){return r.push(x)}),r=r.sort(function(x,S){return x.zIndex-S.zIndex});for(var a=[],i=[-200,-200],c=[this.width+Og,this.height+Og],h=0;h<r.length;h++){var g=r[h];g.visible&&(!this.partial||g.isSelected||this.isElementInArea(g,i,c,!1,!1))&&a.push(g)}return a}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(i){return i.state===cn.TEXT_EDIT}),a=this.edges.find(function(i){return i.state===cn.TEXT_EDIT});return r||a}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(a){a.isSelected&&r.set(a.id,a)}),this.edges.forEach(function(a){a.isSelected&&r.set(a.id,a)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(a){a.isSelected&&r.push(a)}),r}},{key:"getAreaElement",value:function(r,a){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],h=arguments.length>4&&arguments[4]!==void 0&&arguments[4],g=[],x=[];this.nodes.forEach(function(R){return x.push(R)}),this.edges.forEach(function(R){return x.push(R)});for(var S=0;S<x.length;S++){var D=x[S];h&&!D.visible||!this.isElementInArea(D,r,a,i,c)||g.push(D)}return g}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var a;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(a=this.nodesMap[r])===null||a===void 0?void 0:a.model}},{key:"getPointByClient",value:function(r){var a=r.x,i=r.y,c=this.rootEl.getBoundingClientRect(),h={x:a-c.left,y:i-c.top},g=qc(this.transformModel.HtmlPointToCanvasPoint([h.x,h.y]),2);return{domOverlayPosition:h,canvasOverlayPosition:{x:g[0],y:g[1]}}}},{key:"isElementInArea",value:function(r,a,i){var c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],h=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Bn.NODE){for(var g=Fr(r=r),x=g.minX,S=g.minY,D=g.maxX,R=g.maxY,H=[{x,y:S},{x:D,y:S},{x:D,y:R},{x,y:R}],Z=h,ne=0;ne<H.length;ne++){var ye=H[ne],de=ye.x,we=ye.y,Ce=this.transformModel.CanvasPointToHtmlPoint([de,we]),Je=qc(Ce,2);if(de=Je[0],we=Je[1],Ks([de,we],a,i)!==h){Z=!h;break}}return Z}if(r.BaseType===Bn.EDGE){var qe=r=r,mt=qe.startPoint,$e=qe.endPoint,dt=this.transformModel.CanvasPointToHtmlPoint([mt.x,mt.y]),nt=this.transformModel.CanvasPointToHtmlPoint([$e.x,$e.y]),$t=Ks(dt,a,i),Qt=Ks(nt,a,i);return c?$t&&Qt:$t||Qt}return!1}},{key:"graphDataToModel",value:function(r){var a=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=cc(r.nodes,function(i){return a.getModelAfterSnapToGrid(i)}):this.nodes=[],r.edges?this.edges=cc(r.edges,function(i){var c=a.getModel(i.type);if(!c)throw new Error("找不到".concat(i.type,"对应的边。"));return new c(i,a)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(i){var c=i.getData();c&&!i.virtual&&r.push(c)});var a=[];return this.nodes.forEach(function(i){var c=i.getData();c&&!i.virtual&&a.push(c)}),{nodes:a,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,a=[],i=0;i<this.nodes.length;i++){var c=this.nodes[i];if(c.isDragging){r=!0;break}a.push(c.getHistoryData())}if(r)return!1;for(var h=!1,g=[],x=0;x<this.edges.length;x++){var S=this.edges[x];if(S.isDragging){h=!0;break}g.push(S.getHistoryData())}return!h&&{nodes:a,edges:g}}},{key:"getEdgeModelById",value:function(r){var a;return(a=this.edgesMap[r])===null||a===void 0?void 0:a.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var a=[],i=0;i<this.edges.length;i++){var c=this.edges[i],h=this.edges[i].sourceNodeId===r,g=this.edges[i].targetNodeId===r;(h||g)&&a.push(c)}return a}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],a=this.selectElements,i={nodes:[],edges:[]};return a.forEach(function(c){if(c.BaseType===Bn.NODE&&i.nodes.push(c.getData()),c.BaseType===Bn.EDGE){var h=c.getData(),g=a.get(h.sourceNodeId)&&a.get(h.targetNodeId);(r||g)&&i.edges.push(h)}}),i}},{key:"updateAttributes",value:function(r,a){this.getElement(r).updateAttributes(a)}},{key:"changeNodeId",value:function(r,a){return a||(a=bi()),this.nodesMap[a]?"":this.nodesMap[r]?(this.edges.forEach(function(i){i.sourceNodeId===r&&(i.sourceNodeId=a),i.targetNodeId===r&&(i.targetNodeId=a)}),this.nodesMap[r].model.id=a,this.nodesMap[a]=this.nodesMap[r],a):""}},{key:"changeEdgeId",value:function(r,a){return a||(a=bi()),this.edgesMap[a]?"":this.edgesMap[r]?(this.edges.forEach(function(i){i.id===r&&i.changeEdgeId(a)}),a):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,a){return this.modelMap.set(r,a)}},{key:"toFront",value:function(r){var a,i,c,h=((a=this.nodesMap[r])===null||a===void 0?void 0:a.model)||((i=this.edgesMap[r])===null||i===void 0?void 0:i.model);h&&(this.overlapMode===Pn.DEFAULT&&((c=this.topElement)===null||c===void 0||c.setZIndex(),h.setZIndex(9999),this.topElement=h),this.overlapMode===Pn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,a){var i,c,h,g=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((c=this.edgesMap[r])===null||c===void 0?void 0:c.model);g&&(typeof a=="number"&&(h=a),a==="top"&&(h=yl()),a==="bottom"&&(h=--sh),g.setZIndex(h))}},{key:"deleteNode",value:function(r){var a=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(pt.NODE_DELETE,{data:a})}},{key:"addNode",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt.NODE_ADD,i=arguments.length>2?arguments[2]:void 0,c=or(r);c.id&&this.nodesMap[r.id]&&delete c.id;var h=this.getModelAfterSnapToGrid(c);this.nodes.push(h);var g=h.getData(),x={data:g};return i&&(x.e=i),this.eventCenter.emit(a,x),h}},{key:"getModelAfterSnapToGrid",value:function(r){var a=this.getModel(r.type);if(!a)throw new Error("找不到".concat(r.type,"对应的节点，请确认是否已注册此类型节点。"));var i=r.x,c=r.y;return i&&c&&(r.x=gi(i,this.gridSize),r.y=gi(c,this.gridSize),Tp(r.text)==="object"&&(r.text.x+=r.x-i,r.text.y+=r.y-c)),new a(r,this)}},{key:"cloneNode",value:function(r){var a=this.getNodeModelById(r),i=a.getData();i.x+=30,i.y+=30,delete i.id,i.text&&(i.text.x+=30,i.text.y+=30);var c=this.addNode(i);return c.setSelected(!0),a.setSelected(!1),c.getData()}},{key:"moveNode",value:function(r,a,i){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],h=this.nodesMap[r];if(h){var g=h.model,x=g.getMoveDistance(a,i,c),S=qc(x,2);a=S[0],i=S[1],this.moveEdge(r,a,i)}}},{key:"moveNode2Coordinate",value:function(r,a,i){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],h=this.nodesMap[r];if(h){var g=h.model,x=g.x,S=g.y,D=a-x,R=i-S;this.moveNode(r,D,R,c)}}},{key:"editText",value:function(r){this.setElementStateById(r,cn.TEXT_EDIT)}},{key:"addEdge",value:function(r){var a=or(r),i=a.type;i||(i=this.edgeType),a.id&&this.edgesMap[a.id]&&delete a.id;var c=this.getModel(i);if(!c)throw new Error("找不到".concat(i,"对应的边，请确认是否已注册此类型边。"));var h=new c(kp(kp({},a),{},{type:i}),this),g=h.getData();return this.edges.push(h),this.eventCenter.emit(pt.EDGE_ADD,{data:g}),h}},{key:"moveEdge",value:function(r,a,i){for(var c=0;c<this.edges.length;c++){var h=this.edges[c],g=h.textPosition,x=g.x,S=g.y,D=this.edges[c].sourceNodeId===r,R=this.edges[c].targetNodeId===r;D&&h.moveStartPoint(a,i),R&&h.moveEndPoint(a,i),(D||R)&&this.handleEdgeTextMove(h,x,S)}}},{key:"handleEdgeTextMove",value:function(r,a,i){var c;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===Vt.POLYLINE_EDGE&&(c=r.text)!==null&&c!==void 0&&c.value){var h=r.text,g=Dl(h,r.points);r.moveText(g.x-h.x,g.y-h.y)}else{var x=r.textPosition,S=x.x,D=x.y;r.moveText(S-a,D-i)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,a){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r&&this.edges[i].targetNodeId===a){var c=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(pt.EDGE_DELETE,{data:c})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var a=this.edgesMap[r].index,i=this.edgesMap[r].model.getData();this.edges.splice(a,1),this.eventCenter.emit(pt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].sourceNodeId===r){var i=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(pt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeByTarget",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].targetNodeId===r){var i=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(pt.EDGE_DELETE,{data:i})}}},{key:"setElementStateById",value:function(r,a,i){this.nodes.forEach(function(c){c.id===r?c.setElementState(a,i):c.setElementState(cn.DEFAULT)}),this.edges.forEach(function(c){c.id===r?c.setElementState(a,i):c.setElementState(cn.DEFAULT)})}},{key:"updateText",value:function(r,a){this.nodes.forEach(function(i){i.id===r&&i.updateText(a)}),this.edges.forEach(function(i){i.id===r&&i.updateText(a)})}},{key:"selectNodeById",value:function(r){var a,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var c=(a=this.nodesMap[r])===null||a===void 0?void 0:a.model;c==null||c.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var a,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var c=(a=this.edgesMap[r])===null||a===void 0?void 0:a.model;c==null||c.setSelected(!0)}},{key:"selectElementById",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a||this.clearSelectElements();var i=this.getElement(r);i==null||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(a){a==null||a.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Pn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,a,i){for(var c=this,h=arguments.length>3&&arguments[3]!==void 0&&arguments[3],g=r.reduce(function(qe,mt){var $e=c.nodesMap[mt].model.getMoveDistance(a,i,h);return qe[mt]=$e,qe},{}),x=0;x<this.edges.length;x++){var S=this.edges[x],D=S.textPosition,R=D.x,H=D.y,Z=g[S.sourceNodeId],ne=g[S.targetNodeId],ye=void 0,de=void 0;if(Z&&ne&&S.modelType===Vt.POLYLINE_EDGE){var we=qc(Z,2);ye=we[0],de=we[1],S.updatePointsList(ye,de)}else{if(Z){var Ce=qc(Z,2);ye=Ce[0],de=Ce[1],S.moveStartPoint(ye,de)}if(ne){var Je=qc(ne,2);ye=Je[0],de=Je[1],S.moveEndPoint(ye,de)}}(Z||ne)&&this.handleEdgeTextMove(S,R,H)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,a){var i=this.getNodeModelById(r);if(i){var c=i.getData();c.type=a;var h=this.getModel(a);if(!h)throw new Error("找不到".concat(a,"对应的节点，请确认是否已注册此类型节点。"));var g=new h(c,this);this.nodes.splice(this.nodesMap[r].index,1,g),this.getNodeEdges(r).forEach(function(x){if(x.sourceNodeId===r){var S=ap(g,x.startPoint,g.width,g.height);x.updateStartPoint(S)}if(x.targetNodeId===r){var D=ap(g,x.endPoint,g.width,g.height);x.updateEndPoint(D)}})}}},{key:"changeEdgeType",value:function(r,a){var i=this.getEdgeModelById(r);if(i&&i.type!==a){var c=i.getData();c.type=a;var h=this.getModel(a);if(!h)throw new Error("找不到".concat(a,"对应的节点，请确认是否已注册此类型节点。"));delete c.pointsList;var g=new h(c,this);this.edges.splice(this.edgesMap[r].index,1,g)}}},{key:"getNodeIncomingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.targetNodeId===r&&a.push(i)}),a}},{key:"getNodeOutgoingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.sourceNodeId===r&&a.push(i)}),a}},{key:"getAnchorIncomingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.targetAnchorId===r&&a.push(i)}),a}},{key:"getAnchorOutcomingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.sourceAnchorId===r&&a.push(i)}),a}},{key:"getNodeIncomingNode",value:function(r){var a=this,i=[];return this.edges.forEach(function(c){c.targetNodeId===r&&i.push(a.nodesMap[c.sourceNodeId].model)}),i}},{key:"getNodeOutgoingNode",value:function(r){var a=this,i=[];return this.edges.forEach(function(c){c.sourceNodeId===r&&i.push(a.nodesMap[c.targetNodeId].model)}),i}},{key:"setTheme",value:function(r){this.theme=gu(kp(kp({},this.theme),r))}},{key:"resize",value:function(r,a){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=a||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,a=[],i=[];r.forEach(function(D){var R=D.x,H=D.y,Z=D.width,ne=D.height,ye=D.getNodeStyle().strokeWidth,de=ye===void 0?0:ye,we=R+Z/2+de,Ce=R-Z/2-de,Je=H+ne/2+de,qe=H-ne/2-de;a=a.concat([we,Ce].filter(function(mt){return!Number.isNaN(mt)})),i=i.concat([Je,qe].filter(function(mt){return!Number.isNaN(mt)}))});var c=Math.min.apply(Math,Zc(a)),h=Math.max.apply(Math,Zc(a)),g=Math.min.apply(Math,Zc(i)),x=h-c||0,S=Math.max.apply(Math,Zc(i))-g||0;return{virtualRectWidth:x,virtualRectHeight:S,virtualRectCenterPositionX:c+x/2,virtualRectCenterPositionY:g+S/2}}},{key:"translateCenter",value:function(){var r=this.nodes,a=this.width,i=this.height,c=this.rootEl,h=this.transformModel;if(r.length){var g=a||c.clientWidth,x=i||c.clientHeight,S=this.getVirtualRectSize(),D=S.virtualRectCenterPositionX,R=S.virtualRectCenterPositionY;h.focusOn(D,R,g,x)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,i=this.nodes,c=this.width,h=this.height,g=this.rootEl,x=this.transformModel;if(i.length){var S=c||g.clientWidth,D=h||g.clientHeight,R=this.getVirtualRectSize(),H=R.virtualRectWidth,Z=R.virtualRectHeight,ne=R.virtualRectCenterPositionX,ye=R.virtualRectCenterPositionY,de=(H+a)/S,we=(Z+r)/D,Ce=0;Ce=1/Math.max(de,we);var Je=[S/2,D/2];x.zoom(Ce,Je),x.focusOn(ne,ye,S,D)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&p_(e.prototype,n),t}(),po=_t(me.prototype,"width",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wn=_t(me.prototype,"height",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),No=_t(me.prototype,"edgeType",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ei=_t(me.prototype,"nodes",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Na=_t(me.prototype,"edges",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Lu=_t(me.prototype,"overlapMode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pn.DEFAULT}}),qi=_t(me.prototype,"background",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Si=_t(me.prototype,"transformModel",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fl=_t(me.prototype,"editConfigModel",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ul=_t(me.prototype,"gridSize",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),zu=_t(me.prototype,"partial",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$c=_t(me.prototype,"fakerNode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t(me.prototype,"nodesMap",[d.m],Object.getOwnPropertyDescriptor(me.prototype,"nodesMap"),me.prototype),_t(me.prototype,"edgesMap",[d.m],Object.getOwnPropertyDescriptor(me.prototype,"edgesMap"),me.prototype),_t(me.prototype,"modelsMap",[d.m],Object.getOwnPropertyDescriptor(me.prototype,"modelsMap"),me.prototype),_t(me.prototype,"sortElements",[d.m],Object.getOwnPropertyDescriptor(me.prototype,"sortElements"),me.prototype),_t(me.prototype,"textEditElement",[d.m],Object.getOwnPropertyDescriptor(me.prototype,"textEditElement"),me.prototype),_t(me.prototype,"selectElements",[d.m],Object.getOwnPropertyDescriptor(me.prototype,"selectElements"),me.prototype),_t(me.prototype,"selectNodes",[d.m],Object.getOwnPropertyDescriptor(me.prototype,"selectNodes"),me.prototype),_t(me.prototype,"setFakerNode",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"setFakerNode"),me.prototype),_t(me.prototype,"removeFakerNode",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"removeFakerNode"),me.prototype),_t(me.prototype,"setModel",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"setModel"),me.prototype),_t(me.prototype,"toFront",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"toFront"),me.prototype),_t(me.prototype,"setElementZIndex",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"setElementZIndex"),me.prototype),_t(me.prototype,"deleteNode",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"deleteNode"),me.prototype),_t(me.prototype,"addNode",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"addNode"),me.prototype),_t(me.prototype,"cloneNode",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"cloneNode"),me.prototype),_t(me.prototype,"moveNode",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"moveNode"),me.prototype),_t(me.prototype,"moveNode2Coordinate",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"moveNode2Coordinate"),me.prototype),_t(me.prototype,"editText",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"editText"),me.prototype),_t(me.prototype,"addEdge",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"addEdge"),me.prototype),_t(me.prototype,"moveEdge",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"moveEdge"),me.prototype),_t(me.prototype,"deleteEdgeBySourceAndTarget",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"deleteEdgeBySourceAndTarget"),me.prototype),_t(me.prototype,"deleteEdgeById",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"deleteEdgeById"),me.prototype),_t(me.prototype,"deleteEdgeBySource",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"deleteEdgeBySource"),me.prototype),_t(me.prototype,"deleteEdgeByTarget",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"deleteEdgeByTarget"),me.prototype),_t(me.prototype,"setElementStateById",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"setElementStateById"),me.prototype),_t(me.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"updateText"),me.prototype),_t(me.prototype,"selectNodeById",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"selectNodeById"),me.prototype),_t(me.prototype,"selectEdgeById",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"selectEdgeById"),me.prototype),_t(me.prototype,"selectElementById",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"selectElementById"),me.prototype),_t(me.prototype,"clearSelectElements",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"clearSelectElements"),me.prototype),_t(me.prototype,"moveNodes",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"moveNodes"),me.prototype),_t(me.prototype,"setDefaultEdgeType",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"setDefaultEdgeType"),me.prototype),_t(me.prototype,"changeNodeType",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"changeNodeType"),me.prototype),_t(me.prototype,"changeEdgeType",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"changeEdgeType"),me.prototype),_t(me.prototype,"getNodeIncomingEdge",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"getNodeIncomingEdge"),me.prototype),_t(me.prototype,"getNodeOutgoingEdge",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"getNodeOutgoingEdge"),me.prototype),_t(me.prototype,"getAnchorIncomingEdge",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"getAnchorIncomingEdge"),me.prototype),_t(me.prototype,"getAnchorOutcomingEdge",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"getAnchorOutcomingEdge"),me.prototype),_t(me.prototype,"getNodeIncomingNode",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"getNodeIncomingNode"),me.prototype),_t(me.prototype,"getNodeOutgoingNode",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"getNodeOutgoingNode"),me.prototype),_t(me.prototype,"setTheme",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"setTheme"),me.prototype),_t(me.prototype,"resize",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"resize"),me.prototype),_t(me.prototype,"clearData",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"clearData"),me.prototype),_t(me.prototype,"translateCenter",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"translateCenter"),me.prototype),_t(me.prototype,"fitView",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"fitView"),me.prototype),_t(me.prototype,"openEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"openEdgeAnimation"),me.prototype),_t(me.prototype,"closeEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(me.prototype,"closeEdgeAnimation"),me.prototype),me),d_=wg;function mh(t){return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function bh(){return bh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bh.apply(this,arguments)}function h_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _h(t,e){return _h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_h(t,e)}function y_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Dp(t);if(e){var a=Dp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v_(this,n)}}function v_(t,e){if(e&&(mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ai(t)}function Ai(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dp(t)}function Zi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xg,g_=ii(_g=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&_h(i,c)})(a,t);var e,n,r=y_(a);function a(i){var c;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,a),Zi(Ai(c=r.call(this)),"stepDrag",void 0),Zi(Ai(c),"stepScrollX",0),Zi(Ai(c),"stepScrollY",0),Zi(Ai(c),"onDragging",function(S){var D=S.deltaX,R=S.deltaY;c.setState({isDragging:!0});var H=c.props.graphModel,Z=H.transformModel;H.editConfigModel.stopMoveGraph!==!0&&Z.translate(D,R)}),Zi(Ai(c),"onDragEnd",function(){c.setState({isDragging:!1})}),Zi(Ai(c),"zoomHandler",function(S){var D=c.props,R=D.graphModel,H=R.editConfigModel,Z=R.transformModel,ne=R.gridSize,ye=D.graphModel,de=S.deltaX,we=S.deltaY;if(H.stopScrollGraph||S.ctrlKey===!0){if(!H.stopZoomGraph){S.preventDefault();var Ce=ye.getPointByClient({x:S.clientX,y:S.clientY}).canvasOverlayPosition,Je=Ce.x,qe=Ce.y;Z.zoom(S.deltaY<0,[Je,qe])}}else{if(S.preventDefault(),c.stepScrollX+=de,c.stepScrollY+=we,Math.abs(c.stepScrollX)>=ne){var mt=c.stepScrollX%ne,$e=c.stepScrollX-mt;Z.translate(-$e*Z.SCALE_X,0),c.stepScrollX=mt}if(Math.abs(c.stepScrollY)>=ne){var dt=c.stepScrollY%ne,nt=c.stepScrollY-dt;Z.translate(0,-nt*Z.SCALE_Y),c.stepScrollY=dt}}}),Zi(Ai(c),"clickHandler",function(S){if(S.target.getAttribute("name")==="canvas-overlay"){var D=c.props.graphModel;D.selectElements.size>0&&D.clearSelectElements(),D.eventCenter.emit(pt.BLANK_CLICK,{e:S})}}),Zi(Ai(c),"handleContextMenu",function(S){if(S.target.getAttribute("name")==="canvas-overlay"){S.preventDefault();var D=c.props.graphModel,R=D.getPointByClient({x:S.clientX,y:S.clientY});D.eventCenter.emit(pt.BLANK_CONTEXTMENU,{e:S,position:R})}}),Zi(Ai(c),"mouseDownHandler",function(S){var D=c.props.graphModel,R=D.eventCenter,H=D.editConfigModel,Z=D.transformModel.SCALE_X,ne=D.gridSize,ye=S.target,de=!H.adjustEdge&&!H.adjustNodePosition;(ye.getAttribute("name")==="canvas-overlay"||de)&&(H.stopMoveGraph!==!0?(c.stepDrag.setStep(ne*Z),c.stepDrag.handleMouseDown(S)):R.emit(pt.BLANK_MOUSEDOWN,{e:S}),c.clickHandler(S))});var h=i.graphModel,g=h.gridSize,x=h.eventCenter;return c.stepDrag=new Do({onDragging:c.onDragging,onDragEnd:c.onDragEnd,step:g,eventType:"BLANK",isStopPropagation:!1,eventCenter:x,model:null}),c.state={isDragging:!1},c}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props,h=c.children,g=c.dnd,x=this.state.isDragging;return Object(le.g)("svg",bh({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:x?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},g.eventMap()),Object(le.g)("g",{transform:i},h))}}])&&h_(e.prototype,n),a}(le.a))||_g;function Oh(t){return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function m_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wh(t,e){return wh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wh(t,e)}function __(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Np(t);if(e){var a=Np(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O_(this,n)}}function O_(t,e){if(e&&(Oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Np(t)}var w_=ii(xg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&wh(i,c)})(a,t);var e,n,r=__(a);function a(){return m_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var i=this.props,c=i.tool,h=i.graphModel,g=c.getTools().map(function(x){return Object(le.g)(x,{graphModel:h,logicFlow:c.instance})});return c.components=g,g}},{key:"triggerToolRender",value:function(){var i=this.props,c=i.tool,h=i.graphModel,g=document.querySelector("#ToolOverlay_".concat(h.flowId)),x=c.getInstance();x.components.forEach(function(S){return S(x,g)}),x.components=[]}},{key:"render",value:function(){var i=this.props.graphModel;return Object(le.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(i.flowId)},this.getTools())}}])&&b_(e.prototype,n),a}(le.a))||xg;function xh(t){return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function x_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eh(t,e){return Eh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Eh(t,e)}function S_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Cp(t);if(e){var a=Cp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j_(this,n)}}function j_(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cp(t)}var Eg,P_=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Eh(i,c)})(a,t);var e,n,r=S_(a);function a(){return x_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.background;return Object(le.g)("div",{className:"lf-background"},Object(le.g)("div",{style:i,className:"lf-background-area"}))}}])&&E_(e.prototype,n),a}(le.a);function Sh(t){return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function A_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jh(t,e){return jh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},jh(t,e)}function k_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Rp(t);if(e){var a=Rp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return T_(this,n)}}function T_(t,e){if(e&&(Sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sg(t)}function Sg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rp(t){return Rp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rp(t)}function D_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jg=ii(Eg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&jh(i,c)})(a,t);var e,n,r=k_(a);function a(){var i;A_(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return D_(Sg(i=r.call.apply(r,[this].concat(h))),"id",bi()),i}return e=a,(n=[{key:"renderDot",value:function(){var i=this.props,c=i.config,h=c.color,g=c.thickness,x=g===void 0?2:g,S=i.size,D=i.visible,R=Math.min(Math.max(2,x),S/2),H=1;return D||(H=0),Object(le.g)("rect",{width:R,height:R,rx:R/2,ry:R/2,fill:h,opacity:H})}},{key:"renderMesh",value:function(){var i=this.props,c=i.config,h=c.color,g=c.thickness,x=g===void 0?1:g,S=i.size,D=i.visible,R=Math.min(Math.max(1,x),S/2),H="M ".concat(S," 0 H0 M0 0 V0 ").concat(S),Z=1;return D||(Z=0),Object(le.g)("path",{d:H,stroke:h,strokeWidth:R,opacity:Z})}},{key:"render",value:function(){var i=this.props,c=i.type,h=i.size,g=i.graphModel.transformModel,x=[g.SCALE_X,g.SKEW_Y,g.SKEW_X,g.SCALE_Y,g.TRANSLATE_X,g.TRANSLATE_Y].join(","),S="matrix(".concat(x,")");return Object(le.g)("div",{className:"lf-grid"},Object(le.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(le.g)("defs",null,Object(le.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:S,x:"0",y:"0",width:h,height:h},c==="dot"&&this.renderDot(),c==="mesh"&&this.renderMesh())),Object(le.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&M_(e.prototype,n),a}(le.a))||Eg;jg.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(53);function Ph(t){return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function N_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Pg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Pg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ag,Jc=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=N_(n,2),a=r[0],i=r[1];(a==="style"||Ph(i)!=="object")&&(e[a]=i)}),Object(le.g)("line",e)};function Ah(t){return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function Mg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ip(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mg(Object(n),!0).forEach(function(r){C_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mh(t,e){return Mh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Mh(t,e)}function L_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Lp(t);if(e){var a=Lp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return z_(this,n)}}function z_(t,e){if(e&&(Ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lp(t)}var kg,B_=ii(Ag=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Mh(i,c)})(a,t);var e,n,r=L_(a);function a(){return R_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.snaplineModel,c=i.position,h=i.isShowHorizontal,g=i.isShowVertical,x=i.getStyle(),S=c.x,D=S===void 0?0:S,R=c.y,H=R===void 0?0:R,Z=Ip(Ip({x1:-1e5,y1:H,x2:1e5,y2:H},x),{},{stroke:h?x.stroke:"none"}),ne=Ip(Ip({x1:D,y1:-1e5,x2:D,y2:1e5},x),{},{stroke:g?x.stroke:"none"});return Object(le.g)("g",{className:"lf-snapline"},Object(le.g)(Jc,Z),Object(le.g)(Jc,ne))}}])&&I_(e.prototype,n),a}(le.a))||Ag;function kh(t){return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function F_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Tg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Tg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Tg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ca(t){var e=t.x,n=t.y,r=t.width,a=t.height,i=t.className,c=t.radius,h=e-r/2,g=n-a/2,x={};return Object.entries(t).forEach(function(S){var D=F_(S,2),R=D[0],H=D[1];kh(H)!=="object"&&(x[R]=H)}),x.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",c&&(x.rx=c,x.ry=c),x.x=h,x.y=g,Object(le.g)("rect",x)}function Th(t){return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function Qc(){return Qc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(this,arguments)}function Dg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dg(Object(n),!0).forEach(function(r){U_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dh(t,e){return Dh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dh(t,e)}function H_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=zp(t);if(e){var a=zp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Y_(this,n)}}function Y_(t,e){if(e&&(Th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function zp(t){return zp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zp(t)}Ca.defaultProps={className:"",radius:""};var Cg,V_=ii(kg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Dh(i,c)})(a,t);var e,n,r=H_(a);function a(){return G_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getNodesOutline",value:function(){var i=this.props.graphModel,c=i.nodes,h=i.editConfigModel,g=h.hoverOutline,x=h.nodeSelectedOutline,S=[];return c.forEach(function(D){if(D.isHovered||D.isSelected){var R=D.isHovered,H=D.isSelected,Z=D.x,ne=D.y,ye=D.width,de=D.height;if(x&&H||g&&R){var we=D.getOutlineStyle(),Ce={};if(Object.keys(we).forEach(function(qe){qe!=="hover"&&(Ce[qe]=we[qe])}),R){var Je=we.hover;Ce=Ng(Ng({},Ce),Je)}S.push(Object(le.g)(Ca,Qc({transform:D.transform,className:"lf-outline-node",x:Z,y:ne,width:ye+10,height:de+10},Ce)))}}}),S}},{key:"getEdgeOutline",value:function(){for(var i=this.props.graphModel,c=i.edges,h=i.editConfigModel,g=h.edgeSelectedOutline,x=h.hoverOutline,S=[],D=0;D<c.length;D++){var R=c[D];(g&&R.isSelected||x&&R.isHovered)&&(R.modelType===Vt.LINE_EDGE?S.push(this.getLineOutline(R)):R.modelType===Vt.POLYLINE_EDGE?S.push(this.getPolylineOutline(R)):R.modelType===Vt.BEZIER_EDGE&&S.push(this.getBezierOutline(R)))}return S}},{key:"getLineOutline",value:function(i){var c=i.startPoint,h=i.endPoint,g=(c.x+h.x)/2,x=(c.y+h.y)/2,S=Math.abs(c.x-h.x)+10,D=Math.abs(c.y-h.y)+10,R=i.getOutlineStyle();return Object(le.g)(Ca,Qc({className:"lf-outline-edge",x:g,y:x,width:S,height:D},R))}},{key:"getPolylineOutline",value:function(i){var c=i.points,h=Ei(c),g=xi(h,8),x=g.x,S=g.y,D=g.width,R=g.height,H=i.getOutlineStyle();return Object(le.g)(Ca,Qc({className:"lf-outline",x,y:S,width:D,height:R},H))}},{key:"getBezierOutline",value:function(i){var c=i.path,h=ur(c),g=xi(h,8),x=g.x,S=g.y,D=g.width,R=g.height,H=i.getOutlineStyle();return Object(le.g)(Ca,Qc({className:"lf-outline",x,y:S,width:D,height:R},H))}},{key:"render",value:function(){return Object(le.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&X_(e.prototype,n),a}(le.a))||kg;function Nh(t){return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function W_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Rg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Rg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function es(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.r,c=i===void 0?4:i,h=t.className,g={cx:n,cy:a,r:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(x){var S=W_(x,2),D=S[0],R=S[1];Nh(R)!=="object"&&(g[D]=R)}),g.className=h?"lf-basic-shape ".concat(h):"lf-basic-shape",Object(le.g)("circle",g)}function Ch(t){return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function K_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ig(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ig(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ig(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xl(){return Xl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(this,arguments)}function Lg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bg(t,e,n){return e&&zg(t.prototype,e),n&&zg(t,n),t}function Fg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rh(t,e)}function Rh(t,e){return Rh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Rh(t,e)}function Ug(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Fp(t);if(e){var a=Fp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $_(this,n)}}function $_(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bp(t)}function Bp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fp(t)}function Ih(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gg,Xg=function(t){Fg(n,t);var e=Ug(n);function n(){var r;return Lg(this,n),Ih(Bp(r=e.call(this)),"dragHandler",void 0),Ih(Bp(r),"onDragging",function(a){var i=a.event,c=r.props,h=c.graphModel,g=c.bezierModel,x=c.type,S=h.getPointByClient({x:i.clientX,y:i.clientY}).canvasOverlayPosition,D=S.x,R=S.y;g.updateAdjustAnchor({x:D,y:R},x),h.eventCenter.emit(pt.EDGE_ADJUST,{data:g.getData()})}),Ih(Bp(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new Do({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return Bg(n,[{key:"render",value:function(){var r=this,a=this.props.position,i=a.x,c=a.y,h=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(le.g)(es,Xl({className:"lf-bezier-adjust-anchor",x:i,y:c},h,{onMouseDown:function(g){r.dragHandler.handleMouseDown(g)}}))}}]),n}(le.a),q_=ii(Cg=function(t){Fg(n,t);var e=Ug(n);function n(){return Lg(this,n),e.apply(this,arguments)}return Bg(n,[{key:"getBezierAdjust",value:function(r,a){var i=r.path,c=r.id,h=K_(ur(i),4),g=h[0],x=h[1],S=h[2],D=h[3],R=r.getEdgeStyle().adjustLine,H=[];return H.push(Object(le.g)(Jc,Xl({x1:g.x,y1:g.y,x2:x.x,y2:x.y},R))),H.push(Object(le.g)(Xg,{position:x,bezierModel:r,graphModel:a,key:"".concat(c,"_ePre"),type:"sNext"})),H.push(Object(le.g)(Jc,Xl({x1:D.x,y1:D.y,x2:S.x,y2:S.y},R))),H.push(Object(le.g)(Xg,{position:S,bezierModel:r,graphModel:a,key:"".concat(c,"_sNext"),type:"ePre"})),H}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,a=r.edges,i=[],c=0;c<a.length;c++){var h=a[c];h.isSelected&&h.modelType===Vt.BEZIER_EDGE&&h.draggable&&i.push(this.getBezierAdjust(h,r))}return i}},{key:"render",value:function(){return Object(le.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(le.a))||Cg;function Lh(t){return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function Z_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zh(t,e){return zh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zh(t,e)}function Q_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Up(t);if(e){var a=Up(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return e1(this,n)}}function e1(t,e){if(e&&(Lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Up(t)}var Hg,t1=ii(Gg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&zh(i,c)})(a,t);var e,n,r=Q_(a);function a(){return Z_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props.children;return Object(le.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(le.g)("g",{transform:i},c))}}])&&J_(e.prototype,n),a}(le.a))||Gg;function Bh(t){return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function Fh(){return Fh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fh.apply(this,arguments)}function n1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uh(t,e){return Uh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Uh(t,e)}function o1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Gp(t);if(e){var a=Gp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return i1(this,n)}}function i1(t,e){if(e&&(Bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gp(t)}var a1=ii(Hg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Uh(i,c)})(a,t);var e,n,r=o1(a);function a(){return n1(this,a),r.apply(this,arguments)}return e=a,n=[{key:"getComponent",value:function(i,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",g=this.props.getView,x=g(i.type);return Object(le.g)(x,{key:i.id,model:i,graphModel:c,overlay:h})}},{key:"render",value:function(){var i=this,c=this.props,h=c.graphModel,g=c.tool,x=c.options,S=c.dnd,D=c.snaplineModel,R={};x.width&&(R.width="".concat(h.width,"px")),x.height&&(R.height="".concat(h.height,"px"));var H=x.grid,Z=h.fakerNode,ne=h.editConfigModel.adjustEdge;return Object(le.g)("div",{className:"lf-graph","flow-id":h.flowId,style:R},Object(le.g)(g_,{graphModel:h,dnd:S},Object(le.g)("g",{className:"lf-base"},cc(h.sortElements,function(ye){return i.getComponent(ye,h)})),Z?this.getComponent(Z,h):""),Object(le.g)(t1,{graphModel:h},Object(le.g)(V_,{graphModel:h}),ne?Object(le.g)(q_,{graphModel:h}):"",x.snapline!==!1?Object(le.g)(B_,{snaplineModel:D}):""),Object(le.g)(w_,{graphModel:h,tool:g}),x.background&&Object(le.g)(P_,{background:x.background}),x.grid&&Object(le.g)(jg,Fh({},H,{graphModel:h})))}}],n&&r1(e.prototype,n),a}(le.a))||Hg,u1=a1;function Yg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yg(Object(n),!0).forEach(function(r){Ji(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ji(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s1=function(){function t(r){var a=this;(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,t),Ji(this,"nodeConfig",void 0),Ji(this,"lf",void 0),Ji(this,"fakerNode",void 0),Ji(this,"stopDrag",function(){a.nodeConfig=null,window.document.removeEventListener("mouseup",a.stopDrag)}),Ji(this,"dragEnter",function(c){a.nodeConfig&&!a.fakerNode&&(a.fakerNode=a.lf.createFakerNode(Xp(Xp({},a.nodeConfig),a.clientToLocalPoint({x:c.clientX,y:c.clientY}))))}),Ji(this,"onDragOver",function(c){if(c.preventDefault(),a.fakerNode){var h=a.clientToLocalPoint({x:c.clientX,y:c.clientY}),g=h.x,x=h.y;a.fakerNode.moveTo(g,x);var S=a.fakerNode.getData();a.lf.setNodeSnapLine(S),a.lf.graphModel.eventCenter.emit(pt.NODE_DND_DRAG,{data:S})}return!1}),Ji(this,"onDragLeave",function(){a.fakerNode&&(a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)}),Ji(this,"onDrop",function(c){a.lf.graphModel&&c&&a.nodeConfig&&(a.lf.addNode(Xp(Xp({},a.nodeConfig),a.clientToLocalPoint({x:c.clientX,y:c.clientY})),pt.NODE_DND_ADD,c),c.preventDefault(),c.stopPropagation(),a.nodeConfig=null,a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)});var i=r.lf;this.lf=i}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var a=r.x,i=r.y,c=va(this.lf.options,["grid","size"]),h=this.lf.graphModel.getPointByClient({x:a,y:i}).canvasOverlayPosition,g=h.x,x=h.y;return{x:gi(g,c),y:gi(x,c)}}},{key:"startDrag",value:function(r){var a=this.lf.graphModel.editConfigModel;a!=null&&a.isSilentMode||(this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&c1(e.prototype,n),t}();function Vg(t){var e=t.container,n=t.grid,r=t.width,a=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof a=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=Zn({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),Zn({},Kg,t)}var ln,Wg,Kg={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Gh(t){return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function Xh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return $g(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return $g(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $g(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qg(Object(n),!0).forEach(function(r){Zg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function f1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hl(){return Hl=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=d1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Hl.apply(this,arguments)}function d1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ra(t))!==null;);return t}function Hh(t,e){return Hh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hh(t,e)}function h1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ra(t);if(e){var a=Ra(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y1(this,n)}}function y1(t,e){if(e&&(Gh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yp(t)}function Yp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ra(t){return Ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ra(t)}function Zg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ni(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Yh=(ln=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Hh(i,c)})(a,t);var e,n,r=h1(a);function a(){var i;f1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Zg(Yp(i=r.call.apply(r,[this].concat(h))),"modelType",Vt.BEZIER_EDGE),l1(Yp(i),"path",Wg,Yp(i)),i}return e=a,(n=[{key:"initEdgeData",value:function(i){this.offset=100,Hl(Ra(a.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.bezier;return Hp(Hp({},Hl(Ra(a.prototype),"getEdgeStyle",this).call(this)),xn(i))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var i=0,c=0;return this.pointsList.forEach(function(h){var g=h.x,x=h.y;i+=g,c+=x}),{x:i/this.pointsList.length,y:c/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var i=Hl(Ra(a.prototype),"getData",this).call(this),c=this.pointsList.map(function(h){return{x:h.x,y:h.y}});return Hp(Hp({},i),{},{pointsList:c})}},{key:"getControls",value:function(){var i=this.startPoint,c=this.endPoint;return kl({start:i,end:c,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(i){var c=Xh(i,4),h=c[0],g=c[1],x=c[2],S=c[3];return"M ".concat(h.x," ").concat(h.y,`
    C `).concat(g.x," ").concat(g.y,`,
    `).concat(x.x," ").concat(x.y,`,
    `).concat(S.x," ").concat(S.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var i=this.getControls(),c=i.sNext,h=i.ePre;this.updatePath(c,h)}},{key:"updatePath",value:function(i,c){i=xn(i),c=xn(c);var h={x:this.startPoint.x,y:this.startPoint.y},g={x:this.endPoint.x,y:this.endPoint.y};if(!i||!c){var x=this.getControls();i=x.sNext,c=x.ePre}this.pointsList=[h,i,c,g],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(i){this.startPoint=Object.assign({},i),this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=Object.assign({},i),this.updatePoints()}},{key:"moveStartPoint",value:function(i,c){this.startPoint.x+=i,this.startPoint.y+=c;var h=Xh(this.pointsList,3),g=h[1],x=h[2];g.x+=i,g.y+=c,this.updatePath(g,x)}},{key:"moveEndPoint",value:function(i,c){this.endPoint.x+=i,this.endPoint.y+=c;var h=Xh(this.pointsList,3),g=h[1],x=h[2];x.x+=i,x.y+=c,this.updatePath(g,x)}},{key:"updateAdjustAnchor",value:function(i,c){c==="sNext"?this.pointsList[1]=i:c==="ePre"&&(this.pointsList[2]=i),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var c=i.startPoint,h=i.endPoint,g=i.sourceNode,x=i.targetNode,S=kl({start:c,end:h,sourceNode:g,targetNode:x,offset:this.offset}),D=S.sNext,R=S.ePre;this.pointsList=[c,D,R,h],this.initPoints()}}])&&p1(e.prototype,n),a}(ka),Wg=ni(ln.prototype,"path",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ni(ln.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"initPoints"),ln.prototype),ni(ln.prototype,"updatePoints",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updatePoints"),ln.prototype),ni(ln.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateStartPoint"),ln.prototype),ni(ln.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateEndPoint"),ln.prototype),ni(ln.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"moveStartPoint"),ln.prototype),ni(ln.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"moveEndPoint"),ln.prototype),ni(ln.prototype,"updateAdjustAnchor",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateAdjustAnchor"),ln.prototype),ni(ln.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"getAdjustStart"),ln.prototype),ni(ln.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"getAdjustEnd"),ln.prototype),ni(ln.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateAfterAdjustStartAndEnd"),ln.prototype),ln),Ye,Jg,Qg,em,tm,nm,rm,om,im,am,um,cm,sm,lm,fm,pm,dm,hm,ym,vm,gm,mm,bm,v1=function(t){return t==null};function g1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||_m(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vh(t){return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function _m(t,e){if(t){if(typeof t=="string")return Om(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Om(t,e):void 0}}function Om(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wm(Object(n),!0).forEach(function(r){to(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function to(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ht(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Qi,xm,ea=(Ye=function(){function t(r,a){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),to(this,"id",""),Kn(this,"type",Jg,this),Kn(this,"x",Qg,this),Kn(this,"y",em,this),Kn(this,"text",tm,this),Kn(this,"properties",nm,this),Kn(this,"_width",rm,this),Kn(this,"_height",om,this),Kn(this,"anchorsOffset",im,this),Kn(this,"isSelected",am,this),Kn(this,"isHovered",um,this),Kn(this,"isShowAnchor",cm,this),Kn(this,"isDragging",sm,this),Kn(this,"isHitable",lm,this),Kn(this,"draggable",fm,this),Kn(this,"visible",pm,this),Kn(this,"enableRotate",dm,this),to(this,"virtual",!1),to(this,"graphModel",void 0),Kn(this,"zIndex",hm,this),Kn(this,"state",ym,this),Kn(this,"autoToFront",vm,this),Kn(this,"style",gm,this),Kn(this,"transform",mm,this),Kn(this,"_rotate",bm,this),to(this,"BaseType",Bn.NODE),to(this,"modelType",Vt.NODE),to(this,"additionStateData",void 0),to(this,"targetRules",[]),to(this,"sourceRules",[]),to(this,"moveRules",[]),to(this,"hasSetTargetRules",!1),to(this,"hasSetSourceRules",!1),this.graphModel=a,this.initNodeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"rotate",get:function(){return this._rotate},set:function(r){this._rotate=r;var a=this.x,i=a===void 0?0:a,c=this.y,h=c===void 0?0:c;this.transform=new Pi(-i,-h).rotate(r).translate(i,h).toString()}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,i=a&&a(r.type),c=this.createId();r.id=c||i||bi()}this.formatText(r),Zn(this,function(h){return Xo(h,["id","type","x","y","text","properties","virtual","rotate"])}(r)),this.graphModel.overlapMode===Pn.INCREASE&&(this.zIndex=r.zIndex||yl())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,a=r.x,i=r.y,c=r.value,h=this.properties;Object(d.x)(h)&&(h=Object(d.I)(h));var g={id:this.id,type:this.type,x:this.x,y:this.y,properties:h};return this.rotate&&(g.rotate=this.rotate),this.graphModel.overlapMode===Pn.INCREASE&&(g.zIndex=this.zIndex),c&&(g.text={x:a,y:i,value:c}),g}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(d.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return Xr(Xr({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return xn(r)}},{key:"getRotateControlStyle",value:function(){var r=this.graphModel.theme.rotateControl;return xn(r)}},{key:"getAnchorStyle",value:function(r){var a=this.graphModel.theme.anchor;return xn(a)}},{key:"getAnchorLineStyle",value:function(r){var a=this.graphModel.theme.anchorLine;return xn(a)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return xn(r)}},{key:"isAllowConnectedAsSource",value:function(r,a,i,c){var h=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var g,x=!0,S=0;S<h.length;S++){var D=h[S];if(!D.validate.call(this,this,r,a,i,c)){x=!1,g=D.message;break}}return{isAllPass:x,msg:g}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,a,i,c){var h=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var g,x=!0,S=0;S<h.length;S++){var D=h[S];if(!D.validate.call(this,r,this,a,i,c)){x=!1,g=D.message;break}}return{isAllPass:x,msg:g}}},{key:"isAllowMoveNode",value:function(r,a){var i,c=!0,h=!0,g=function(D,R){var H=typeof Symbol!="undefined"&&D[Symbol.iterator]||D["@@iterator"];if(!H){if(Array.isArray(D)||(H=_m(D))||R&&D&&typeof D.length=="number"){H&&(D=H);var Z=0,ne=function(){};return{s:ne,n:function(){return Z>=D.length?{done:!0}:{done:!1,value:D[Z++]}},e:function(Ce){throw Ce},f:ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ye,de=!0,we=!1;return{s:function(){H=H.call(D)},n:function(){var Ce=H.next();return de=Ce.done,Ce},e:function(Ce){we=!0,ye=Ce},f:function(){try{de||H.return==null||H.return()}finally{if(we)throw ye}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(g.s();!(i=g.n()).done;){var x=(0,i.value)(this,r,a);if(!x)return!1;if(Vh(x)==="object"){var S=x;if(S.x===!1&&S.y===!1)return!1;c=c&&S.x,h=h&&S.y}}}catch(D){g.e(D)}finally{g.f()}return{x:c,y:h}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,a=this.id,i=this.x,c=this.y;return r&&r.length>0?r.map(function(h,g){return h.length?(h=h,{id:"".concat(a,"_").concat(g),x:i+h[0],y:c+h[1]}):Xr(Xr({},h=h),{},{x:i+h.x,y:c+h.y,id:h.id||"".concat(a,"_").concat(g)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(a,i){for(var c,h=Mr(i),g=Number.MAX_SAFE_INTEGER,x=0;x<h.length;x++){var S=fo(a.x,a.y,h[x].x,h[x].y);S<g&&(g=S,c={index:x,anchor:rl(rl({},h[x]),{},{x:h[x].x,y:h[x].y,id:h[x].id})})}return c}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.getAnchorsByOffset(),a=this.x,i=this.y,c=this.rotate;return r.forEach(function(h){var g=h.x,x=h.y,S=g1(new ji([g,x,1]).translate(-a,-i).rotate(c).translate(a,i)[0],2),D=S[0],R=S[1];h.x=D,h.y=R}),r}},{key:"getAnchorInfo",value:function(r){if(!v1(r))for(var a=0;a<this.anchors.length;a++){var i=this.anchors[a];if(i.id===r)return i}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,h=!1;if(i)c=!0,h=!0;else{var g=this.isAllowMoveNode(r,a);typeof g=="boolean"?(c=g,h=g):(c=g.x,h=g.y)}if(c){var x=this.x+r;this.x=x,this.text&&this.moveText(r,0)}if(h){var S=this.y+a;this.y=S,this.text&&this.moveText(0,a)}return c||h}},{key:"getMoveDistance",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,h=!1,g=0,x=0;if(i)c=!0,h=!0;else{var S=this.isAllowMoveNode(r,a);typeof S=="boolean"?(c=S,h=S):(c=S.x,h=S.y)}if(c&&r){var D=this.x+r;this.x=D,this.text&&this.moveText(r,0),g=r}if(h&&a){var R=this.y+a;this.y=R,this.text&&this.moveText(0,a),x=a}return[g,x]}},{key:"moveTo",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=r-this.x,h=a-this.y;return!(!i&&!this.isAllowMoveNode(c,h)||(this.text&&this.text&&this.moveText(c,h),this.x=r,this.y=a,0))}},{key:"moveText",value:function(r,a){var i=this.text,c=i.x,h=i.y,g=i.value,x=i.draggable,S=i.editable;this.text={value:g,editable:S,draggable:x,x:c+r,y:h+a}}},{key:"updateText",value:function(r){this.text=Xr(Xr({},Object(d.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setEnableRotate",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.enableRotate=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"setProperty",value:function(r,a){this.properties=Xr(Xr({},Object(d.I)(this.properties)),{},to({},r,or(a))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Xr(Xr({},Object(d.I)(this.properties)),or(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,a){this.style=Xr(Xr({},this.style),{},to({},r,or(a)))}},{key:"setStyles",value:function(r){this.style=Xr(Xr({},this.style),or(r))}},{key:"updateStyles",value:function(r){this.style=Xr({},or(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){Zn(this,r)}}],n&&m1(e.prototype,n),t}(),Jg=Ht(Ye.prototype,"type",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qg=Ht(Ye.prototype,"x",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),em=Ht(Ye.prototype,"y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),tm=Ht(Ye.prototype,"text",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),nm=Ht(Ye.prototype,"properties",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),rm=Ht(Ye.prototype,"_width",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),om=Ht(Ye.prototype,"_height",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),im=Ht(Ye.prototype,"anchorsOffset",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),am=Ht(Ye.prototype,"isSelected",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),um=Ht(Ye.prototype,"isHovered",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cm=Ht(Ye.prototype,"isShowAnchor",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sm=Ht(Ye.prototype,"isDragging",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),lm=Ht(Ye.prototype,"isHitable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fm=Ht(Ye.prototype,"draggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pm=Ht(Ye.prototype,"visible",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),dm=Ht(Ye.prototype,"enableRotate",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),hm=Ht(Ye.prototype,"zIndex",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ym=Ht(Ye.prototype,"state",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),vm=Ht(Ye.prototype,"autoToFront",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gm=Ht(Ye.prototype,"style",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),mm=Ht(Ye.prototype,"transform",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bm=Ht(Ye.prototype,"_rotate",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ht(Ye.prototype,"incoming",[d.m],Object.getOwnPropertyDescriptor(Ye.prototype,"incoming"),Ye.prototype),Ht(Ye.prototype,"outgoing",[d.m],Object.getOwnPropertyDescriptor(Ye.prototype,"outgoing"),Ye.prototype),Ht(Ye.prototype,"addNodeMoveRules",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"addNodeMoveRules"),Ye.prototype),Ht(Ye.prototype,"move",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"move"),Ye.prototype),Ht(Ye.prototype,"getMoveDistance",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"getMoveDistance"),Ye.prototype),Ht(Ye.prototype,"moveTo",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"moveTo"),Ye.prototype),Ht(Ye.prototype,"moveText",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"moveText"),Ye.prototype),Ht(Ye.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateText"),Ye.prototype),Ht(Ye.prototype,"setSelected",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setSelected"),Ye.prototype),Ht(Ye.prototype,"setHovered",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setHovered"),Ye.prototype),Ht(Ye.prototype,"setIsShowAnchor",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setIsShowAnchor"),Ye.prototype),Ht(Ye.prototype,"setEnableRotate",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setEnableRotate"),Ye.prototype),Ht(Ye.prototype,"setHitable",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setHitable"),Ye.prototype),Ht(Ye.prototype,"setElementState",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setElementState"),Ye.prototype),Ht(Ye.prototype,"setProperty",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setProperty"),Ye.prototype),Ht(Ye.prototype,"setProperties",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setProperties"),Ye.prototype),Ht(Ye.prototype,"deleteProperty",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"deleteProperty"),Ye.prototype),Ht(Ye.prototype,"setStyle",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setStyle"),Ye.prototype),Ht(Ye.prototype,"setStyles",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setStyles"),Ye.prototype),Ht(Ye.prototype,"updateStyles",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateStyles"),Ye.prototype),Ht(Ye.prototype,"setZIndex",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setZIndex"),Ye.prototype),Ht(Ye.prototype,"updateAttributes",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateAttributes"),Ye.prototype),Ye);function Wh(t){return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function Em(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Sm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Em(Object(n),!0).forEach(function(r){jm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Em(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kh(){return Kh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=w1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Kh.apply(this,arguments)}function w1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ts(t))!==null;);return t}function $h(t,e){return $h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},$h(t,e)}function x1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ts(t);if(e){var a=ts(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return E1(this,n)}}function E1(t,e){if(e&&(Wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vp(t)}function Vp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ts(t){return ts=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ts(t)}function jm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qh(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Nr,Pm,Am,Zh=(Qi=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&$h(i,c)})(a,t);var e,n,r=x1(a);function a(){var i;_1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return jm(Vp(i=r.call.apply(r,[this].concat(h))),"modelType",Vt.CIRCLE_NODE),b1(Vp(i),"r",xm,Vp(i)),i}return e=a,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var i=Kh(ts(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.circle;return Sm(Sm({},i),xn(c))}},{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,h=this.r;return[{x:i,y:c-h,id:"".concat(this.id,"_0")},{x:i+h,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+h,id:"".concat(this.id,"_2")},{x:i-h,y:c,id:"".concat(this.id,"_3")}]}}])&&O1(e.prototype,n),a}(ea),xm=qh(Qi.prototype,"r",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),qh(Qi.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Qi.prototype,"width"),Qi.prototype),qh(Qi.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Qi.prototype,"height"),Qi.prototype),Qi);o(129);function Jh(t){return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function Qh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Mm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Mm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function km(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?km(Object(n),!0).forEach(function(r){Nm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):km(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function S1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ey(){return ey=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=P1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},ey.apply(this,arguments)}function P1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=rs(t))!==null;);return t}function ty(t,e){return ty=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ty(t,e)}function A1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=rs(t);if(e){var a=rs(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return M1(this,n)}}function M1(t,e){if(e&&(Jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ns(t)}function ns(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rs(t){return rs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rs(t)}function Nm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function os(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Mi,Cm,Rm,ny=(Nr=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ty(i,c)})(a,t);var e,n,r=A1(a);function a(){var i;S1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Nm(ns(i=r.call.apply(r,[this].concat(h))),"modelType",Vt.DIAMOND_NODE),Dm(ns(i),"rx",Pm,ns(i)),Dm(ns(i),"ry",Am,ns(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=ey(rs(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.diamond;return Tm(Tm({},i),xn(c))}},{key:"points",get:function(){var i=this.x,c=this.y,h=this.rx,g=this.ry;return[[i,c-g],[i+h,c],[i,c+g],[i-h,c]]}},{key:"pointsPosition",get:function(){return this.points.map(function(i){return{x:i[0],y:i[1]}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var g=Qh(h,1)[0];g<i&&(i=g),g>c&&(c=g)}),c-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var g=Qh(h,2)[1];g<i&&(i=g),g>c&&(c=g)}),c-i}},{key:"getDefaultAnchor",value:function(){var i=this;return this.points.map(function(c,h){var g=Qh(c,2);return{x:g[0],y:g[1],id:"".concat(i.id,"_").concat(h)}})}}])&&j1(e.prototype,n),a}(ea),Pm=os(Nr.prototype,"rx",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Am=os(Nr.prototype,"ry",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),os(Nr.prototype,"points",[d.m],Object.getOwnPropertyDescriptor(Nr.prototype,"points"),Nr.prototype),os(Nr.prototype,"pointsPosition",[d.m],Object.getOwnPropertyDescriptor(Nr.prototype,"pointsPosition"),Nr.prototype),os(Nr.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Nr.prototype,"width"),Nr.prototype),os(Nr.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Nr.prototype,"height"),Nr.prototype),Nr);function ry(t){return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function Im(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Lm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Im(Object(n),!0).forEach(function(r){Bm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Im(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function k1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oy(){return oy=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=D1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},oy.apply(this,arguments)}function D1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=as(t))!==null;);return t}function iy(t,e){return iy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},iy(t,e)}function N1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=as(t);if(e){var a=as(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return C1(this,n)}}function C1(t,e){if(e&&(ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return is(t)}function is(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function as(t){return as=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},as(t)}function Bm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wp(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Ro,Fm,ay=(Mi=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&iy(i,c)})(a,t);var e,n,r=N1(a);function a(){var i;k1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Bm(is(i=r.call.apply(r,[this].concat(h))),"modelType",Vt.ELLIPSE_NODE),zm(is(i),"rx",Cm,is(i)),zm(is(i),"ry",Rm,is(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=oy(as(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.ellipse;return Lm(Lm({},i),xn(c))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,h=this.rx,g=this.ry;return[{x:i,y:c-g,id:"".concat(this.id,"_0")},{x:i+h,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+g,id:"".concat(this.id,"_2")},{x:i-h,y:c,id:"".concat(this.id,"_3")}]}}])&&T1(e.prototype,n),a}(ea),Cm=Wp(Mi.prototype,"rx",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Rm=Wp(Mi.prototype,"ry",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Wp(Mi.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Mi.prototype,"width"),Mi.prototype),Wp(Mi.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Mi.prototype,"height"),Mi.prototype),Mi);function uy(t){return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function cy(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Um(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Um(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Um(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gm(Object(n),!0).forEach(function(r){Hm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function I1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sy(){return sy=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=z1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},sy.apply(this,arguments)}function z1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=us(t))!==null;);return t}function ly(t,e){return ly=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ly(t,e)}function B1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=us(t);if(e){var a=us(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return F1(this,n)}}function F1(t,e){if(e&&(uy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kp(t)}function Kp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function us(t){return us=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},us(t)}function Hm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $p(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var fy,Ym,py=(Ro=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ly(i,c)})(a,t);var e,n,r=B1(a);function a(){var i;I1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Hm(Kp(i=r.call.apply(r,[this].concat(h))),"modelType",Vt.POLYGON_NODE),R1(Kp(i),"points",Fm,Kp(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=sy(us(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.polygon;return Xm(Xm({},i),xn(c))}},{key:"pointsPosition",get:function(){var i=this.x,c=this.y,h=this.width,g=this.height;return this.points.map(function(x){return{x:x[0]+i-h/2,y:x[1]+c-g/2}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var g=cy(h,1)[0];g<i&&(i=g),g>c&&(c=g)}),c-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var g=cy(h,2)[1];g<i&&(i=g),g>c&&(c=g)}),c-i}},{key:"getDefaultAnchor",value:function(){var i=this,c=this.x,h=this.y,g=this.width,x=this.height;return this.points.map(function(S,D){var R=cy(S,2),H=R[0],Z=R[1];return{x:c+H-g/2,y:h+Z-x/2,id:"".concat(i.id,"_").concat(D)}})}}])&&L1(e.prototype,n),a}(ea),Fm=$p(Ro.prototype,"points",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),$p(Ro.prototype,"pointsPosition",[d.m],Object.getOwnPropertyDescriptor(Ro.prototype,"pointsPosition"),Ro.prototype),$p(Ro.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Ro.prototype,"width"),Ro.prototype),$p(Ro.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Ro.prototype,"height"),Ro.prototype),Ro);function dy(t){return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function Vm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Wm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vm(Object(n),!0).forEach(function(r){Km(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function G1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hy(){return hy=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=H1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},hy.apply(this,arguments)}function H1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=cs(t))!==null;);return t}function yy(t,e){return yy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yy(t,e)}function Y1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=cs(t);if(e){var a=cs(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return V1(this,n)}}function V1(t,e){if(e&&(dy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qp(t)}function qp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cs(t){return cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cs(t)}function Km(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ia,vy=(fy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&yy(i,c)})(a,t);var e,n,r=Y1(a);function a(){var i;G1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Km(qp(i=r.call.apply(r,[this].concat(h))),"modelType",Vt.RECT_NODE),U1(qp(i),"radius",Ym,qp(i)),i}return e=a,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,h=this.width,g=this.height;return[{x:i,y:c-g/2,id:"".concat(this.id,"_0")},{x:i+h/2,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+g/2,id:"".concat(this.id,"_2")},{x:i-h/2,y:c,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var i=hy(cs(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.rect;return Wm(Wm({},i),xn(c))}}])&&X1(e.prototype,n),a}(ea),Ym=function(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}(fy.prototype,"radius",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fy);function gy(t){return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function $m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function qm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$m(Object(n),!0).forEach(function(r){Jm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$m(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function my(){return my=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=$1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},my.apply(this,arguments)}function $1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ss(t))!==null;);return t}function by(t,e){return by=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},by(t,e)}function q1(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ss(t);if(e){var a=ss(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Z1(this,n)}}function Z1(t,e){if(e&&(gy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zm(t)}function Zm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ss(t){return ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ss(t)}function Jm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qm(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var _y=(Ia=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&by(i,c)})(a,t);var e,n,r=q1(a);function a(){var i;W1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Jm(Zm(i=r.call.apply(r,[this].concat(h))),"modelType",Vt.TEXT_NODE),i}return e=a,(n=[{key:"getTextStyle",value:function(){var i=my(ss(a.prototype),"getTextStyle",this).call(this),c=this.graphModel.theme.text;return qm(qm({},i),xn(c))}},{key:"width",get:function(){var i=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return hl({rows:i,fontSize:c,rowsLength:i.length}).width}},{key:"height",get:function(){var i=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return hl({rows:i,fontSize:c,rowsLength:i.length}).height}}])&&K1(e.prototype,n),a}(ea),Qm(Ia.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Ia.prototype,"width"),Ia.prototype),Qm(Ia.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Ia.prototype,"height"),Ia.prototype),Ia);function Oy(t){return Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(t)}function J1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wy(t,e){return wy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wy(t,e)}function eO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Zp(t);if(e){var a=Zp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return tO(this,n)}}function tO(t,e){if(e&&(Oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eb(t)}function eb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zp(t)}function nO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ri,tb,nb,rb,xy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&wy(i,c)})(a,t);var e,n,r=eO(a);function a(){var i;J1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return nO(eb(i=r.call.apply(r,[this].concat(h))),"modelType",Vt.HTML_NODE),i}return e=a,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,h=this.width,g=this.height;return[{x:i,y:c-g/2,id:"".concat(this.id,"_0")},{x:i+h/2,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+g/2,id:"".concat(this.id,"_2")},{x:i-h/2,y:c,id:"".concat(this.id,"_3")}]}}])&&Q1(e.prototype,n),a}(ea);function ob(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ey(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function rO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ib(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yl(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var ab=(ri=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),ib(this,"graphModel",void 0),Ey(this,"isShowHorizontal",tb,this),Ey(this,"isShowVertical",nb,this),Ey(this,"position",rb,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,n=[{key:"getStyle",value:function(){return function(r){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?ob(Object(i),!0).forEach(function(c){ib(r,c,i[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ob(Object(i)).forEach(function(c){Object.defineProperty(r,c,Object.getOwnPropertyDescriptor(i,c))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,a){for(var i=r.x,c=r.y,h=!1,g=!1,x=0;x<a.length;x++){var S=a[x];if(S.id!==r.id&&(i===S.x&&(h=!0),c===S.y&&(g=!0),h&&g))break}return{isShowVertical:h,isShowHorizontal:g,position:{x:i,y:c}}}},{key:"getHorizontalSnapline",value:function(r,a){var i,c,h=!1,g=r.id;if(g){var x=this.graphModel.fakerNode;if(x&&x.id===g)c=Fr(x);else{var S=this.graphModel.getNodeModelById(g);c=Fr(S)}}for(var D=0;D<a.length;D++){var R=a[D];if(R.id!==r.id){var H=Fr(R);if(H.minY===c.minY||H.maxY===c.minY){h=!0,i=c.minY;break}if(H.minY===c.maxY||H.maxY===c.maxY){h=!0,i=c.maxY;break}}}return Zn({isShowHorizontal:h,position:{y:i}})}},{key:"getVerticalSnapline",value:function(r,a){var i,c,h=!1,g=r.id;if(g){var x=this.graphModel.fakerNode;if(x&&x.id===g)c=Fr(x);else{var S=this.graphModel.getNodeModelById(g);c=Fr(S)}}for(var D=0;D<a.length;D++){var R=a[D];if(R.id!==r.id){var H=Fr(R);if(H.minX===c.minX||H.maxX===c.minX){h=!0,i=c.minX;break}if(H.minX===c.maxX||H.maxX===c.maxX){h=!0,i=c.maxX;break}}}return Zn({isShowVertical:h,position:{x:i}})}},{key:"getSnapLinePosition",value:function(r,a){var i=this.getCenterSnapLine(r,a),c=i.isShowHorizontal,h=i.isShowVertical;if(!c){var g=this.getHorizontalSnapline(r,a);g.isShowHorizontal&&(i.isShowHorizontal=g.isShowHorizontal,i.position.y=g.position.y)}if(!h){var x=this.getVerticalSnapline(r,a);x.isShowVertical&&(i.isShowVertical=x.isShowVertical,i.position.x=x.position.x)}return i}},{key:"setSnaplineInfo",value:function(r){var a=r.isShowHorizontal,i=r.isShowVertical,c=r.position;this.position=c,this.isShowHorizontal=a,this.isShowVertical=i}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var a=this.graphModel.nodes,i=this.getSnapLinePosition(r,a);this.setSnaplineInfo(i)}}],n&&rO(e.prototype,n),t}(),tb=Yl(ri.prototype,"isShowHorizontal",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nb=Yl(ri.prototype,"isShowVertical",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rb=Yl(ri.prototype,"position",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yl(ri.prototype,"clearSnapline",[d.k],Object.getOwnPropertyDescriptor(ri.prototype,"clearSnapline"),ri.prototype),Yl(ri.prototype,"setNodeSnapLine",[d.k],Object.getOwnPropertyDescriptor(ri.prototype,"setNodeSnapLine"),ri.prototype),ri),Vl=new Map,ub=function(t){var e=bi(),n=window.requestAnimationFrame(function r(){if(t(),Vl.get(e)){var a=window.requestAnimationFrame(r);Vl.set(e,a)}});return Vl.set(e,n),e},Jp=function(t){var e=Vl.get(t);e&&(window.cancelAnimationFrame(e),Vl.delete(t))};function Sy(t){return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function Wl(){return Wl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wl.apply(this,arguments)}function cb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Kl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cb(Object(n),!0).forEach(function(r){Ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return sb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return sb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jy(t,e){return jy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},jy(t,e)}function aO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Qp(t);if(e){var a=Qp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return uO(this,n)}}function uO(t,e){if(e&&(Sy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ki(t)}function ki(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qp(t)}function Ti(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cO=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&jy(i,c)})(a,t);var e,n,r=aO(a);function a(){var i;return function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}(this,a),Ti(ki(i=r.call(this)),"preTargetNode",void 0),Ti(ki(i),"sourceRuleResults",void 0),Ti(ki(i),"targetRuleResults",void 0),Ti(ki(i),"dragHandler",void 0),Ti(ki(i),"t",void 0),Ti(ki(i),"onDragStart",function(c){var h=c.event,g=i.props,x=g.anchorData,S=g.nodeModel,D=g.graphModel;D.overlapMode,D.selectNodeById(S.id),S.autoToFront&&D.toFront(S.id),D.eventCenter.emit(pt.ANCHOR_DRAGSTART,{data:x,e:h,nodeModel:S}),i.setState({startX:x.x,startY:x.y,endX:x.x,endY:x.y})}),Ti(ki(i),"onDragging",function(c){var h=c.event,g=i.props,x=g.graphModel,S=g.nodeModel,D=g.anchorData,R=x.transformModel,H=x.eventCenter,Z=x.width,ne=x.height,ye=x.editConfigModel,de=ye.autoExpand,we=ye.stopMoveGraph,Ce=h.clientX,Je=h.clientY,qe=x.getPointByClient({x:Ce,y:Je}),mt=qe.domOverlayPosition,$e=mt.x,dt=mt.y,nt=qe.canvasOverlayPosition,$t=nt.x,Qt=nt.y;i.t&&Jp(i.t);var Nt=[];$e<10?Nt=[10,0]:$e+10>Z?Nt=[-10,0]:dt<10?Nt=[0,10]:dt+10>ne&&(Nt=[0,-10]),i.setState({endX:$t,endY:Qt,dragging:!0}),i.moveAnchorEnd($t,Qt),Nt.length>0&&!we&&de&&(i.t=ub(function(){var rn=oO(Nt,2),Xn=rn[0],Hn=rn[1];R.translate(Xn,Hn);var wr=i.state,vo=wr.endX,go=wr.endY;i.setState({endX:vo-Xn,endY:go-Hn}),i.moveAnchorEnd(vo-Xn,go-Hn)})),H.emit(pt.ANCHOR_DRAG,{data:D,e:h,nodeModel:S})}),Ti(ki(i),"onDragEnd",function(c){var h=c.event;i.t&&Jp(i.t);var g=i.checkEnd(h);i.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),i.sourceRuleResults.clear(),i.targetRuleResults.clear();var x=i.props,S=x.graphModel,D=x.nodeModel,R=x.anchorData;S.eventCenter.emit(pt.ANCHOR_DRAGEND,{data:R,e:h,nodeModel:D,edgeModel:g})}),Ti(ki(i),"checkEnd",function(c){var h=i.props,g=h.graphModel,x=h.nodeModel,S=h.anchorData,D=S.x,R=S.y,H=S.id,Z=(g.edgeType,i.state),ne=Z.endX,ye=Z.endY,de=Z.dragging,we=Cc({x:ne,y:ye},g);if(i.preTargetNode&&i.preTargetNode.state!==cn.DEFAULT&&i.preTargetNode.setElementState(cn.DEFAULT),de&&we&&we.node){var Ce=we.node,Je=we.anchor.id,qe="".concat(x.id,"_").concat(Ce.id,"_").concat(Je,"_").concat(H),mt=i.sourceRuleResults.get(qe)||{},$e=mt.isAllPass,dt=mt.msg,nt=i.targetRuleResults.get(qe)||{},$t=nt.isAllPass,Qt=nt.msg;if($e&&$t){Ce.setElementState(cn.DEFAULT);var Nt=g.edgeGenerator(x.getData(),g.getNodeModelById(we.node.id).getData()),rn=g.addEdge(Kl(Kl({},Nt),{},{sourceNodeId:x.id,sourceAnchorId:H,startPoint:{x:D,y:R},targetNodeId:we.node.id,targetAnchorId:we.anchor.id,endPoint:{x:we.anchor.x,y:we.anchor.y}})),Xn=i.props.anchorData;return g.eventCenter.emit(pt.ANCHOR_DROP,{data:Xn,e:c,nodeModel:x,edgeModel:rn}),rn}var Hn=Ce.getData();return g.eventCenter.emit(pt.CONNECTION_NOT_ALLOWED,{data:Hn,msg:Qt||dt||"不允许添加连线"}),null}}),i.sourceRuleResults=new Map,i.targetRuleResults=new Map,i.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},i.dragHandler=new Do({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd}),i}return e=a,(n=[{key:"getAnchorShape",value:function(){var i=this.props,c=i.anchorData,h=i.style,g=i.node.getAnchorShape(c);if(g)return g;var x=c.x,S=c.y,D=Kl(Kl({},h),h.hover);return Object(le.g)("g",null,Object(le.g)(es,Wl({className:"lf-node-anchor-hover"},D,{x,y:S})),Object(le.g)(es,Wl({className:"lf-node-anchor"},h,{x,y:S})))}},{key:"customTrajectory",get:function(){return this.props.graphModel.customTrajectory}},{key:"relateEdges",get:function(){var i=this.props,c=i.graphModel,h=c.getAnchorIncomingEdge,g=c.getAnchorOutcomingEdge,x=i.anchorData.id;return{incomingEdgeList:h(x),outcomingEdgeList:g(x)}}},{key:"moveAnchorEnd",value:function(i,c){var h=this.props,g=h.graphModel,x=h.nodeModel,S=h.anchorData,D=Cc({x:i,y:c},g);if(D){var R=D.node,H=D.anchor.id;if(this.preTargetNode&&this.preTargetNode!==D.node&&this.preTargetNode.setElementState(cn.DEFAULT),S.id===H)return;this.preTargetNode=R;var Z="".concat(x.id,"_").concat(R.id,"_").concat(H,"_").concat(S.id);if(!this.targetRuleResults.has(Z)){var ne=D.anchor,ye=x.isAllowConnectedAsSource(R,S,ne),de=R.isAllowConnectedAsTarget(x,S,ne);this.sourceRuleResults.set(Z,xu(ye)),this.targetRuleResults.set(Z,xu(de))}var we=this.sourceRuleResults.get(Z).isAllPass,Ce=this.targetRuleResults.get(Z).isAllPass;we&&Ce?R.setElementState(cn.ALLOW_CONNECT):R.setElementState(cn.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==cn.DEFAULT&&this.preTargetNode.setElementState(cn.DEFAULT)}},{key:"isShowLine",value:function(){var i=this.state,c=i.startX,h=i.startY,g=i.endX,x=i.endY;return fo(c,h,g,x)>10}},{key:"render",value:function(){var i=this,c=this.state,h=c.startX,g=c.startY,x=c.endX,S=c.endY,D=this.props,R=D.anchorData.edgeAddable,H=D.edgeStyle;return Object(le.g)("g",{className:"lf-anchor"},Object(le.g)("g",{onMouseDown:function(Z){R!==!1&&i.dragHandler.handleMouseDown(Z)}},this.getAnchorShape()),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(Kl({sourcePoint:{x:h,y:g},targetPoint:{x,y:S}},H)):Object(le.g)(Jc,Wl({x1:h,y1:g,x2:x,y2:S},H,{"pointer-events":"none"}))))}}])&&iO(e.prototype,n),a}(le.a);function lb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function sO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lb(Object(n),!0).forEach(function(r){lO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Py(t){return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(t)}function fO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return fb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return fb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pb(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.value,c=t.fontSize,h=t.fill,g=h===void 0?"currentColor":h,x=t.overflowMode,S=x===void 0?"default":x,D=t.textWidth,R=D===void 0?"":D,H=t.model,Z={textAnchor:"middle","dominant-baseline":"middle",x:n,y:a,fill:g};if(Object.entries(t).forEach(function(Je){var qe=fO(Je,2),mt=qe[0],$e=qe[1];Py($e)!=="object"&&(Z[mt]=$e)}),i){var ne=String(i).split(/[\r\n]/g),ye=ne.length;if(S!=="default"){var de=H.BaseType,we=H.modelType;if(de===Bn.NODE&&we!==Vt.TEXT_NODE||de===Bn.EDGE&&R)return function(Je){var qe=Je.value,mt=Je.fontSize,$e=Je.model,dt=Je.fontFamily,nt=dt===void 0?"":dt,$t=Je.lineHeight,Qt=Je.wrapPadding,Nt=Qt===void 0?"0, 0":Qt,rn=Je.overflowMode,Xn=Je.x,Hn=Je.y,wr=$e.width,vo=$e.textHeight,go=Je.textWidth||wr,Ci=String(qe).split(/[\r\n]/g),Yu=Ci.length,Ed=up({rows:Ci,style:{fontSize:"".concat(mt,"px"),width:"".concat(go,"px"),fontFamily:nt,lineHeight:$t,padding:Nt},rowsLength:Yu,className:"lf-get-text-height"}),Vu=$e.height>Ed?$e.height:Ed;vo&&(Vu=vo);var Ba=rn==="ellipsis";return Ba&&(Vu=mt+2),Object(le.g)("g",null,Object(le.g)("foreignObject",{width:go,height:Vu,x:Xn-go/2,y:Hn-Vu/2},Object(le.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Vu,width:go,padding:Nt}},Object(le.g)("div",{className:Ba?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Ba?Ci.join(""):"",style:sO({},Je)},Ci.map(function(Fa){return Object(le.g)("div",{className:"lf-node-text--auto-wrap-inner"},Fa)})))))}(t)}if(ye>1){var Ce=ne.map(function(Je,qe){var mt=(qe-(ye-1)/2)*(c+2);return Object(le.g)("tspan",{className:"lf-text-tspan",x:n,y:a+mt},Je)});return Object(le.g)("text",Z,Ce)}return Object(le.g)("text",Z,i)}}function Ay(t){return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}function My(){return My=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},My.apply(this,arguments)}function pO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return db(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return db(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function db(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ky(t,e){return ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ky(t,e)}function hO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ed(t);if(e){var a=ed(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return yO(this,n)}}function yO(t,e){if(e&&(Ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return La(t)}function La(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ed(t){return ed=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ed(t)}function Uu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hb=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ky(i,c)})(a,t);var e,n,r=hO(a);function a(i){var c;(function(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")})(this,a),Uu(La(c=r.call(this)),"dragHandler",void 0),Uu(La(c),"sumDeltaX",0),Uu(La(c),"sumDeltaY",0),Uu(La(c),"stepDrag",void 0),Uu(La(c),"onDragging",function(g){var x=g.deltaX,S=g.deltaY,D=c.props,R=D.model,H=pO(D.graphModel.transformModel.fixDeltaXY(x,S),2),Z=H[0],ne=H[1];R.moveText(Z,ne)}),Uu(La(c),"dblClickHandler",function(){c.props.editable&&c.props.model.setElementState(cn.TEXT_EDIT)}),Uu(La(c),"mouseDownHandle",function(g){var x=c.props,S=x.draggable,D=x.model,R=x.graphModel.editConfigModel.nodeTextDraggable;(S||R)&&(c.stepDrag.model=D,c.stepDrag.handleMouseDown(g))}),i.model;var h=i.draggable;return c.stepDrag=new Do({onDragging:c.onDragging,step:1,isStopPropagation:h}),c}return e=a,(n=[{key:"getShape",value:function(){var i=this.props,c=i.model,h=i.graphModel,g=c.text,x=h.editConfigModel,S=g.value,D=g.x,R=g.y,H=g.editable,Z=g.draggable,ne={x:D,y:R,className:"",value:S};H?ne.className="lf-element-text":Z||x.nodeTextDraggable?ne.className="lf-text-draggable":ne.className="lf-text-disabled";var ye=c.getTextStyle();return Object(le.g)(pb,My({},ne,ye,{model:c}))}},{key:"render",value:function(){if(this.props.model.text)return Object(le.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&dO(e.prototype,n),a}(le.a),vO=va(window,"navigator.userAgent","").match(/MSIE|Trident/)!==null,yb=o(130);function Ty(t){return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function Dy(){return Dy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dy.apply(this,arguments)}function gO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ny(t,e){return Ny=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ny(t,e)}function mO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=td(t);if(e){var a=td(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return bO(this,n)}}function bO(t,e){if(e&&(Ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ls(t)}function ls(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function td(t){return td=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},td(t)}function $l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _O=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ny(i,c)})(a,t);var e,n,r=mO(a);function a(i){var c;return function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,a),$l(ls(c=r.call(this,i)),"style",{}),$l(ls(c),"defaultAngle",void 0),$l(ls(c),"normal",void 0),$l(ls(c),"stepperDrag",void 0),$l(ls(c),"onDragging",function(h){var g,x=h.event,S=c.props,D=S.graphModel,R=S.nodeModel,H=S.eventCenter,Z=D.selectNodes,ne=R.x,ye=R.y,de=x.clientX,we=x.clientY,Ce=D.getPointByClient({x:de,y:we}).canvasOverlayPosition,Je=Ce.x,qe=Ce.y,mt=new U(Je-ne,qe-ye),$e=((g=c.normal)===null||g===void 0?void 0:g.angle(mt))-c.defaultAngle,dt=new Pi(-ne,-ye).rotate($e).translate(ne,ye).toString();R.transform=dt,R.rotate=$e;var nt=Object(yb.map)(Z,function(Qt){return Qt.id});nt.indexOf(R.id)===-1&&(nt=[R.id]);var $t=Object(yb.reduce)(nt,function(Qt,Nt){var rn=D.getNodeModelById(Nt);return Qt[Nt]=rn==null?void 0:rn.getMoveDistance(0,0,!1),Qt},{});nt.forEach(function(Qt){D.getNodeEdges(Qt).forEach(function(Nt){if($t[Nt.sourceNodeId]){var rn=D.getNodeModelById(Nt.sourceNodeId).anchors.find(function(Hn){return Hn.id===Nt.sourceAnchorId});Nt.updateStartPoint(rn)}if($t[Nt.targetNodeId]){var Xn=D.getNodeModelById(Nt.targetNodeId).anchors.find(function(Hn){return Hn.id===Nt.targetAnchorId});Nt.updateEndPoint(Xn)}})}),H.emit(pt.NODE_ROTATE,{e:x,nodeModel:R})}),c.style=i.style,c.stepperDrag=new Do({onDragging:c.onDragging}),c}return e=a,(n=[{key:"render",value:function(){var i=this,c=this.props.nodeModel,h=c.x,g=c.y,x=h+c.width/2+20,S=g-c.height/2-20;return this.normal=new U(1,0),this.defaultAngle=this.normal.angle(new U(x-h,S-g)),c.defaultAngle=this.defaultAngle,Object(le.g)("g",{className:"lf-rotate-control"},Object(le.g)("g",{onMouseDown:function(D){i.stepperDrag.handleMouseDown(D)}},Object(le.g)(es,Dy({},this.style,{cx:x,cy:S}))))}}])&&gO(e.prototype,n),a}(le.a);function Cy(t){return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(t)}var OO=["className"];function nd(){return nd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nd.apply(this,arguments)}function wO(t,e){if(t==null)return{};var n,r,a=function(c,h){if(c==null)return{};var g,x,S={},D=Object.keys(c);for(x=0;x<D.length;x++)g=D[x],h.indexOf(g)>=0||(S[g]=c[g]);return S}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function rd(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return vb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return vb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ry(t,e){return Ry=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ry(t,e)}function xO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=od(t);if(e){var a=od(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return EO(this,n)}}function EO(t,e){if(e&&(Cy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cr(t)}function cr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function od(t){return od=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},od(t)}function hr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ta=function(t){(function(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),h&&Ry(c,h)})(i,t);var e,n,r,a=xO(i);function i(c){var h;(function(R,H){if(!(R instanceof H))throw new TypeError("Cannot call a class as a function")})(this,i),hr(cr(h=a.call(this)),"t",void 0),hr(cr(h),"moveOffset",void 0),hr(cr(h),"stepDrag",void 0),hr(cr(h),"contextMenuTime",void 0),hr(cr(h),"mouseUpDrag",void 0),hr(cr(h),"startTime",void 0),hr(cr(h),"clickTimer",void 0),hr(cr(h),"modelDisposer",void 0),hr(cr(h),"onDragStart",function(R){var H=R.event,Z=H.clientX,ne=H.clientY,ye=h.props,de=ye.model,we=ye.graphModel.getPointByClient({x:Z,y:ne}).canvasOverlayPosition,Ce=we.x,Je=we.y;h.moveOffset={x:de.x-Ce,y:de.y-Je}}),hr(cr(h),"onDragging",function(R){var H=R.event,Z=h.props,ne=Z.model,ye=Z.graphModel,de=ye.editConfigModel,we=de.stopMoveGraph,Ce=de.autoExpand,Je=ye.transformModel,qe=ye.selectNodes,mt=ye.width,$e=ye.height,dt=ye.gridSize;ne.isDragging=!0;var nt=H.clientX,$t=H.clientY,Qt=ye.getPointByClient({x:nt,y:$t}).canvasOverlayPosition,Nt=Qt.x,rn=Qt.y,Xn=rd(Je.CanvasPointToHtmlPoint([Nt,rn]),2),Hn=Xn[0],wr=Xn[1];if(Nt+=h.moveOffset.x,rn+=h.moveOffset.y,Nt=gi(Nt,dt),rn=gi(rn,dt),mt&&$e){if(!Ce||we||!(Hn<0||wr<0||Hn>mt||wr>$e)){var vo=rd(Je.CanvasPointToHtmlPoint([Nt-ne.width/2,rn-ne.height/2]),2),go=vo[0],Ci=vo[1],Yu=rd(Je.CanvasPointToHtmlPoint([Nt+ne.width/2,rn+ne.height/2]),2),Ed=Yu[0],Vu=Yu[1],Ba=Math.max(dt,20),Fa=[];go<0?Fa=[Ba,0]:Ed>ye.width?Fa=[-Ba,0]:Ci<0?Fa=[0,Ba]:Vu>ye.height&&(Fa=[0,-Ba]),h.t&&Jp(h.t);var ux=new Pi(-Nt,-rn).rotate(ne.rotate).translate(Nt,rn).toString();ne.transform=ux;var Sd=qe.map(function(jd){return jd.id});Sd.indexOf(ne.id)===-1&&(Sd=[ne.id]),Fa.length>0&&!we&&Ce?h.t=ub(function(){var jd=rd(Fa,2),Zb=jd[0],Jb=jd[1];Je.translate(Zb,Jb);var cx=-Zb/Je.SCALE_X,sx=-Jb/Je.SCALE_X;ye.moveNodes(Sd,cx,sx)}):ye.moveNodes(Sd,Nt-ne.x,rn-ne.y)}}else ye.moveNode2Coordinate(ne.id,Nt,rn)}),hr(cr(h),"onDragEnd",function(){h.t&&Jp(h.t),h.props.model.isDragging=!1}),hr(cr(h),"handleMouseUp",function(){var R=h.props.model;h.mouseUpDrag=R.isDragging}),hr(cr(h),"handleClick",function(R){var H=h.mouseUpDrag===!1;if(h.startTime){var Z=h.props,ne=Z.model,ye=Z.graphModel;if(H){var de={data:ne.getData(),e:R,position:ye.getPointByClient({x:R.clientX,y:R.clientY}),isSelected:!1,isMultiple:!1},we=R.button===2,Ce=R.detail===2;if(!we){var Je=ye.editConfigModel,qe=$s(R,Je);de.isMultiple=qe,ne.isSelected&&!Ce&&qe?(de.isSelected=!1,ne.setSelected(!1)):(ye.selectNodeById(ne.id,qe),de.isSelected=!0,h.toFront()),Ce?(Je.nodeTextEdit&&ne.text.editable&&(ne.setSelected(!1),ye.setElementStateById(ne.id,cn.TEXT_EDIT)),ye.eventCenter.emit(pt.NODE_DBCLICK,de)):(ye.eventCenter.emit(pt.ELEMENT_CLICK,de),ye.eventCenter.emit(pt.NODE_CLICK,de))}}}}),hr(cr(h),"handleContextMenu",function(R){R.preventDefault();var H=h.props,Z=H.model,ne=H.graphModel,ye=Z.getData(),de=ne.getPointByClient({x:R.clientX,y:R.clientY});ne.setElementStateById(Z.id,cn.SHOW_MENU,de.domOverlayPosition),Z.isSelected||ne.selectNodeById(Z.id),ne.eventCenter.emit(pt.NODE_CONTEXTMENU,{data:ye,e:R,position:de}),h.toFront()}),hr(cr(h),"handleMouseDown",function(R){var H=h.props,Z=H.model,ne=H.graphModel;h.startTime=new Date().getTime(),ne.editConfigModel.adjustNodePosition&&Z.draggable&&h.stepDrag&&h.stepDrag.handleMouseDown(R)}),hr(cr(h),"setHoverON",function(R){var H=h.props,Z=H.model,ne=H.graphModel;if(!Z.isHovered){var ye=Z.getData();Z.setHovered(!0),ne.eventCenter.emit(pt.NODE_MOUSEENTER,{data:ye,e:R})}}),hr(cr(h),"setHoverOFF",function(R){var H=h.props,Z=H.model,ne=H.graphModel,ye=Z.getData();Z.isHovered&&(Z.setHovered(!1),ne.eventCenter.emit(pt.NODE_MOUSELEAVE,{data:ye,e:R}))}),hr(cr(h),"onMouseOut",function(R){vO&&h.setHoverOFF(R)});var g=c.graphModel,x=g.gridSize,S=g.eventCenter,D=c.model;return h.stepDrag=new Do({onDragStart:h.onDragStart,onDragging:h.onDragging,onDragEnd:h.onDragEnd,step:x,eventType:"NODE",isStopPropagation:!1,eventCenter:S,model:D}),h.modelDisposer=Object(d.F)(function(){return h.props},function(R){R&&R.model&&h.stepDrag.setModel(R.model)}),h}return e=i,r=[{key:"getModel",value:function(c){return c}}],(n=[{key:"componentWillUnmount",value:function(){this.modelDisposer&&this.modelDisposer()}},{key:"getAnchorShape",value:function(c){return null}},{key:"getAnchors",value:function(){var c=this,h=this.props,g=h.model,x=h.graphModel,S=g.isSelected,D=g.isHitable,R=g.isDragging,H=g.isShowAnchor;return D&&(S||H)&&!R?cc(g.anchors,function(Z,ne){var ye=g.getAnchorLineStyle(Z),de=g.getAnchorStyle(Z);return Object(le.g)(cO,{anchorData:Z,node:c,style:de,edgeStyle:ye,anchorIndex:ne,nodeModel:g,graphModel:x,setHoverOFF:c.setHoverOFF})}):[]}},{key:"getRotateControl",value:function(){var c=this.props,h=c.model,g=c.graphModel,x=h.isSelected,S=h.isHitable,D=h.enableRotate,R=h.isHovered,H=h.getRotateControlStyle().style;if(S&&(x||R)&&D)return Object(le.g)(_O,{graphModel:g,nodeModel:h,eventCenter:g.eventCenter,style:H})}},{key:"getText",value:function(){var c=this.props,h=c.model,g=c.graphModel;if(h.state===cn.TEXT_EDIT)return"";if(h.text){var x=g.editConfigModel,S=!1;return(h.text.draggable||x.nodeTextDraggable)&&(S=!0),Object(le.g)(hb,{editable:x.nodeTextEdit&&h.text.editable,model:h,graphModel:g,draggable:S})}}},{key:"getStateClassName",value:function(){var c=this.props.model,h=c.state,g=c.isDragging,x=c.isSelected,S="lf-node";switch(h){case cn.ALLOW_CONNECT:S+=" lf-node-allow";break;case cn.NOT_ALLOW_CONNECT:S+=" lf-node-not-allow";break;default:S+=" lf-node-default"}return g&&(S+=" lf-isDragging"),x&&(S+=" lf-node-selected"),S}},{key:"toFront",value:function(){var c=this.props,h=c.model,g=c.graphModel;h.autoToFront&&g.toFront(h.id)}},{key:"render",value:function(){var c,h=this.props,g=h.model,x=h.graphModel,S=x.editConfigModel,D=S.hideAnchors,R=S.adjustNodePosition,H=S.allowRotation,Z=x.gridSize,ne=x.transformModel.SCALE_X,ye=g.isHitable,de=g.draggable,we=g.transform,Ce=g.getOuterGAttributes(),Je=Ce.className,qe=Je===void 0?"":Je,mt=wO(Ce,OO),$e=Object(le.g)("g",{className:"lf-node-content"},Object(le.g)("g",{transform:we},this.getShape(),this.getText(),H&&this.getRotateControl()),!D&&this.getAnchors());return ye?(R&&de&&this.stepDrag.setStep(Z*ne),c=Object(le.g)("g",nd({className:"".concat(this.getStateClassName()," ").concat(qe),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},mt),$e)):c=Object(le.g)("g",nd({className:"".concat(this.getStateClassName()," ").concat(qe)},mt),$e),c}}])&&gb(e.prototype,n),r&&gb(e,r),i}(le.a);function Iy(t){return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(t)}function Ly(){return Ly=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ly.apply(this,arguments)}function SO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zy(t,e){return zy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zy(t,e)}function PO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=id(t);if(e){var a=id(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return AO(this,n)}}function AO(t,e){if(e&&(Iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function id(t){return id=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},id(t)}var By=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&zy(i,c)})(a,t);var e,n,r=PO(a);function a(){return SO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(le.g)(Ca,Ly({},c,{x:i.x,y:i.y,width:i.width,height:i.height,radius:i.radius}))}}])&&jO(e.prototype,n),a}(ta);function Fy(t){return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}function Uy(){return Uy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uy.apply(this,arguments)}function MO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gy(t,e){return Gy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Gy(t,e)}function TO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ad(t);if(e){var a=ad(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return DO(this,n)}}function DO(t,e){if(e&&(Fy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ad(t){return ad=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ad(t)}var Xy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Gy(i,c)})(a,t);var e,n,r=TO(a);function a(){return MO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.x,h=i.y,g=i.r,x=i.getNodeStyle();return Object(le.g)(es,Uy({},x,{x:c,y:h,r:g}))}}])&&kO(e.prototype,n),a}(ta);function Hy(t){return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy(t)}function NO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return mb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return mb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bb(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(a){var i=NO(a,2),c=i[0],h=i[1];Hy(h)!=="object"&&(r[c]=h)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(a){return a.join(",")}).join(" "),Object(le.g)("polygon",r)}function Yy(t){return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(t)}function Vy(){return Vy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vy.apply(this,arguments)}function CO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wy(t,e){return Wy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wy(t,e)}function IO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ud(t);if(e){var a=ud(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return LO(this,n)}}function LO(t,e){if(e&&(Yy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ud(t){return ud=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ud(t)}var Ky=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Wy(i,c)})(a,t);var e,n,r=IO(a);function a(){return CO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.x,h=i.y,g=i.width,x=i.height,S=i.points,D=i.getNodeStyle(),R={transform:"matrix(1 0 0 1 ".concat(c-g/2," ").concat(h-x/2,")")};return Object(le.g)("g",R,Object(le.g)(bb,Vy({},D,{points:S,x:c,y:h})))}}])&&RO(e.prototype,n),a}(ta);function $y(t){return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(t)}function qy(){return qy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qy.apply(this,arguments)}function zO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zy(t,e){return Zy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Zy(t,e)}function FO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=cd(t);if(e){var a=cd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return UO(this,n)}}function UO(t,e){if(e&&($y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function cd(t){return cd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cd(t)}var Jy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Zy(i,c)})(a,t);var e,n,r=FO(a);function a(){return zO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(le.g)("g",null,Object(le.g)(bb,qy({},c,{points:i.points,x:i.x,y:i.y})))}}])&&BO(e.prototype,n),a}(ta);function Qy(t){return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qy(t)}function GO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return _b(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _b(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _b(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XO(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.rx,c=i===void 0?4:i,h=t.ry,g=h===void 0?4:h,x=t.className,S={cx:n,cy:a,rx:c,ry:g,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(D){var R=GO(D,2),H=R[0],Z=R[1];Qy(Z)!=="object"&&(S[H]=Z)}),S.className=x?"lf-basic-shape ".concat(x):"lf-basic-shape",Object(le.g)("ellipse",S)}function ev(t){return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ev(t)}function tv(){return tv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tv.apply(this,arguments)}function HO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nv(t,e){return nv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},nv(t,e)}function VO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=sd(t);if(e){var a=sd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return WO(this,n)}}function WO(t,e){if(e&&(ev(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function sd(t){return sd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sd(t)}var rv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&nv(i,c)})(a,t);var e,n,r=VO(a);function a(){return HO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(le.g)(XO,tv({},c,{x:i.x,y:i.y,rx:i.rx,ry:i.ry}))}}])&&YO(e.prototype,n),a}(ta);function ov(t){return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(t)}function Ob(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ob(Object(n),!0).forEach(function(r){KO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ob(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iv(t,e){return iv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},iv(t,e)}function ZO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ld(t);if(e){var a=ld(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return JO(this,n)}}function JO(t,e){if(e&&(ov(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ld(t){return ld=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ld(t)}var av=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&iv(i,c)})(a,t);var e,n,r=ZO(a);function a(){return $O(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getBackground",value:function(){var i=this.props.model,c=i.getTextStyle(),h=i.width,g=i.height,x=i.x,S=i.y,D=wb(wb({},c.background),{},{x,y:S-1,width:h,height:g});return Object(le.g)(Ca,D)}},{key:"getShape",value:function(){return Object(le.g)("g",null,this.getBackground())}}])&&qO(e.prototype,n),a}(ta);function uv(t){return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}function cv(){return cv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cv.apply(this,arguments)}function QO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ew(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sv(t,e){return sv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sv(t,e)}function tw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=fd(t);if(e){var a=fd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return nw(this,n)}}function nw(t,e){if(e&&(uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ql(t)}function ql(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fd(t){return fd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fd(t)}function pd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&sv(i,c)})(a,t);var e,n,r=tw(a);function a(){var i;QO(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return pd(ql(i=r.call.apply(r,[this].concat(h))),"ref",void 0),pd(ql(i),"currentProperties",void 0),pd(ql(i),"preProperties",void 0),pd(ql(i),"setRef",function(x){i.ref=x}),i}return e=a,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(i){i.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var i=this.props.model,c=i.x,h=i.y,g=i.height,x=i.width,S=i.getNodeStyle();return this.currentProperties=JSON.stringify(i.properties),Object(le.g)("foreignObject",cv({},S,{x:c-x/2,y:h-g/2,width:x,height:g,ref:this.setRef}))}}])&&ew(e.prototype,n),a}(ta);function fv(t){return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fv(t)}function pv(){return pv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pv.apply(this,arguments)}function xb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Gu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xb(Object(n),!0).forEach(function(r){yv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dv(t,e){return dv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},dv(t,e)}function ow(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=dd(t);if(e){var a=dd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return iw(this,n)}}function iw(t,e){if(e&&(fv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hv(t)}function hv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dd(t){return dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dd(t)}function yv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var aw=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&dv(i,c)})(a,t);var e,n,r=ow(a);function a(i){var c;return function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,a),yv(hv(c=r.call(this,i)),"setHoverON",function(){c.setState({isHovered:!0})}),yv(hv(c),"setHoverOFF",function(){c.setState({isHovered:!1})}),c.state={isHovered:!1},c}return e=a,(n=[{key:"getBackground",value:function(){var i=this.props.model,c=i.getTextStyle(),h=i.text,g=i.width,x=c.background||{};if(this.state.isHovered&&c.hover&&c.hover.background&&(x=Gu(Gu({},x),c.hover.background)),h&&h.value&&x.fill!=="transparent"){var S,D=c.fontSize,R=c.overflowMode,H=c.lineHeight,Z=c.wrapPadding,ne=c.textWidth,ye=h.value,de=h.x,we=h.y,Ce=String(ye).split(/[\r\n]/g),Je=Ce.length;if(R==="autoWrap"&&ne){var qe=up({rows:Ce,style:{fontSize:"".concat(D,"px"),width:"".concat(ne,"px"),lineHeight:H,padding:Z},rowsLength:Je,className:"lf-get-text-height"});S=Gu(Gu({},x),{},{x:de-1,y:we-1,width:ne,height:qe})}else{Ce&&Ce.forEach(function($t){Vc($t)});var mt=hl({rows:Ce,fontSize:D,rowsLength:Je}),$e=mt.width,dt=mt.height;if(R==="ellipsis"&&($e=ne||g,dt=D+2),typeof x.wrapPadding=="string"){var nt=x.wrapPadding.split(",").filter(function($t){return $t.trim()}).map(function($t){return parseFloat($t.trim())});nt.length>0&&nt.length<=4&&(nt.length===1?nt=[nt[0],nt[0],nt[0],nt[0]]:nt.length===2?nt=[nt[0],nt[1],nt[0],nt[1]]:nt.length===3&&(nt=[nt[0],nt[1],nt[2],nt[1]]),$e+=nt[1]+nt[3],dt+=nt[0]+nt[2],de+=(nt[1]-nt[3])/2,we+=(nt[2]-nt[0])/2)}S=Gu(Gu({},x),{},{x:de-1,y:we-1,width:$e,height:dt})}return Object(le.g)(Ca,S)}}},{key:"getShape",value:function(){var i=this.props.model,c=i.text,h=c.value,g=c.x,x=c.y;if(h){var S=Gu({x:g,y:x,className:"lf-element-text",value:h},i.getTextStyle());return Object(le.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(le.g)(pb,pv({},S,{model:i})))}}}])&&rw(e.prototype,n),a}(hb);function vv(t){return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}var Di,uw=["text","sourceAnchorId","targetAnchorId"];function Eb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function na(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Eb(Object(n),!0).forEach(function(r){yo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cw(t,e){if(t==null)return{};var n,r,a=function(c,h){if(c==null)return{};var g,x,S={},D=Object.keys(c);for(x=0;x<D.length;x++)g=D[x],h.indexOf(g)>=0||(S[g]=c[g]);return S}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function sw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Sb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Sb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gv(t,e){return gv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},gv(t,e)}function fw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=hd(t);if(e){var a=hd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pw(this,n)}}function pw(t,e){if(e&&(vv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ho(t)}function ho(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hd(t){return hd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hd(t)}function yo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Di||(Di={}));var jb=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&gv(i,c)})(a,t);var e,n,r=fw(a);function a(i){var c;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,a),yo(ho(c=r.call(this)),"stepDragData",void 0),yo(ho(c),"stepDrag",void 0),yo(ho(c),"oldEdge",void 0),yo(ho(c),"preTargetNode",void 0),yo(ho(c),"targetRuleResults",void 0),yo(ho(c),"sourceRuleResults",void 0),yo(ho(c),"handleMouseDown",function(S){c.stepDrag&&c.stepDrag.handleMouseDown(S)}),yo(ho(c),"onDragStart",function(){var S=c.props,D=S.x,R=S.y,H=S.edgeModel,Z=H.startPoint,ne=H.endPoint,ye=H.pointsList;c.oldEdge={startPoint:Z,endPoint:ne,pointsList:ye},c.setState({endX:D,endY:R,dragging:!0})}),yo(ho(c),"onDragging",function(S){var D=S.deltaX,R=S.deltaY,H=c.state,Z=H.endX,ne=H.endY,ye=c.props,de=ye.graphModel,we=ye.type,Ce=de.transformModel,Je=de.editConfigModel,qe=sw(Ce.moveCanvasPointByHtml([Z,ne],D,R),2),mt=qe[0],$e=qe[1];c.setState({endX:mt,endY:$e,dragging:!0});var dt=c.props.edgeModel,nt=Cc({x:Z,y:ne},de);if(nt&&nt.node&&c.isAllowAdjust(nt).pass){var $t,Qt=dt.startPoint,Nt=dt.endPoint,rn=dt.sourceNode,Xn=dt.targetNode;we===Di.SOURCE?$t={startPoint:{x:nt.anchor.x,y:nt.anchor.y},endPoint:{x:Nt.x,y:Nt.y},sourceNode:nt.node,targetNode:Xn}:we===Di.TARGET&&($t={startPoint:{x:Qt.x,y:Qt.y},endPoint:{x:nt.anchor.x,y:nt.anchor.y},sourceNode:rn,targetNode:nt.node}),dt.updateAfterAdjustStartAndEnd($t)}else we===Di.SOURCE?dt.updateStartPoint({x:mt,y:$e}):we===Di.TARGET&&dt.updateEndPoint({x:mt,y:$e});dt.text.value&&Je.adjustEdge&&dt.setText(Object.assign({},dt.text,dt.textPosition))}),yo(ho(c),"onDragEnd",function(S){var D=S.event;try{var R;c.setState({dragging:!1});var H=c.props,Z=H.graphModel,ne=H.edgeModel,ye=H.type,de=c.state,we=de.endX,Ce=de.endY,Je=de.dragging,qe=Cc({x:we,y:Ce},Z);if(!Je)return;var mt,$e=!1;if(qe&&qe.node){var dt=c.isAllowAdjust(qe),nt=dt.pass,$t=dt.msg,Qt=dt.newTargetNode;if(nt){var Nt=ne.getData(),rn=Nt.text,Xn=Nt.sourceAnchorId,Hn=Xn===void 0?"":Xn,wr=Nt.targetAnchorId;mt=na(na({sourceAnchorId:Hn,targetAnchorId:wr===void 0?"":wr},cw(Nt,uw)),{},{text:(rn==null?void 0:rn.value)||""}),ye===Di.SOURCE?(mt=na(na({},Z.edgeGenerator(Z.getNodeModelById(qe.node.id).getData(),Z.getNodeModelById(ne.targetNodeId).getData(),mt)),{},{sourceNodeId:qe.node.id,sourceAnchorId:qe.anchor.id,startPoint:{x:qe.anchor.x,y:qe.anchor.y},targetNodeId:ne.targetNodeId,endPoint:na({},ne.endPoint)}),ne.sourceNodeId===qe.node.id&&ne.sourceAnchorId===qe.anchor.id&&($e=!0)):ye===Di.TARGET&&(mt=na(na({},Z.edgeGenerator(Z.getNodeModelById(ne.sourceNodeId).getData(),Z.getNodeModelById(qe.node.id).getData(),mt)),{},{sourceNodeId:ne.sourceNodeId,startPoint:na({},ne.startPoint),targetNodeId:qe.node.id,targetAnchorId:qe.anchor.id,endPoint:{x:qe.anchor.x,y:qe.anchor.y}}),ne.targetNodeId===qe.node.id&&ne.targetAnchorId===qe.anchor.id&&($e=!0))}else{$e=!0;var vo=Qt.getData();Z.eventCenter.emit(pt.CONNECTION_NOT_ALLOWED,{data:vo,msg:$t})}}else $e=!0;if($e)c.recoveryEdge();else{var go=ne.getData();Z.deleteEdgeById(ne.id);var Ci=Z.addEdge(na({},mt));Z.eventCenter.emit(pt.EDGE_EXCHANGE_NODE,{data:{newEdge:Ci.getData(),oldEdge:go}})}(R=c.preTargetNode)===null||R===void 0||R.setElementState(cn.DEFAULT)}finally{c.props.graphModel.eventCenter.emit(pt.ADJUST_POINT_DRAGEND,{e:D,data:c.stepDragData})}}),yo(ho(c),"recoveryEdge",function(){var S=c.props.edgeModel,D=c.oldEdge,R=D.startPoint,H=D.endPoint,Z=D.pointsList;S.updateStartPoint(R),S.updateEndPoint(H),S.modelType!==Vt.LINE_EDGE&&(S.pointsList=Z,S.initPoints())}),yo(ho(c),"getAdjustPointStyle",function(){var S=c.props,D=S.graphModel.theme;return S.edgeModel,D.edgeAdjust}),c.state={dragging:!1,endX:0,endY:0},c.targetRuleResults=new Map,c.sourceRuleResults=new Map;var h=i.type,g=i.edgeModel,x=i.graphModel.eventCenter;return c.stepDragData={type:h,edgeData:g.getData()},c.stepDrag=new Do({onDragStart:c.onDragStart,onDragging:c.onDragging,onDragEnd:c.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:x,data:c.stepDragData}),c}return e=a,(n=[{key:"isAllowAdjust",value:function(i){var c=this.props,h=c.edgeModel,g=h.id,x=h.sourceNode,S=h.targetNode,D=h.sourceAnchorId,R=h.targetAnchorId,H=c.type,Z=null,ne=null,ye=null,de=null;if(H===Di.SOURCE?(Z=i.node,ne=S,ye=i.anchor,de=S.getAnchorInfo(R)):(Z=x,ne=i.node,de=i.anchor,ye=x.getAnchorInfo(D)),this.preTargetNode&&this.preTargetNode!==i.node&&this.preTargetNode.setElementState(cn.DEFAULT),this.preTargetNode=i.node,de.id===ye.id)return{pass:!1,msg:"",newTargetNode:ne};var we="".concat(Z.id,"_").concat(ne.id,"_").concat(ye.id,"_").concat(de.id);if(!this.targetRuleResults.has(we)){var Ce=Z.isAllowConnectedAsSource(ne,ye,de,g),Je=ne.isAllowConnectedAsTarget(Z,ye,de,g);this.sourceRuleResults.set(we,xu(Ce)),this.targetRuleResults.set(we,xu(Je))}var qe=this.sourceRuleResults.get(we),mt=qe.isAllPass,$e=qe.msg,dt=this.targetRuleResults.get(we),nt=dt.isAllPass,$t=dt.msg,Qt=mt&&nt?cn.ALLOW_CONNECT:cn.NOT_ALLOW_CONNECT;return H===Di.SOURCE?Z.setElementState(Qt):ne.setElementState(Qt),{pass:mt&&nt,msg:$t||$e,newTargetNode:ne}}},{key:"render",value:function(){var i=this.props,c=i.x,h=i.y,g=i.getAdjustPointShape,x=i.edgeModel,S=this.state.dragging;return Object(le.g)("g",{pointerEvents:S?"none":"",onMouseDown:this.handleMouseDown},S?"":g(c,h,x))}}])&&lw(e.prototype,n),a}(le.a);function mv(t){return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function Zl(){return Zl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zl.apply(this,arguments)}function dw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Pb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Pb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bv(t,e){return bv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bv(t,e)}function vw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=yd(t);if(e){var a=yd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gw(this,n)}}function gw(t,e){if(e&&(mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oi(t)}function oi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yd(t){return yd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yd(t)}function Ni(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jl=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&bv(i,c)})(a,t);var e,n,r=vw(a);function a(){var i;hw(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Ni(oi(i=r.call.apply(r,[this].concat(h))),"startTime",void 0),Ni(oi(i),"contextMenuTime",void 0),Ni(oi(i),"clickTimer",void 0),Ni(oi(i),"textRef",Object(le.f)()),Ni(oi(i),"handleHover",function(x,S){var D=i.props,R=D.model,H=D.graphModel.eventCenter;R.setHovered(x);var Z=x?pt.EDGE_MOUSEENTER:pt.EDGE_MOUSELEAVE,ne=R.getData();H.emit(Z,{data:ne,e:S})}),Ni(oi(i),"setHoverON",function(x){i.props.model.isHovered||(i.textRef&&i.textRef.current&&i.textRef.current.setHoverON(),i.handleHover(!0,x))}),Ni(oi(i),"setHoverOFF",function(x){i.props.model.isHovered&&(i.textRef&&i.textRef.current&&i.textRef.current.setHoverOFF(),i.handleHover(!1,x))}),Ni(oi(i),"handleContextMenu",function(x){x.preventDefault(),i.contextMenuTime=new Date().getTime(),i.clickTimer&&clearTimeout(i.clickTimer);var S=i.props,D=S.model,R=S.graphModel,H=R.getPointByClient({x:x.clientX,y:x.clientY});R.setElementStateById(D.id,cn.SHOW_MENU,H.domOverlayPosition),i.toFront(),D.isSelected||R.selectEdgeById(D.id);var Z=D==null?void 0:D.getData();R.eventCenter.emit(pt.EDGE_CONTEXTMENU,{data:Z,e:x,position:H})}),Ni(oi(i),"handleMouseDown",function(x){x.stopPropagation(),i.startTime=new Date().getTime()}),Ni(oi(i),"handleMouseUp",function(x){if(i.startTime&&!(new Date().getTime()-i.startTime>200||x.button===2)){var S=x.detail===2,D=i.props,R=D.model,H=D.graphModel,Z=R==null?void 0:R.getData(),ne=H.getPointByClient({x:x.clientX,y:x.clientY});if(S){var ye=H.editConfigModel,de=H.textEditElement;if(de&&de.id===R.id&&H.setElementStateById(R.id,cn.DEFAULT),ye.edgeTextEdit&&R.text.editable&&H.setElementStateById(R.id,cn.TEXT_EDIT),R.modelType===Vt.POLYLINE_EDGE){var we=R,Ce=H.getPointByClient({x:x.x,y:x.y}).canvasOverlayPosition,Je=Ce.x,qe=Ce.y,mt=Dl({x:Je,y:qe},we.points);we.dbClickPosition=mt}H.eventCenter.emit(pt.EDGE_DBCLICK,{data:Z,e:x,position:ne})}else H.eventCenter.emit(pt.ELEMENT_CLICK,{data:Z,e:x,position:ne}),H.eventCenter.emit(pt.EDGE_CLICK,{data:Z,e:x,position:ne});var $e=H.editConfigModel;H.selectEdgeById(R.id,$s(x,$e)),i.toFront()}}),i}return e=a,(n=[{key:"getShape",value:function(){return Object(le.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var i=this.props,c=i.model,h=i.graphModel;if(c.state===cn.TEXT_EDIT)return null;var g=!1,x=h.editConfigModel;return(c.text.draggable||x.edgeTextDraggable)&&(g=!0),Object(le.g)(aw,{ref:this.textRef,editable:x.edgeTextEdit&&c.text.editable,model:c,graphModel:h,draggable:g})}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=i.startPoint,h=i.endPoint,g=i.isSelected;return{start:c,end:h,hover:this.state.hover,isSelected:g}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model;return[i.startPoint,i.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var i=this.props.model,c=i.id,h=i.getArrowStyle(),g=h.refY,x=g===void 0?0:g,S=h.refX,D=S===void 0?2:S,R=dw(this.getLastTwoPoints(),2),H=R[0],Z=R[1],ne="auto";return H!==null&&Z!==null&&(ne=Vi(Dr({x:Z.x-H.x,y:Z.y-H.y,z:0}))),Object(le.g)("g",null,Object(le.g)("defs",null,Object(le.g)("marker",{id:"marker-start-".concat(c),refX:-D,refY:x,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(le.g)("marker",{id:"marker-end-".concat(c),refX:D,refY:x,overflow:"visible",orient:ne,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var i=this.props.model.getArrowStyle();return i.stroke,i.strokeWidth,i.offset,i.verticalLength,Object(le.g)("path",null)}},{key:"getEndArrow",value:function(){var i=this.props.model.getArrowStyle(),c=i.stroke,h=i.strokeWidth,g=i.offset,x=i.verticalLength;return Object(le.g)("path",{stroke:c,fill:c,strokeWidth:h,transform:"rotate(180)",d:"M 0 0 L ".concat(g," -").concat(x," L ").concat(g," ").concat(x," Z")})}},{key:"getAdjustPointShape",value:function(i,c,h){var g=h.getAdjustPointStyle();return Object(le.g)(es,Zl({className:"lf-edge-adjust-point"},g,{x:i,y:c}))}},{key:"getAdjustPoints",value:function(){var i=this.props,c=i.model,h=i.graphModel,g=c.getAdjustStart(),x=c.getAdjustEnd();return Object(le.g)("g",null,Object(le.g)(jb,Zl({type:"SOURCE"},g,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:h})),Object(le.g)(jb,Zl({type:"TARGET"},x,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:h})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(le.g)("g",null)}},{key:"getAppend",value:function(){return Object(le.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var i=this.props,c=i.graphModel,h=i.model;c.toFront(h.id)}},{key:"render",value:function(){var i=this.props,c=i.model,h=c.isSelected,g=c.isHitable,x=c.isShowAdjustPoint;return i.graphModel.animation,Object(le.g)("g",null,Object(le.g)("g",{className:["lf-edge",!g&&"pointer-none",h&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),x&&h?this.getAdjustPoints():"")}}])&&yw(e.prototype,n),a}(le.a);function _v(t){return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(t)}function mw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ab(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ab(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ql=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=mw(n,2),a=r[0],i=r[1],c=_v(i);a!=="style"&&c==="object"||(e[a]=i)}),Object(le.g)("path",e)};function Ov(t){return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}function wv(){return wv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wv.apply(this,arguments)}function bw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xv(t,e){return xv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},xv(t,e)}function Ow(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=vd(t);if(e){var a=vd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ww(this,n)}}function ww(t,e){if(e&&(Ov(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function vd(t){return vd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vd(t)}var Ev=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&xv(i,c)})(a,t);var e,n,r=Ow(a);function a(){return bw(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.startPoint,h=i.endPoint,g=i.isAnimation,x=i.arrowConfig,S=i.getEdgeStyle(),D=i.getEdgeAnimationStyle(),R=D.strokeDasharray,H=D.stroke,Z=D.strokeDashoffset,ne=D.animationName,ye=D.animationDuration,de=D.animationIterationCount,we=D.animationTimingFunction,Ce=D.animationDirection;return Object(le.g)(Jc,wv({},S,{x1:c.x,y1:c.y,x2:h.x,y2:h.y},x,g?{strokeDasharray:R,stroke:H,style:{strokeDashoffset:Z,animationName:ne,animationDuration:ye,animationIterationCount:de,animationTimingFunction:we,animationDirection:Ce}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model,c=i.startPoint,h=i.endPoint,g=Pp({start:c,end:h}),x=g.d,S=g.strokeWidth,D=g.fill,R=g.strokeDasharray,H=g.stroke;return Object(le.g)(Ql,{d:x,fill:D,strokeWidth:S,stroke:H,strokeDasharray:R})}}])&&_w(e.prototype,n),a}(Jl);function Sv(t){return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function xw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Mb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Mb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ew=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=xw(n,2),a=r[0],i=r[1];(a==="style"||Sv(i)!=="object")&&(e[a]=i)}),Object(le.g)("polyline",e)};function jv(t){return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}function kb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function gd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kb(Object(n),!0).forEach(function(r){oa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pv(){return Pv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(this,arguments)}function Sw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Tb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Tb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Tb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Av(t,e){return Av=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Av(t,e)}function Pw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=md(t);if(e){var a=md(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Aw(this,n)}}function Aw(t,e){if(e&&(jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ra(t)}function ra(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function md(t){return md=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},md(t)}function oa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Av(i,c)})(a,t);var e,n,r=Pw(a);function a(){var i;return function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}(this,a),oa(ra(i=r.call(this)),"drag",void 0),oa(ra(i),"isDragging",void 0),oa(ra(i),"isShowAdjustPointTemp",void 0),oa(ra(i),"appendInfo",void 0),oa(ra(i),"onDragStart",function(){var c=i.props.model;c.dragAppendStart(),i.isShowAdjustPointTemp=c.isShowAdjustPoint,c.isShowAdjustPoint=!1}),oa(ra(i),"onDragging",function(c){var h=c.deltaX,g=c.deltaY,x=i.props,S=x.model,D=x.graphModel;i.isDragging=!0;var R=D.transformModel,H=D.editConfigModel,Z=Sw(R.fixDeltaXY(h,g),2),ne=Z[0],ye=Z[1],de=S,we=H.adjustEdgeMiddle;i.appendInfo=we?de.dragAppendSimple(i.appendInfo,{x:ne,y:ye}):de.dragAppend(i.appendInfo,{x:ne,y:ye})}),oa(ra(i),"onDragEnd",function(){var c=i.props,h=c.model,g=c.graphModel.eventCenter,x=h;x.dragAppendEnd(),i.isDragging=!1,x.isShowAdjustPoint=i.isShowAdjustPointTemp,i.appendInfo=void 0,g.emit(pt.EDGE_ADJUST,{data:x.getData()})}),oa(ra(i),"beforeDragStart",function(c,h){h.dragAble&&i.drag.handleMouseDown(c),i.appendInfo=h}),i.drag=new Do({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd,isStopPropagation:!1}),i}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.points,h=i.isAnimation,g=i.arrowConfig,x=i.getEdgeStyle(),S=i.getEdgeAnimationStyle(),D=S.strokeDasharray,R=S.stroke,H=S.strokeDashoffset,Z=S.animationName,ne=S.animationDuration,ye=S.animationIterationCount,de=S.animationTimingFunction,we=S.animationDirection;return Object(le.g)(Ew,Pv({points:c},x,g,h?{strokeDasharray:D,stroke:R,style:{strokeDashoffset:H,animationName:Z,animationDuration:ne,animationIterationCount:ye,animationTimingFunction:de,animationDirection:we}}:{}))}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=i.points,h=i.isSelected,g={start:null,end:null,hover:this.state.hover,isSelected:h},x=Ei(c);return x.length>=2&&(g.start=x[x.length-2],g.end=x[x.length-1]),g}},{key:"getLastTwoPoints",value:function(){var i=this.props.model.points,c=Ei(i);return c.length>=2?[c[c.length-2],c[c.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(i){var c,h=i.start,g=i.end;if(h.x===g.x&&h.y===g.y)c="";else{var x={start:h,end:g,offset:10,verticalLength:5},S=Zo(gd(gd({},x),{},{type:"start"})),D=Zo(gd(gd({},x),{},{type:"end"}));c="M".concat(S.leftX," ").concat(S.leftY,` 
      L`).concat(S.rightX," ").concat(S.rightY,` 
      L`).concat(D.rightX," ").concat(D.rightY,`
      L`).concat(D.leftX," ").concat(D.leftY," z")}return{d:c,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(i){var c=this.getAppendAttributes(i),h=c.d,g=c.strokeWidth,x=c.fill,S=c.strokeDasharray,D=c.stroke;return Object(le.g)(Ql,{d:h,fill:x,strokeWidth:g,stroke:D,strokeDasharray:S})}},{key:"getAppendWidth",value:function(){for(var i=this,c=this.props,h=c.model,g=c.graphModel,x=h.pointsList,S=h.draggable,D=[],R=x.length,H=function(ne){var ye="lf-polyline-append",de={start:{x:x[ne].x,y:x[ne].y},end:{x:x[ne+1].x,y:x[ne+1].y},startIndex:ne,endIndex:ne+1,direction:"",dragAble:!0},we=Object(le.g)("g",{className:ye},i.getAppendShape(de)),Ce=g.editConfigModel,Je=Ce.adjustEdge,qe=Ce.adjustEdgeMiddle;if(Je&&S){var mt=de.startIndex,$e=de.endIndex,dt=qe&&(mt===0||$e===R-1);de.dragAble=!dt,de.start.x===de.end.x?(de.dragAble&&(ye+="-ew-resize"),de.direction=mn.VERTICAL):de.start.y===de.end.y&&(de.dragAble&&(ye+="-ns-resize"),de.direction=mn.HORIZONTAL),we=Object(le.g)("g",{className:i.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(nt){return i.beforeDragStart(nt,de)}},Object(le.g)("g",{className:ye},i.getAppendShape(de)))}D.push(we)},Z=0;Z<R-1;Z++)H(Z);return Object(le.g)("g",null,D)}}])&&jw(e.prototype,n),a}(Jl);function kv(t){return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(t)}function Mw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Db(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Db(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Db(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tv(){return Tv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tv.apply(this,arguments)}function kw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dv(t,e){return Dv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dv(t,e)}function Dw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=bd(t);if(e){var a=bd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Nw(this,n)}}function Nw(t,e){if(e&&(kv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function bd(t){return bd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bd(t)}var Nv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Dv(i,c)})(a,t);var e,n,r=Dw(a);function a(){return kw(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.getEdgeStyle(),h=i.path,g=i.isAnimation,x=i.arrowConfig,S=i.getEdgeAnimationStyle(),D=S.strokeDasharray,R=S.stroke,H=S.strokeDashoffset,Z=S.animationName,ne=S.animationDuration,ye=S.animationIterationCount,de=S.animationTimingFunction,we=S.animationDirection;return Object(le.g)(Ql,Tv({d:h},c,x,g?{strokeDasharray:D,stroke:R,style:{strokeDashoffset:H,animationName:Z,animationDuration:ne,animationIterationCount:ye,animationTimingFunction:de,animationDirection:we}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model.path;return Object(le.g)(Ql,{d:i,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=this.state.hover,h=i.isSelected,g=i.getArrowStyle().offset,x=i.pointsList.map(function(D){return{x:D.x,y:D.y}}),S=Mw(Tl(x,g),2);return{start:S[0],end:S[1],hover:c,isSelected:h}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model,c=i.getArrowStyle().offset,h=i.pointsList.map(function(g){return{x:g.x,y:g.y}});return Tl(h,c)}}])&&Tw(e.prototype,n),a}(Jl);function Cv(t){return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}function Nb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Cw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rv(t,e){return Rv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Rv(t,e)}function Lw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=_d(t);if(e){var a=_d(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return zw(this,n)}}function zw(t,e){if(e&&(Cv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function _d(t){return _d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_d(t)}var Bw=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Rv(i,c)})(a,t);var e,n,r=Lw(a);function a(){return Rw(this,a),r.apply(this,arguments)}return e=a,n=[{key:"getArrowAttributes",value:function(){var i=this.props,c=i.arrowInfo,h=i.style,g=c.start,x=c.end,S={start:g,end:x,offset:h.offset,verticalLength:h.verticalLength,type:"end"},D=Zo(S),R=D.leftX,H=D.leftY,Z=D.rightX,ne=D.rightY;return function(ye){for(var de=1;de<arguments.length;de++){var we=arguments[de]!=null?arguments[de]:{};de%2?Nb(Object(we),!0).forEach(function(Ce){Cw(ye,Ce,we[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(we)):Nb(Object(we)).forEach(function(Ce){Object.defineProperty(ye,Ce,Object.getOwnPropertyDescriptor(we,Ce))})}return ye}({d:"M".concat(R," ").concat(H," L").concat(x.x," ").concat(x.y," L").concat(Z," ").concat(ne," z")},h)}},{key:"getShape",value:function(){var i=this.getArrowAttributes(),c=i.d,h=i.strokeWidth,g=i.stroke,x=i.fill;return Object(le.g)(Ql,{d:c,fill:x,strokeWidth:h,stroke:g})}},{key:"render",value:function(){return Object(le.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&Iw(e.prototype,n),a}(le.a),Cb=function(t,e){return Ee(t,e)},Fw=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Iv=function(){return ft.a.Date.now()},Uw=Math.max,Gw=Math.min,Xw=function(t,e,n){var r,a,i,c,h,g,x=0,S=!1,D=!1,R=!0;if(typeof t!="function")throw new TypeError("Expected a function");function H(Ce){var Je=r,qe=a;return r=a=void 0,x=Ce,c=t.apply(qe,Je)}function Z(Ce){return x=Ce,h=setTimeout(ye,e),S?H(Ce):c}function ne(Ce){var Je=Ce-g;return g===void 0||Je>=e||Je<0||D&&Ce-x>=i}function ye(){var Ce=Iv();if(ne(Ce))return de(Ce);h=setTimeout(ye,function(Je){var qe=e-(Je-g);return D?Gw(qe,i-(Je-x)):qe}(Ce))}function de(Ce){return h=void 0,R&&r?H(Ce):(r=a=void 0,c)}function we(){var Ce=Iv(),Je=ne(Ce);if(r=arguments,a=this,g=Ce,Je){if(h===void 0)return Z(g);if(D)return clearTimeout(h),h=setTimeout(ye,e),H(g)}return h===void 0&&(h=setTimeout(ye,e)),c}return e=mi(e)||0,Sn(n)&&(S=!!n.leading,i=(D="maxWait"in n)?Uw(mi(n.maxWait)||0,e):i,R="trailing"in n?!!n.trailing:R),we.cancel=function(){h!==void 0&&clearTimeout(h),x=0,r=g=a=h=void 0},we.flush=function(){return h===void 0?c:de(Iv())},we},Hw=o(172);function Yw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function za(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rb,Ib,Lb,Vw=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),za(this,"undos",[]),za(this,"redos",[]),za(this,"callbacks",[]),za(this,"stopWatch",null),za(this,"curData",null),za(this,"maxSize",50),za(this,"waitTime",100),za(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){Cb(Fw(this.undos),r)||(this.undos.push(r),Cb(this.curData,r)||(this.redos=[]),this.eventCenter.emit(pt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var a=this.undos.pop();return this.curData=xn(a),a}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=xn(r),r}}},{key:"watch",value:function(r){var a=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(Hw.a)(r,Xw(function(){var i=r.modelToHistoryData();i&&a.add(i)},this.waitTime))}}])&&Yw(e.prototype,n),t}();function Lv(t){return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}function Ww(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return zb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return zb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bb(Object(n),!0).forEach(function(r){Hu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zv(t,e){return zv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zv(t,e)}function Kw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Od(t);if(e){var a=Od(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $w(this,n)}}function $w(t,e){if(e&&(Lv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fs(t)}function fs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Od(t){return Od=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Od(t)}function Hu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ub,Gb,Xb,Bv=ii((Lb=Ib=function(t){(function(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),h&&zv(c,h)})(i,t);var e,n,r,a=Kw(i);function i(){var c;return function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,i),Hu(fs(c=a.call(this)),"ref",Object(le.f)()),Hu(fs(c),"__prevText",{type:"",text:"",id:""}),Hu(fs(c),"keyupHandler",function(h){var g=c.props.graphModel.textEditElement;h.key==="Enter"&&h.altKey&&g.setElementState(0)}),Hu(fs(c),"inputHandler",function(h){var g=h.target.innerText,x=c.props.graphModel.textEditElement;c.__prevText={type:x.type,text:g.replace(/(\r\n)+$|(\n)+$/,""),id:x.id}}),Hu(fs(c),"keydownHandler",function(h){h.stopPropagation()}),c.state={style:{left:0,top:0}},c}return e=i,r=[{key:"getDerivedStateFromProps",value:function(c){var h,g=c.graphModel,x=g.transformModel,S=g.theme,D=S.inputText,R=g.textEditElement;if(R){var H;if((H=R.text)===null||H===void 0||!H.value)if(R.BaseType===Bn.EDGE){var Z=(R=R).text,ne=R.textPosition,ye=ne.x,de=ne.y;Z.x=ye,Z.y=de,R.setText(Z)}else R=R;var we={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(R.BaseType===Bn.EDGE){var Ce=S.edgeText,Je=Ce.overflowMode,qe=Ce.lineHeight,mt=Ce.wrapPadding,$e=Ce.textWidth;$e&&Je==="autoWrap"&&(h=Xu(Xu({},we),{},{width:$e,minWidth:$e,lineHeight:qe,padding:mt}))}else if(R.BaseType===Bn.NODE){var dt=S.nodeText,nt=dt.overflowMode,$t=dt.lineHeight,Qt=dt.wrapPadding,Nt=dt.textWidth,rn=R,Xn=rn.width,Hn=rn.modelType,wr=rn.textWidth||Nt||Xn;(Hn!==Vt.TEXT_NODE&&nt==="autoWrap"||Hn===Vt.TEXT_NODE&&Nt)&&(h=Xu(Xu({},we),{},{width:wr,minWidth:wr,lineHeight:$t,padding:Qt}))}var vo=R.text,go=vo.x,Ci=vo.y,Yu=Ww(x.CanvasPointToHtmlPoint([go,Ci]),2);return{style:Xu(Xu({left:Yu[0],top:Yu[1]},h),D)}}}}],(n=[{key:"componentDidUpdate",value:function(){var c=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var h=this.__prevText,g=h.text,x=h.id;c.updateText(x,g),c.eventCenter.emit(pt.TEXT_UPDATE,Xu({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(c){if(window.getSelection!==void 0&&document.createRange!==void 0){var h=document.createRange();h.selectNodeContents(c),h.collapse(!1);var g=window.getSelection();g.removeAllRanges(),g.addRange(h)}}},{key:"render",value:function(){var c,h=this.props.graphModel.textEditElement,g=this.state.style;return h?Object(le.g)("div",{contentEditable:!0,className:"lf-text-input",style:g,ref:this.ref,key:h.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(c=h.text)===null||c===void 0?void 0:c.value):null}}])&&Fb(e.prototype,n),r&&Fb(e,r),i}(le.a),Hu(Ib,"toolName","textEdit"),Rb=Lb))||Rb,qw=function(t){return t.modelType===Vt.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,a=(n.x+r.x)/2,i=(n.y+r.y)/2,c=Math.abs(n.x-r.x)+10,h=Math.abs(n.y-r.y)+10;return{x:a-c/2,y:i-h/2,x1:a+c/2,y1:i+h/2}}(t):t.modelType===Vt.POLYLINE_EDGE?function(e){var n=e.points,r=Ei(n),a=xi(r,8),i=a.x,c=a.y,h=a.width,g=a.height;return{x:i-h/2,y:c-g/2,x1:i+h/2,y1:c+g/2}}(t):t.modelType===Vt.BEZIER_EDGE?function(e){var n=e.path,r=ur(n),a=xi(r,8),i=a.x,c=a.y,h=a.width,g=a.height;return{x:i-h/2,y:c-g/2,x1:i+h/2,y1:c+g/2}}(t):void 0};function Fv(t){return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(t)}function Hb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(S){x=!0,c=S}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||Yb(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zw(t){return function(e){if(Array.isArray(e))return Uv(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Yb(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yb(t,e){if(t){if(typeof t=="string")return Uv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uv(t,e):void 0}}function Uv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gv(t,e){return Gv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Gv(t,e)}function Qw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=wd(t);if(e){var a=wd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ex(this,n)}}function ex(t,e){if(e&&(Fv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ef(t)}function ef(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wd(t){return wd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wd(t)}function tf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xv=ii((Xb=Gb=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Gv(i,c)})(a,t);var e,n,r=Qw(a);function a(i){var c;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,a),tf(ef(c=r.call(this)),"stepDrag",void 0),tf(ef(c),"handleMouseDown",function(S){c.stepDrag.handleMouseDown(S)}),tf(ef(c),"onDragging",function(S){var D=S.deltaX,R=S.deltaY,H=c.props.graphModel,Z=H.getSelectElements(!0);H.moveNodes(Z.nodes.map(function(ne){return ne.id}),D,R)}),tf(ef(c),"handleContextMenu",function(S){S.preventDefault();var D=c.props,R=D.graphModel,H=D.graphModel,Z=H.eventCenter,ne=H.selectElements,ye=R.getPointByClient({x:S.clientX,y:S.clientY}),de={nodes:[],edges:[]};Zw(ne.values()).forEach(function(we){we.BaseType===Bn.NODE&&de.nodes.push(we.getData()),we.BaseType===Bn.EDGE&&de.edges.push(we.getData())}),Z.emit(pt.SELECTION_CONTEXTMENU,{data:de,e:S,position:ye})});var h=i.graphModel,g=h.gridSize,x=h.eventCenter;return c.stepDrag=new Do({onDragging:c.onDragging,step:g,eventType:"SELECTION",eventCenter:x}),c}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel,c=i.selectElements,h=i.transformModel;if(!(c.size<=1)){var g=Number.MAX_SAFE_INTEGER,x=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER,D=Number.MIN_SAFE_INTEGER;c.forEach(function(ne){var ye={x:0,y:0,x1:0,y1:0};ne.BaseType===Bn.NODE&&(ye=function(de){var we=de.x,Ce=de.y,Je=de.width,qe=de.height;return{x:we-Je/2,y:Ce-qe/2,x1:we+Je/2,y1:Ce+qe/2}}(ne)),ne.BaseType===Bn.EDGE&&(ye=qw(ne)),g=Math.min(g,ye.x),x=Math.min(x,ye.y),S=Math.max(S,ye.x1),D=Math.max(D,ye.y1)});var R=Hb(h.CanvasPointToHtmlPoint([g,x]),2);g=R[0],x=R[1];var H=Hb(h.CanvasPointToHtmlPoint([S,D]),2);S=H[0],D=H[1];var Z={left:"".concat(g-10,"px"),top:"".concat(x-10,"px"),width:"".concat(S-g+20,"px"),height:"".concat(D-x+20,"px")};return Object(le.g)("div",{className:"lf-multiple-select",style:Z,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&Jw(e.prototype,n),a}(le.a),tf(Gb,"toolName","multipleSelect"),Ub=Xb))||Ub;function tx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nx=function(){function t(r){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),xd(this,"tools",void 0),xd(this,"components",void 0),xd(this,"toolMap",new Map),xd(this,"instance",void 0),this.instance=r,this.isDisabledTool(Bv.toolName)||this.registerTool(Bv.toolName,Bv),this.isDisabledTool(Xv.toolName)||this.registerTool(Xv.toolName,Xv);var a=r.graphModel;a.eventCenter.on("".concat(pt.GRAPH_TRANSFORM,",").concat(pt.NODE_CLICK,",").concat(pt.BLANK_CLICK," "),function(){var i=a.textEditElement,c=a.editConfigModel,h=c.edgeTextEdit,g=c.nodeTextEdit;(h||g)&&i&&a.textEditElement.setElementState(cn.DEFAULT)})}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,a){this.toolMap.set(r,a)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&tx(e.prototype,n),t}(),rx=o(173),ox=o.n(rx);function ix(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vb=function(){function t(r){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Hv(this,"mousetrap",void 0),Hv(this,"options",void 0),Hv(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var a=r.lf;this.target=a.container,this.mousetrap=new ox.a(this.target),r.keyboard.enabled&&!a.options.isSilentMode&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,a=this.options.keyboard.shortcuts;if(a)if(vn(a))a.forEach(function(g){var x=g.keys,S=g.callback,D=g.action;return r.on(x,S,D)});else{var i=a.keys,c=a.callback,h=a.action;this.on(i,c,h)}}},{key:"on",value:function(r,a,i){this.mousetrap.bind(this.getKeys(r),a,i)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,a){this.mousetrap.unbind(this.getKeys(r),a)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var a=this;return(Array.isArray(r)?r:[r]).map(function(i){return a.formatKey(i)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&ix(e.prototype,n),t}(),ax=Vb,ia=null;function Wb(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function Kb(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}var ps=40,Yv=40;function Vv(t){return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function $b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$b(Object(n),!0).forEach(function(r){Ln(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$b(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wv=Symbol("plugin register by Logicflow.use"),Kv=function(){function t(a){var i,c,h=this;(function(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")})(this,t),Ln(this,"container",void 0),Ln(this,"width",void 0),Ln(this,"height",void 0),Ln(this,"graphModel",void 0),Ln(this,"history",void 0),Ln(this,"viewMap",new Map),Ln(this,"tool",void 0),Ln(this,"keyboard",void 0),Ln(this,"dnd",void 0),Ln(this,"options",void 0),Ln(this,"snaplineModel",void 0),Ln(this,"components",[]),Ln(this,"plugins",void 0),Ln(this,"extension",{}),Ln(this,"adapterIn",void 0),Ln(this,"adapterOut",void 0),Ln(this,"getView",function(g){return h.viewMap.get(g)}),a=Vg(a),this.options=a,this.container=this.initContainer(a.container),this.plugins=a.plugins,this.graphModel=new d_(nf({},a)),this.tool=new nx(this),this.history=new Vw(this.graphModel.eventCenter),this.dnd=new s1({lf:this}),this.keyboard=new ax({lf:this,keyboard:a.keyboard}),a.snapline!==!1&&(this.snaplineModel=new ab(this.graphModel),i=this.graphModel.eventCenter,c=this.snaplineModel,i.on("node:mousemove",function(g){var x=g.data;c.setNodeSnapLine(x)}),i.on("node:mouseup",function(){c.clearSnapline()})),function(g,x){var S=g.keyboard,D=S.options.keyboard;S.on(["cmd + c","ctrl + c"],function(){if(Yv=ps,!D.enabled||x.textEditElement)return!0;var R=g.options.guards,H=x.getSelectElements(!1);return R&&R.beforeClone&&!R.beforeClone(H)||H.nodes.length===0&&H.edges.length===0?(ia=null,!0):((ia=H).nodes.forEach(function(Z){return Wb(Z,ps)}),ia.edges.forEach(function(Z){return Kb(Z,ps)}),!1)}),S.on(["cmd + v","ctrl + v"],function(){if(!D.enabled||x.textEditElement)return!0;if(ia&&(ia.nodes||ia.edges)){g.clearSelectElements();var R=g.addElements(ia,Yv);if(!R)return!0;R.nodes.forEach(function(H){return g.selectElementById(H.id,!0)}),R.edges.forEach(function(H){return g.selectElementById(H.id,!0)}),ia.nodes.forEach(function(H){return Wb(H,ps)}),ia.edges.forEach(function(H){return Kb(H,ps)}),Yv+=ps}return!1}),S.on(["cmd + z","ctrl + z"],function(){return!D.enabled||!!x.textEditElement||(g.undo(),!1)}),S.on(["cmd + y","ctrl + y"],function(){return!D.enabled||!!x.textEditElement||(g.redo(),!1)}),S.on(["backspace"],function(){if(!D.enabled||x.textEditElement)return!0;var R=x.getSelectElements(!0);return g.clearSelectElements(),R.edges.forEach(function(H){return g.deleteEdge(H.id)}),R.nodes.forEach(function(H){return g.deleteNode(H.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(a.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(a,i){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof a=="string"){var h={BaseEdge:Jl,BaseEdgeModel:vl,BaseNode:ta,BaseNodeModel:ea,RectNode:By,RectNodeModel:vy,CircleNode:Xy,CircleNodeModel:Zh,PolygonNode:Ky,PolygonNodeModel:py,TextNode:av,TextNodeModel:_y,LineEdge:Ev,LineEdgeModel:Lc,DiamondNode:Jy,DiamondNodeModel:ny,PolylineEdge:Mv,PolylineEdgeModel:Au,BezierEdge:Nv,BezierEdgeModel:Yh,EllipseNode:rv,EllipseNodeModel:ay,HtmlNode:lv,HtmlNodeModel:xy,h:le.g,type:a};this.viewMap.forEach(function(R){var H=R.extendKey;H&&(h[H]=R)}),this.graphModel.modelMap.forEach(function(R){var H=R.extendKey;H&&(h[H]=R)});var g=i(h),x=g.view,S=g.model,D=x;c&&!D.isObervered&&(D.isObervered=!0,D=st(D)),this.setView(a,D),this.graphModel.setModel(a,S)}else this.registerElement(a)}},{key:"registerElement",value:function(a){var i=a.view;a.isObserverView===!1||i.isObervered||(i.isObervered=!0,i=st(i)),this.setView(a.type,i),this.graphModel.setModel(a.type,a.model)}},{key:"batchRegister",value:function(){var a=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(function(c){a.registerElement(c)})}},{key:"defaultRegister",value:function(){this.registerElement({view:By,model:vy,type:"rect"}),this.registerElement({type:"circle",view:Xy,model:Zh}),this.registerElement({type:"polygon",view:Ky,model:py}),this.registerElement({type:"line",view:Ev,model:Lc}),this.registerElement({type:"polyline",view:Mv,model:Au}),this.registerElement({type:"bezier",view:Nv,model:Yh}),this.registerElement({type:"text",view:av,model:_y}),this.registerElement({type:"ellipse",view:rv,model:ay}),this.registerElement({type:"diamond",view:Jy,model:ny}),this.registerElement({type:"html",view:lv,model:xy})}},{key:"selectElementById",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(a,i),!i&&c&&this.graphModel.toFront(a)}},{key:"focusOn",value:function(a){var i=this.graphModel.transformModel,c=a.coordinate,h=a.id;if(!c){var g=this.getNodeModelById(h);g&&(c=g.getData());var x=this.getEdgeModelById(h);x&&(c=x.textPosition)}var S=c,D=S.x,R=S.y;i.focusOn(D,R,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(a){this.graphModel.setTheme(a)}},{key:"resize",value:function(a,i){this.graphModel.resize(a,i),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(a){this.graphModel.setDefaultEdgeType(a)}},{key:"updateText",value:function(a,i){this.graphModel.updateText(a,i)}},{key:"deleteElement",value:function(a){var i,c,h,g=this.getModelById(a);return!!g&&(c=(h=(Ln(i={},Bn.NODE,this.deleteNode),Ln(i,Bn.EDGE,this.deleteEdge),i)[g.BaseType])===null||h===void 0?void 0:h.call(this,a))!==null&&c!==void 0&&c}},{key:"getModelById",value:function(a){return this.graphModel.getElement(a)}},{key:"getDataById",value:function(a){var i;return(i=this.graphModel.getElement(a))===null||i===void 0?void 0:i.getData()}},{key:"changeNodeType",value:function(a,i){this.graphModel.changeNodeType(a,i)}},{key:"changeEdgeType",value:function(a,i){this.graphModel.changeEdgeType(a,i)}},{key:"getNodeEdges",value:function(a){return this.graphModel.getNodeEdges(a)}},{key:"addNode",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt.NODE_ADD,c=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(a,i,c)}},{key:"deleteNode",value:function(a){var i=this.graphModel.getNodeModelById(a);if(!i)return!1;var c=i.getData(),h=this.options.guards,g=!h||!h.beforeDelete||h.beforeDelete(c);return g&&this.graphModel.deleteNode(a),g}},{key:"cloneNode",value:function(a){var i=this.graphModel.getNodeModelById(a).getData(),c=this.options.guards;if(!c||!c.beforeClone||c.beforeClone(i))return this.graphModel.cloneNode(a)}},{key:"changeNodeId",value:function(a,i){return this.graphModel.changeNodeId(a,i)}},{key:"getNodeModelById",value:function(a){return this.graphModel.getNodeModelById(a)}},{key:"getNodeDataById",value:function(a){var i;return(i=this.graphModel.getNodeModelById(a))===null||i===void 0?void 0:i.getData()}},{key:"addEdge",value:function(a){return this.graphModel.addEdge(a)}},{key:"deleteEdge",value:function(a){var i=this.options.guards,c=this.graphModel.edgesMap[a];if(!c)return!1;var h=c.model.getData(),g=!i||!i.beforeDelete||i.beforeDelete(h);return g&&this.graphModel.deleteEdgeById(a),g}},{key:"deleteEdgeByNodeId",value:function(a){var i=a.sourceNodeId,c=a.targetNodeId;i&&c?this.graphModel.deleteEdgeBySourceAndTarget(i,c):i?this.graphModel.deleteEdgeBySource(i):c&&this.graphModel.deleteEdgeByTarget(c)}},{key:"changeEdgeId",value:function(a,i){return this.graphModel.changeEdgeId(a,i)}},{key:"getEdgeModelById",value:function(a){var i;return(i=this.graphModel.edgesMap[a])===null||i===void 0?void 0:i.model}},{key:"getEdgeModels",value:function(a){var i=this.graphModel.edges,c=a.sourceNodeId,h=a.targetNodeId;if(c&&h){var g=[];return i.forEach(function(D){D.sourceNodeId===c&&D.targetNodeId===h&&g.push(D)}),g}if(c){var x=[];return i.forEach(function(D){D.sourceNodeId===c&&x.push(D)}),x}if(h){var S=[];return i.forEach(function(D){D.targetNodeId===h&&S.push(D)}),S}return[]}},{key:"getEdgeDataById",value:function(a){var i;return(i=this.getEdgeModelById(a))===null||i===void 0?void 0:i.getData()}},{key:"getNodeIncomingEdge",value:function(a){return this.graphModel.getNodeIncomingEdge(a)}},{key:"getNodeOutgoingEdge",value:function(a){return this.graphModel.getNodeOutgoingEdge(a)}},{key:"getNodeIncomingNode",value:function(a){return this.graphModel.getNodeIncomingNode(a)}},{key:"getNodeOutgoingNode",value:function(a){return this.graphModel.getNodeOutgoingNode(a)}},{key:"editText",value:function(a){this.graphModel.editText(a)}},{key:"setProperties",value:function(a,i){var c;(c=this.graphModel.getElement(a))===null||c===void 0||c.setProperties(or(i))}},{key:"deleteProperty",value:function(a,i){var c;(c=this.graphModel.getElement(a))===null||c===void 0||c.deleteProperty(i)}},{key:"getProperties",value:function(a){var i;return(i=this.graphModel.getElement(a))===null||i===void 0?void 0:i.getProperties()}},{key:"toFront",value:function(a){this.graphModel.toFront(a)}},{key:"setElementZIndex",value:function(a,i){return this.graphModel.setElementZIndex(a,i)}},{key:"addElements",value:function(a){for(var i=this,c=a.nodes,h=a.edges,g={},x={nodes:[],edges:[]},S=0;S<c.length;S++){var D=c[S],R=D.id,H=this.addNode(D);if(!H)return;R&&(g[R]=H.id),x.nodes.push(H)}return h.forEach(function(Z){var ne=Z.sourceNodeId,ye=Z.targetNodeId;g[ne]&&(ne=g[ne]),g[ye]&&(ye=g[ye]);var de=i.graphModel.addEdge(nf(nf({},Z),{},{sourceNodeId:ne,targetNodeId:ye}));x.edges.push(de)}),x}},{key:"getAreaElement",value:function(a,i){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],g=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(a,i,c,h,g).map(function(x){return x.getData()})}},{key:"getSelectElements",value:function(){var a=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(a)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var a=this.graphModel.modelToGraphData();if(this.adapterOut){for(var i=arguments.length,c=new Array(i),h=0;h<i;h++)c[h]=arguments[h];return this.adapterOut.apply(this,[a].concat(c))}return a}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(a){var i=this.graphModel,c=i.editConfigModel,h=i.transformModel;c.updateEditConfig(a),(a==null?void 0:a.stopMoveGraph)!==void 0&&h.updateTranslateLimits(a.stopMoveGraph),a!=null&&a.isSilentMode?this.keyboard.disable():this.keyboard.enable(!0)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(a,i){return this.graphModel.getPointByClient({x:a,y:i})}},{key:"undo",value:function(){if(this.history.undoAble()){var a=or(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"redo",value:function(){if(this.history.redoAble()){var a=or(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"zoom",value:function(a,i){return this.graphModel.transformModel.zoom(a,i)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(a){this.graphModel.transformModel.setZoomMiniSize(a)}},{key:"setZoomMaxSize",value:function(a){this.graphModel.transformModel.setZoomMaxSize(a)}},{key:"getTransform",value:function(){var a=this.graphModel.transformModel;return{SCALE_X:a.SCALE_X,SCALE_Y:a.SCALE_Y,TRANSLATE_X:a.TRANSLATE_X,TRANSLATE_Y:a.TRANSLATE_Y}}},{key:"translate",value:function(a,i){this.graphModel.transformModel.translate(a,i)}},{key:"resetTranslate",value:function(){var a=this.graphModel.transformModel,i=a.TRANSLATE_X,c=a.TRANSLATE_Y;this.translate(-i,-c)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(a,i){i===void 0&&(i=a),this.graphModel.fitView(a,i)}},{key:"openEdgeAnimation",value:function(a){this.graphModel.openEdgeAnimation(a)}},{key:"closeEdgeAnimation",value:function(a){this.graphModel.closeEdgeAnimation(a)}},{key:"on",value:function(a,i){this.graphModel.eventCenter.on(a,i)}},{key:"off",value:function(a,i){this.graphModel.eventCenter.off(a,i)}},{key:"once",value:function(a,i){this.graphModel.eventCenter.once(a,i)}},{key:"emit",value:function(a,i){this.graphModel.eventCenter.emit(a,i)}},{key:"initContainer",value:function(a){var i=document.createElement("div");return i.style.position="relative",i.style.width="100%",i.style.height="100%",a.innerHTML="",a.appendChild(i),i}},{key:"installPlugins",value:function(){var a,i=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=(a=this.plugins)!==null&&a!==void 0?a:t.extensions;h.forEach(function(g){var x=null,S=null;g[Wv]?(x=g.extension,S=g.props):x=g;var D=x.pluginName||x.name;c.indexOf(D)===-1&&i.installPlugin(x,S)})}},{key:"installPlugin",value:function(a,i){if(Vv(a)==="object"){var c=a.install,h=a.render;return c&&c.call(a,this,t),h&&this.components.push(h.bind(a)),void(this.extension[a.pluginName]=a)}var g=a,x=new g({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:i});x.render&&this.components.push(x.render.bind(x)),this.extension[g.pluginName]=x}},{key:"updateAttributes",value:function(a,i){this.graphModel.updateAttributes(a,i)}},{key:"createFakerNode",value:function(a){var i=this.graphModel.modelMap.get(a.type);if(i){var c=new i(nf(nf({},a),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(c),c}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(a){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(a)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(a,i){this.viewMap.set(a,i)}},{key:"renderRawData",value:function(a){this.graphModel.graphDataToModel(or(a)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(le.j)(Object(le.g)(u1,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(pt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(a=this.adapterIn(a)),this.renderRawData(a)}}],r=[{key:"use",value:function(a,i){var c,h,g=a.pluginName;g||(g=a.name);var x=(c=this.extensions.get(g))===null||c===void 0?void 0:c.extension;x&&x.destroy&&x.destroy(),this.extensions.set(g,(Ln(h={},Wv,Wv),Ln(h,"extension",a),Ln(h,"props",i),h))}}],n&&qb(e.prototype,n),r&&qb(e,r),t}();function ii(t){return st(t)}Ln(Kv,"extensions",new Map),p.default=Kv}])})})(Jv,Jv.exports);var ot=Jv.exports;const ds=Dx(ot);var Ux=function(){function m(){globalThis._ids=this,this._ids=new Set}return m.prototype.generateId=function(){var y="xxxxxxx".replace(/[x]/g,function(s){var p=Math.random()*16|0,o=s==="x"?p:p&3|8;return o.toString(16)});return y},m.prototype.next=function(){for(var y=this.generateId();this._ids.has(y);)y=this.generateId();return this._ids.add(y),y},m}(),Gx=(globalThis==null?void 0:globalThis._ids)||new Ux;function bs(){return Gx.next()}var B0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},m(y,s)};return function(y,s){m(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Xx=function(m){B0(y,m);function y(s,p){var o=this;return s.id||(s.id="Event_"+bs()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=m.call(this,s,p)||this,o}return y.prototype.setAttributes=function(){this.r=18},y.prototype.getConnectedTargetRules=function(){var s=m.prototype.getConnectedTargetRules.call(this),p={message:"起始节点不能作为边的终点",validate:function(){return!1}};return s.push(p),s},y.extendKey="StartEventModel",y}(ot.CircleNodeModel),Hx=function(m){B0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.extendKey="StartEventNode",y}(ot.CircleNode),Yx={type:"bpmn:startEvent",view:Hx,model:Xx},F0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},m(y,s)};return function(y,s){m(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Rd=function(){return Rd=Object.assign||function(m){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Rd.apply(this,arguments)},Vx=function(m){F0(y,m);function y(s,p){var o=this;return s.id||(s.id="Event_"+bs()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=m.call(this,s,p)||this,o}return y.prototype.setAttributes=function(){this.r=18},y.prototype.getConnectedSourceRules=function(){var s=m.prototype.getConnectedSourceRules.call(this),p={message:"结束节点不能作为边的起点",validate:function(){return!1}};return s.push(p),s},y.extendKey="EndEventModel",y}(ot.CircleNodeModel),Wx=function(m){F0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},y.prototype.getShape=function(){var s=this.props.model,p=s.getNodeStyle(),o=s.x,f=s.y,d=s.r,O=m.prototype.getShape.call(this);return ot.h("g",{},O,ot.h("circle",Rd(Rd({},p),{cx:o,cy:f,r:d-5})))},y.extendKey="EndEventView",y}(ot.CircleNode),Kx={type:"bpmn:endEvent",view:Wx,model:Vx},U0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},m(y,s)};return function(y,s){m(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),cf=function(){return cf=Object.assign||function(m){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},cf.apply(this,arguments)},$x=function(m){U0(y,m);function y(s,p){var o=this;return s.id||(s.id="Gateway_"+bs()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=m.call(this,s,p)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return y.extendKey="ExclusiveGatewayModel",y}(ot.PolygonNodeModel),qx=function(m){U0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getShape=function(){var s=this.props.model,p=s.x,o=s.y,f=s.width,d=s.height,O=s.points,v=s.getNodeStyle();return ot.h("g",{transform:"matrix(1 0 0 1 "+(p-f/2)+" "+(o-d/2)+")"},ot.h("polygon",cf(cf({},v),{x:p,y:o,points:O})),ot.h("path",cf({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},v)))},y.extendKey="ExclusiveGatewayNode",y}(ot.PolygonNode),Zx={type:"bpmn:exclusiveGateway",view:qx,model:$x},G0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},m(y,s)};return function(y,s){m(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Id=function(){return Id=Object.assign||function(m){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Id.apply(this,arguments)},Jx=function(m){G0(y,m);function y(s,p){var o=this;return s.id||(s.id="Activity_"+bs()),o=m.call(this,s,p)||this,o}return y.extendKey="UserTaskModel",y}(ot.RectNodeModel),Qx=function(m){G0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var s=this.props.model,p=s.x,o=s.y,f=s.width,d=s.height,O=s.getNodeStyle();return ot.h("svg",{x:p-f/2+5,y:o-d/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},ot.h("path",{fill:O.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},y.prototype.getShape=function(){var s=this.props.model,p=s.x,o=s.y,f=s.width,d=s.height,O=s.radius,v=s.getNodeStyle();return ot.h("g",{},[ot.h("rect",Id(Id({},v),{x:p-f/2,y:o-d/2,rx:O,ry:O,width:f,height:d})),this.getLabelShape()])},y.extendKey="UserTaskNode",y}(ot.RectNode),eE={type:"bpmn:userTask",view:Qx,model:Jx},X0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},m(y,s)};return function(y,s){m(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Qv=function(){return Qv=Object.assign||function(m){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Qv.apply(this,arguments)},tE=function(m){X0(y,m);function y(s,p){var o=this;return s.id||(s.id="Activity_"+bs()),o=m.call(this,s,p)||this,o}return y.extendKey="ServiceTaskModel",y}(ot.RectNodeModel),nE=function(m){X0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var s=this.props.model,p=s.x,o=s.y,f=s.width,d=s.height,O=s.getNodeStyle();return ot.h("svg",{x:p-f/2+5,y:o-d/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},ot.h("path",{fill:O.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},y.prototype.getShape=function(){var s=this.props.model,p=s.x,o=s.y,f=s.width,d=s.height,O=s.radius,v=s.getNodeStyle();return ot.h("g",{},[ot.h("rect",Qv({x:p-f/2,y:o-d/2,rx:O,ry:O,width:f,height:d},v)),this.getLabelShape()])},y.extendKey="ServiceTaskNode",y}(ot.RectNode),rE={type:"bpmn:serviceTask",view:nE,model:tE},H0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},m(y,s)};return function(y,s){m(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),oE=function(m){H0(y,m);function y(s,p){var o=this;return s.id||(s.id="Flow_"+bs()),o=m.call(this,s,p)||this,o}return y.extendKey="SequenceFlowModel",y}(ot.PolylineEdgeModel),iE=function(m){H0(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.extendKey="SequenceFlowEdge",y}(ot.PolylineEdge),aE={type:"bpmn:sequenceFlow",view:iE,model:oE},o0={width:40,height:40},i0={width:40,height:40},a0={width:40,height:40},u0={width:100,height:80},c0={width:100,height:80},uE={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},cE=function(){function m(y){var s=y.lf;s.setTheme(uE),s.register(Yx),s.register(Kx),s.register(Zx),s.register(eE),s.register(rE),s.options.customBpmnEdge||(s.register(aE),s.setDefaultEdgeType("bpmn:sequenceFlow"))}return m.pluginName="bpmnElement",m}(),sE=function(){function m(){globalThis._ids=this,this._ids=new Set}return m.prototype.generateId=function(){var y="xxxxxxx".replace(/[x]/g,function(s){var p=Math.random()*16|0,o=s==="x"?p:p&3|8;return o.toString(16)});return y},m.prototype.next=function(){for(var y=this.generateId();this._ids.has(y);)y=this.generateId();return this._ids.add(y),y},m}(),lE=(globalThis==null?void 0:globalThis._ids)||new sE;function s0(){return lE.next()}function Y0(m){return Object.prototype.toString.call(m)}function fE(m){return"  ".repeat(m)}function Ld(m){var y=m;return Y0(m)==="[object Object]"?(y={},Object.keys(m).forEach(function(s){var p=s;s.charAt(0)==="-"&&(p=s.substring(1)),y[p]=Ld(m[s])})):Array.isArray(m)&&(y=[],m.forEach(function(s,p){y[p]=Ld(s)})),y}function pE(m){var y=m;try{typeof y!="string"&&(y=JSON.parse(m))}catch(s){y=JSON.stringify(Ld(m)).replace(/"/g,"'")}return y}var hs=`	
`;function Td(m,y,s){var p=fE(s),o="";if(y==="#text")return hs+p+m;if(y==="#cdata-section")return hs+p+"<![CDATA["+m+"]]>";if(y==="#comment")return hs+p+"<!--"+m+"-->";if((""+y).charAt(0)==="-")return" "+y.substring(1)+'="'+pE(m)+'"';if(Array.isArray(m))m.forEach(function(v){o+=Td(v,y,s+1)});else if(Y0(m)==="[object Object]"){var f=Object.keys(m),d="",O="";o+=(s===0?"":hs+p)+"<"+y,f.forEach(function(v){v.charAt(0)==="-"?d+=Td(m[v],v,s+1):O+=Td(m[v],v,s+1)}),o+=d+(O!==""?">"+O+(hs+p)+"</"+y+">":" />")}else o+=hs+p+("<"+y+">"+m.toString()+"</"+y+">");return o}function dE(m){var y="";for(var s in m)y+=Td(m[s],s,0);return y}var Yr=function(){};Yr.ObjTree=function(){return this};Yr.ObjTree.VERSION="0.23";Yr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Yr.ObjTree.prototype.attr_prefix="-";Yr.ObjTree.prototype.parseXML=function(m){var y;if(window.DOMParser){var s=new DOMParser,p=s.parseFromString(m,"application/xml");if(!p)return;y=p.documentElement}else window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLDOM"),s.async=!1,s.loadXML(m),y=s.documentElement);if(y)return this.parseDOM(y)};Yr.ObjTree.prototype.parseHTTP=function(m,y,s){var p={};for(var o in y)p[o]=y[o];if(p.method||(typeof p.postBody=="undefined"&&typeof p.postbody=="undefined"&&typeof p.parameters=="undefined"?p.method="get":p.method="post"),s){p.asynchronous=!0;var f=this,d=s,O=p.onComplete;p.onComplete=function(M){var A;M&&M.responseXML&&M.responseXML.documentElement&&(A=f.parseDOM(M.responseXML.documentElement)),d(A,M),O&&O(M)}}else p.asynchronous=!1;var v;if(typeof HTTP!="undefined"&&HTTP.Request){p.uri=m;var E=new HTTP.Request(p);E&&(v=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(m,p);E&&(v=E.transport)}if(s)return v;if(v&&v.responseXML&&v.responseXML.documentElement)return this.parseDOM(v.responseXML.documentElement)};Yr.ObjTree.prototype.parseDOM=function(m){if(m){if(this.__force_array={},this.force_array)for(var y=0;y<this.force_array.length;y++)this.__force_array[this.force_array[y]]=1;var s=this.parseElement(m);if(this.__force_array[m.nodeName]&&(s=[s]),m.nodeType!=11){var p={};p[m.nodeName]=s,s=p}return s}};Yr.ObjTree.prototype.parseElement=function(m){if(m.nodeType!=7){if(m.nodeType==3||m.nodeType==4||m.nodeType==8){var y=m.nodeValue.match(/[^\x00-\x20]/);return y==null?void 0:m.nodeValue}var s=null,p={};if(m.attributes&&m.attributes.length){s={};for(var o=0;o<m.attributes.length;o++){var f=m.attributes[o].nodeName;if(typeof f=="string"){var d=m.attributes[o].nodeValue;try{d=JSON.parse(m.attributes[o].nodeValue.replace(/'/g,'"'))}catch(E){d=m.attributes[o].nodeValue}d&&(f=this.attr_prefix+f,typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(s,f,p[f],d))}}}if(m.childNodes&&m.childNodes.length){var O=!0;s&&(O=!1);for(var o=0;o<m.childNodes.length&&O;o++){var v=m.childNodes[o].nodeType;v==3||v==4||v==8||(O=!1)}if(O){s||(s="");for(var o=0;o<m.childNodes.length;o++)s+=m.childNodes[o].nodeValue}else{s||(s={});for(var o=0;o<m.childNodes.length;o++){var f=m.childNodes[o].nodeName;if(typeof f=="string"){var d=this.parseElement(m.childNodes[o]);d&&(typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(s,f,p[f],d))}}}}else s===null&&(s={});return s}};Yr.ObjTree.prototype.addNode=function(m,y,s,p){this.__force_array[y]?(s==1&&(m[y]=[]),m[y][m[y].length]=p):s==1?m[y]=p:s==2?m[y]=[m[y],p]:m[y][m[y].length]=p};Yr.ObjTree.prototype.writeXML=function(m){var y=this.hash_to_xml(null,m);return this.xmlDecl+y};Yr.ObjTree.prototype.hash_to_xml=function(m,y){var s=[],p=[];for(var o in y)if(y.hasOwnProperty(o)){var f=y[o];o.charAt(0)!=this.attr_prefix?typeof f=="undefined"||f==null?s[s.length]="<"+o+" />":typeof f=="object"&&f.constructor==Array?s[s.length]=this.array_to_xml(o,f):typeof f=="object"?s[s.length]=this.hash_to_xml(o,f):s[s.length]=this.scalar_to_xml(o,f):p[p.length]=" "+o.substring(1)+'="'+this.xml_escape(f)+'"'}var d=p.join(""),O=s.join("");return typeof m=="undefined"||m==null||(s.length>0?O.match(/\n/)?O="<"+m+d+`>
`+O+"</"+m+`>
`:O="<"+m+d+">"+O+"</"+m+`>
`:O="<"+m+d+` />
`),O};Yr.ObjTree.prototype.array_to_xml=function(m,y){for(var s=[],p=0;p<y.length;p++){var o=y[p];typeof o=="undefined"||o==null?s[s.length]="<"+m+" />":typeof o=="object"&&o.constructor==Array?s[s.length]=this.array_to_xml(m,o):typeof o=="object"?s[s.length]=this.hash_to_xml(m,o):s[s.length]=this.scalar_to_xml(m,o)}return s.join("")};Yr.ObjTree.prototype.scalar_to_xml=function(m,y){return m=="#text"?this.xml_escape(y):"<"+m+">"+this.xml_escape(y)+"</"+m+`>
`};Yr.ObjTree.prototype.xml_escape=function(m){return m.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var hE=function(m){return new Yr.ObjTree().parseXML(m)},yE=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},m(y,s)};return function(y,s){m(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),eg=function(){return eg=Object.assign||function(m){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},eg.apply(this,arguments)},Vd=function(m,y){var s=typeof Symbol=="function"&&m[Symbol.iterator];if(!s)return m;var p=s.call(m),o,f=[],d;try{for(;(y===void 0||y-- >0)&&!(o=p.next()).done;)f.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f},Ri;(function(m){m.START="bpmn:startEvent",m.END="bpmn:endEvent",m.GATEWAY="bpmn:exclusiveGateway",m.USER="bpmn:userTask",m.SYSTEM="bpmn:serviceTask",m.FLOW="bpmn:sequenceFlow"})(Ri||(Ri={}));var V0=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],l0=["properties","startPoint","endPoint","pointsList"];function f0(m){var y=m?l0.concat(m):l0;return function(s){function p(o){var f={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(d){return p(d)}):(Object.entries(o).forEach(function(d){var O=Vd(d,2),v=O[0],E=O[1];typeof E!="object"?v.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(v)?f[v]=E:f["-"+v]=E:y.includes(v)?f["-"+v]=p(E):f[v]=p(E)}),f)}return p(s)}}function zd(m){var y={};return Object.entries(m).forEach(function(s){var p=Vd(s,2),o=p[0],f=p[1];o.indexOf("-")===0?y[o.substring(1)]=Ld(f):typeof f=="string"?y[o]=f:Object.prototype.toString.call(f)==="[object Object]"?y[o]=zd(f):Array.isArray(f)?y[o]=f.map(function(d){return zd(d)}):y[o]=f}),y}function vE(m,y,s){var p=new Map;y.nodes.forEach(function(f){var d,O={"-id":f.id};if(!((d=f.text)===null||d===void 0)&&d.value&&(O["-name"]=f.text.value),f.properties){var v=f0(s)(f.properties);Object.assign(O,v)}p.set(f.id,O),m[f.type]?Array.isArray(m[f.type])?m[f.type].push(O):m[f.type]=[m[f.type],O]:m[f.type]=O});var o=y.edges.map(function(f){var d,O,v=p.get(f.targetNodeId);v["bpmn:incoming"]?Array.isArray(v["bpmn:incoming"])?v["bpmn:incoming"].push(f.id):v["bpmn:incoming"]=[v["bpmn:incoming"],f.id]:v["bpmn:incoming"]=f.id;var E={"-id":f.id,"-sourceRef":f.sourceNodeId,"-targetRef":f.targetNodeId};if(!((d=f.text)===null||d===void 0)&&d.value&&(E["-name"]=(O=f.text)===null||O===void 0?void 0:O.value),f.properties){var M=f0(s)(f.properties);Object.assign(E,M)}return E});y.edges.forEach(function(f){var d=p.get(f.sourceNodeId);d["bpmn:outgoing"]?Array.isArray(d["bpmn:outgoing"])?d["bpmn:outgoing"].push(f.id):d["bpmn:outgoing"]=[d["bpmn:outgoing"],f.id]:d["bpmn:outgoing"]=f.id}),m[Ri.FLOW]=o}function gE(m,y){m["bpmndi:BPMNEdge"]=y.edges.map(function(s){var p,o=s.id,f=s.pointsList.map(function(O){var v=O.x,E=O.y;return{"-x":v,"-y":E}}),d={"-id":o+"_di","-bpmnElement":o,"di:waypoint":f};return!((p=s.text)===null||p===void 0)&&p.value&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),d}),m["bpmndi:BPMNShape"]=y.nodes.map(function(s){var p,o=s.id,f=100,d=80,O=s.x,v=s.y,E=Xa.shapeConfigMap.get(s.type);E&&(f=E.width,d=E.height),O-=f/2,v-=d/2;var M={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":O,"-y":v,"-width":f,"-height":d}};return!((p=s.text)===null||p===void 0)&&p.value&&(M["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),M})}function mE(m){var y=[],s=[],p=m["bpmn:definitions"];if(p){var o=p["bpmn:process"];Object.keys(o).forEach(function(f){if(f.indexOf("bpmn:")===0){var d=o[f];if(f===Ri.FLOW){var O=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];s=_E(d,O)}else{var v=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];y=y.concat(bE(d,v,f))}}})}return{nodes:y,edges:s}}function bE(m,y,s){var p=[];if(Array.isArray(m))m.forEach(function(d){var O;Array.isArray(y)?O=y.find(function(E){return E["-bpmnElement"]===d["-id"]}):O=y;var v=p0(O,s,d);p.push(v)});else{var o=void 0;Array.isArray(y)?o=y.find(function(d){return d["-bpmnElement"]===m["-id"]}):o=y;var f=p0(o,s,m);p.push(f)}return p}function p0(m,y,s){var p=Number(m["dc:Bounds"]["-x"]),o=Number(m["dc:Bounds"]["-y"]),f=s["-name"],d=Xa.shapeConfigMap.get(y);d&&(p+=d.width/2,o+=d.height/2);var O;Object.entries(s).forEach(function(A){var T=Vd(A,2),k=T[0],I=T[1];V0.indexOf(k)===-1&&(O||(O={}),O[k]=I)}),O&&(O=zd(O));var v;if(f&&(v={x:p,y:o,value:f},m["bpmndi:BPMNLabel"]&&m["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=m["bpmndi:BPMNLabel"]["dc:Bounds"];v.x=Number(E["-x"])+Number(E["-width"])/2,v.y=Number(E["-y"])+Number(E["-height"])/2}var M={id:m["-bpmnElement"],type:y,x:p,y:o,properties:O};return v&&(M.text=v),M}function _E(m,y){var s=[];if(Array.isArray(m))m.forEach(function(o){var f;Array.isArray(y)?f=y.find(function(d){return d["-bpmnElement"]===o["-id"]}):f=y,s.push(d0(f,o))});else{var p=void 0;Array.isArray(y)?p=y.find(function(o){return o["-bpmnElement"]===m["-id"]}):p=y,s.push(d0(p,m))}return s}function d0(m,y){var s,p=y["-name"];if(p){var o=m["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;p.split(`
`).forEach(function(v){f<v.length&&(f=v.length)}),s={value:p,x:Number(o["-x"])+f*10/2,y:Number(o["-y"])+7}}var d;Object.entries(y).forEach(function(v){var E=Vd(v,2),M=E[0],A=E[1];V0.indexOf(M)===-1&&(d||(d={}),d[M]=A)}),d&&(d=zd(d));var O={id:y["-id"],type:Ri.FLOW,pointsList:m["di:waypoint"].map(function(v){return{x:Number(v["-x"]),y:Number(v["-y"])}}),sourceNodeId:y["-sourceRef"],targetNodeId:y["-targetRef"],properties:d};return s&&(O.text=s),O}var Xa=function(){function m(y){var s=this,p=y.lf;this.adapterOut=function(o,f){var d=eg({},s.processAttributes);vE(d,o,f);var O={"-id":"BPMNPlane_1","-bpmnElement":d["-id"]};gE(O,o);var v=s.definitionAttributes;v["bpmn:process"]=d,v["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":O};var E={"bpmn:definitions":v};return E},this.adapterIn=function(o){if(o)return mE(o)},p.adapterIn=function(o){return s.adapterIn(o)},p.adapterOut=function(o,f){return s.adapterOut(o,f)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+s0()},this.definitionAttributes={"-id":"Definitions_"+s0(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return m.prototype.setCustomShape=function(y,s){m.shapeConfigMap.set(y,s)},m.pluginName="bpmn-adapter",m.shapeConfigMap=new Map,m}();Xa.shapeConfigMap.set(Ri.START,{width:o0.width,height:o0.height});Xa.shapeConfigMap.set(Ri.END,{width:i0.width,height:i0.height});Xa.shapeConfigMap.set(Ri.GATEWAY,{width:a0.width,height:a0.height});Xa.shapeConfigMap.set(Ri.SYSTEM,{width:u0.width,height:u0.height});Xa.shapeConfigMap.set(Ri.USER,{width:c0.width,height:c0.height});(function(m){yE(y,m);function y(s){var p=m.call(this,s)||this;p.adapterXmlIn=function(f){var d=hE(f);return p.adapterIn(d)},p.adapterXmlOut=function(f,d){var O=p.adapterOut(f,d);return dE(O)};var o=s.lf;return o.adapterIn=p.adapterXmlIn,o.adapterOut=p.adapterXmlOut,p}return y.pluginName="bpmnXmlAdapter",y})(Xa);var OE=function(){function m(){globalThis._ids=this,this._ids=new Set}return m.prototype.generateId=function(){var y="xxxxxxx".replace(/[x]/g,function(s){var p=Math.random()*16|0,o=s==="x"?p:p&3|8;return o.toString(16)});return y},m.prototype.next=function(){for(var y=this.generateId();this._ids.has(y);)y=this.generateId();return this._ids.add(y),y},m}(),wE=(globalThis==null?void 0:globalThis._ids)||new OE;function xE(){return wE.next()}ot.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),ot.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});ot.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});ot.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var fg,nr,W0,Wu,h0,K0,tg,pg,ng,rg,og={},$0=[],EE=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,dg=Array.isArray;function Ga(m,y){for(var s in y)m[s]=y[s];return m}function q0(m){var y=m.parentNode;y&&y.removeChild(m)}function sf(m,y,s){var p,o,f,d={};for(f in y)f=="key"?p=y[f]:f=="ref"?o=y[f]:d[f]=y[f];if(arguments.length>2&&(d.children=arguments.length>3?fg.call(arguments,2):s),typeof m=="function"&&m.defaultProps!=null)for(f in m.defaultProps)d[f]===void 0&&(d[f]=m.defaultProps[f]);return Dd(m,d,p,o,null)}function Dd(m,y,s,p,o){var f={type:m,props:y,key:s,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o==null?++W0:o,__i:-1,__u:0};return o==null&&nr.vnode!=null&&nr.vnode(f),f}function hg(m){return m.children}function gs(m,y){this.props=m,this.context=y}function $u(m,y){if(y==null)return m.__?$u(m.__,m.__i+1):null;for(var s;y<m.__k.length;y++)if((s=m.__k[y])!=null&&s.__e!=null)return s.__e;return typeof m.type=="function"?$u(m):null}function Z0(m){var y,s;if((m=m.__)!=null&&m.__c!=null){for(m.__e=m.__c.base=null,y=0;y<m.__k.length;y++)if((s=m.__k[y])!=null&&s.__e!=null){m.__e=m.__c.base=s.__e;break}return Z0(m)}}function y0(m){(!m.__d&&(m.__d=!0)&&Wu.push(m)&&!Bd.__r++||h0!==nr.debounceRendering)&&((h0=nr.debounceRendering)||K0)(Bd)}function Bd(){var m,y,s,p,o,f,d,O;for(Wu.sort(tg);m=Wu.shift();)m.__d&&(y=Wu.length,p=void 0,f=(o=(s=m).__v).__e,d=[],O=[],s.__P&&((p=Ga({},o)).__v=o.__v+1,nr.vnode&&nr.vnode(p),e_(s.__P,p,o,s.__n,s.__P.ownerSVGElement!==void 0,32&o.__u?[f]:null,d,f==null?$u(o):f,!!(32&o.__u),O),p.__v=o.__v,p.__.__k[p.__i]=p,PE(d,p,O),p.__e!=f&&Z0(p)),Wu.length>y&&Wu.sort(tg));Bd.__r=0}function J0(m,y,s,p,o,f,d,O,v,E,M){var A,T,k,I,C,L=p&&p.__k||$0,G=y.length;for(s.__d=v,SE(s,y,L),v=s.__d,A=0;A<G;A++)(k=s.__k[A])!=null&&typeof k!="boolean"&&typeof k!="function"&&(T=k.__i===-1?og:L[k.__i]||og,k.__i=A,e_(m,k,T,o,f,d,O,v,E,M),I=k.__e,k.ref&&T.ref!=k.ref&&(T.ref&&yg(T.ref,null,k),M.push(k.ref,k.__c||I,k)),C==null&&I!=null&&(C=I),65536&k.__u||T.__k===k.__k?(v&&!v.isConnected&&(v=$u(T)),v=Q0(k,v,m)):typeof k.type=="function"&&k.__d!==void 0?v=k.__d:I&&(v=I.nextSibling),k.__d=void 0,k.__u&=-196609);s.__d=v,s.__e=C}function SE(m,y,s){var p,o,f,d,O,v=y.length,E=s.length,M=E,A=0;for(m.__k=[],p=0;p<v;p++)d=p+A,(o=m.__k[p]=(o=y[p])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Dd(null,o,null,null,null):dg(o)?Dd(hg,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?Dd(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=m,o.__b=m.__b+1,O=jE(o,s,d,M),o.__i=O,f=null,O!==-1&&(M--,(f=s[O])&&(f.__u|=131072)),f==null||f.__v===null?(O==-1&&A--,typeof o.type!="function"&&(o.__u|=65536)):O!==d&&(O===d+1?A++:O>d?M>v-d?A+=O-d:A--:O<d?O==d-1&&(A=O-d):A=0,O!==p+A&&(o.__u|=65536))):(f=s[d])&&f.key==null&&f.__e&&!(131072&f.__u)&&(f.__e==m.__d&&(m.__d=$u(f)),ig(f,f,!1),s[d]=null,M--);if(M)for(p=0;p<E;p++)(f=s[p])!=null&&!(131072&f.__u)&&(f.__e==m.__d&&(m.__d=$u(f)),ig(f,f))}function Q0(m,y,s){var p,o;if(typeof m.type=="function"){for(p=m.__k,o=0;p&&o<p.length;o++)p[o]&&(p[o].__=m,y=Q0(p[o],y,s));return y}m.__e!=y&&(s.insertBefore(m.__e,y||null),y=m.__e);do y=y&&y.nextSibling;while(y!=null&&y.nodeType===8);return y}function jE(m,y,s,p){var o=m.key,f=m.type,d=s-1,O=s+1,v=y[s];if(v===null||v&&o==v.key&&f===v.type&&!(131072&v.__u))return s;if(p>(v!=null&&!(131072&v.__u)?1:0))for(;d>=0||O<y.length;){if(d>=0){if((v=y[d])&&!(131072&v.__u)&&o==v.key&&f===v.type)return d;d--}if(O<y.length){if((v=y[O])&&!(131072&v.__u)&&o==v.key&&f===v.type)return O;O++}}return-1}function v0(m,y,s){y[0]==="-"?m.setProperty(y,s==null?"":s):m[y]=s==null?"":typeof s!="number"||EE.test(y)?s:s+"px"}function Ad(m,y,s,p,o){var f;e:if(y==="style")if(typeof s=="string")m.style.cssText=s;else{if(typeof p=="string"&&(m.style.cssText=p=""),p)for(y in p)s&&y in s||v0(m.style,y,"");if(s)for(y in s)p&&s[y]===p[y]||v0(m.style,y,s[y])}else if(y[0]==="o"&&y[1]==="n")f=y!==(y=y.replace(/(PointerCapture)$|Capture$/i,"$1")),y=y.toLowerCase()in m||y==="onFocusOut"||y==="onFocusIn"?y.toLowerCase().slice(2):y.slice(2),m.l||(m.l={}),m.l[y+f]=s,s?p?s.u=p.u:(s.u=pg,m.addEventListener(y,f?rg:ng,f)):m.removeEventListener(y,f?rg:ng,f);else{if(o)y=y.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(y!="width"&&y!="height"&&y!="href"&&y!="list"&&y!="form"&&y!="tabIndex"&&y!="download"&&y!="rowSpan"&&y!="colSpan"&&y!="role"&&y in m)try{m[y]=s==null?"":s;break e}catch(d){}typeof s=="function"||(s==null||s===!1&&y[4]!=="-"?m.removeAttribute(y):m.setAttribute(y,s))}}function g0(m){return function(y){if(this.l){var s=this.l[y.type+m];if(y.t==null)y.t=pg++;else if(y.t<s.u)return;return s(nr.event?nr.event(y):y)}}}function e_(m,y,s,p,o,f,d,O,v,E){var M,A,T,k,I,C,L,G,W,ee,ue,oe,J,Q,V,B=y.type;if(y.constructor!==void 0)return null;128&s.__u&&(v=!!(32&s.__u),f=[O=y.__e=s.__e]),(M=nr.__b)&&M(y);e:if(typeof B=="function")try{if(G=y.props,W=(M=B.contextType)&&p[M.__c],ee=M?W?W.props.value:M.__:p,s.__c?L=(A=y.__c=s.__c).__=A.__E:("prototype"in B&&B.prototype.render?y.__c=A=new B(G,ee):(y.__c=A=new gs(G,ee),A.constructor=B,A.render=ME),W&&W.sub(A),A.props=G,A.state||(A.state={}),A.context=ee,A.__n=p,T=A.__d=!0,A.__h=[],A._sb=[]),A.__s==null&&(A.__s=A.state),B.getDerivedStateFromProps!=null&&(A.__s==A.state&&(A.__s=Ga({},A.__s)),Ga(A.__s,B.getDerivedStateFromProps(G,A.__s))),k=A.props,I=A.state,A.__v=y,T)B.getDerivedStateFromProps==null&&A.componentWillMount!=null&&A.componentWillMount(),A.componentDidMount!=null&&A.__h.push(A.componentDidMount);else{if(B.getDerivedStateFromProps==null&&G!==k&&A.componentWillReceiveProps!=null&&A.componentWillReceiveProps(G,ee),!A.__e&&(A.shouldComponentUpdate!=null&&A.shouldComponentUpdate(G,A.__s,ee)===!1||y.__v===s.__v)){for(y.__v!==s.__v&&(A.props=G,A.state=A.__s,A.__d=!1),y.__e=s.__e,y.__k=s.__k,y.__k.forEach(function(X){X&&(X.__=y)}),ue=0;ue<A._sb.length;ue++)A.__h.push(A._sb[ue]);A._sb=[],A.__h.length&&d.push(A);break e}A.componentWillUpdate!=null&&A.componentWillUpdate(G,A.__s,ee),A.componentDidUpdate!=null&&A.__h.push(function(){A.componentDidUpdate(k,I,C)})}if(A.context=ee,A.props=G,A.__P=m,A.__e=!1,oe=nr.__r,J=0,"prototype"in B&&B.prototype.render){for(A.state=A.__s,A.__d=!1,oe&&oe(y),M=A.render(A.props,A.state,A.context),Q=0;Q<A._sb.length;Q++)A.__h.push(A._sb[Q]);A._sb=[]}else do A.__d=!1,oe&&oe(y),M=A.render(A.props,A.state,A.context),A.state=A.__s;while(A.__d&&++J<25);A.state=A.__s,A.getChildContext!=null&&(p=Ga(Ga({},p),A.getChildContext())),T||A.getSnapshotBeforeUpdate==null||(C=A.getSnapshotBeforeUpdate(k,I)),J0(m,dg(V=M!=null&&M.type===hg&&M.key==null?M.props.children:M)?V:[V],y,s,p,o,f,d,O,v,E),A.base=y.__e,y.__u&=-161,A.__h.length&&d.push(A),L&&(A.__E=A.__=null)}catch(X){y.__v=null,v||f!=null?(y.__e=O,y.__u|=v?160:32,f[f.indexOf(O)]=null):(y.__e=s.__e,y.__k=s.__k),nr.__e(X,y,s)}else f==null&&y.__v===s.__v?(y.__k=s.__k,y.__e=s.__e):y.__e=AE(s.__e,y,s,p,o,f,d,v,E);(M=nr.diffed)&&M(y)}function PE(m,y,s){y.__d=void 0;for(var p=0;p<s.length;p++)yg(s[p],s[++p],s[++p]);nr.__c&&nr.__c(y,m),m.some(function(o){try{m=o.__h,o.__h=[],m.some(function(f){f.call(o)})}catch(f){nr.__e(f,o.__v)}})}function AE(m,y,s,p,o,f,d,O,v){var E,M,A,T,k,I,C,L=s.props,G=y.props,W=y.type;if(W==="svg"&&(o=!0),f!=null){for(E=0;E<f.length;E++)if((k=f[E])&&"setAttribute"in k==!!W&&(W?k.localName===W:k.nodeType===3)){m=k,f[E]=null;break}}if(m==null){if(W===null)return document.createTextNode(G);m=o?document.createElementNS("http://www.w3.org/2000/svg",W):document.createElement(W,G.is&&G),f=null,O=!1}if(W===null)L===G||O&&m.data===G||(m.data=G);else{if(f=f&&fg.call(m.childNodes),L=s.props||og,!O&&f!=null)for(L={},E=0;E<m.attributes.length;E++)L[(k=m.attributes[E]).name]=k.value;for(E in L)k=L[E],E=="children"||(E=="dangerouslySetInnerHTML"?A=k:E==="key"||E in G||Ad(m,E,null,k,o));for(E in G)k=G[E],E=="children"?T=k:E=="dangerouslySetInnerHTML"?M=k:E=="value"?I=k:E=="checked"?C=k:E==="key"||O&&typeof k!="function"||L[E]===k||Ad(m,E,k,L[E],o);if(M)O||A&&(M.__html===A.__html||M.__html===m.innerHTML)||(m.innerHTML=M.__html),y.__k=[];else if(A&&(m.innerHTML=""),J0(m,dg(T)?T:[T],y,s,p,o&&W!=="foreignObject",f,d,f?f[0]:s.__k&&$u(s,0),O,v),f!=null)for(E=f.length;E--;)f[E]!=null&&q0(f[E]);O||(E="value",I!==void 0&&(I!==m[E]||W==="progress"&&!I||W==="option"&&I!==L[E])&&Ad(m,E,I,L[E],!1),E="checked",C!==void 0&&C!==m[E]&&Ad(m,E,C,L[E],!1))}return m}function yg(m,y,s){try{typeof m=="function"?m(y):m.current=y}catch(p){nr.__e(p,s)}}function ig(m,y,s){var p,o;if(nr.unmount&&nr.unmount(m),(p=m.ref)&&(p.current&&p.current!==m.__e||yg(p,null,y)),(p=m.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(f){nr.__e(f,y)}p.base=p.__P=null}if(p=m.__k)for(o=0;o<p.length;o++)p[o]&&ig(p[o],y,s||typeof m.type!="function");s||m.__e==null||q0(m.__e),m.__c=m.__=m.__e=m.__d=void 0}function ME(m,y,s){return this.constructor(m,s)}fg=$0.slice,nr={__e:function(m,y,s,p){for(var o,f,d;y=y.__;)if((o=y.__c)&&!o.__)try{if((f=o.constructor)&&f.getDerivedStateFromError!=null&&(o.setState(f.getDerivedStateFromError(m)),d=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(m,p||{}),d=o.__d),d)return o.__E=o}catch(O){m=O}throw m}},W0=0,gs.prototype.setState=function(m,y){var s;s=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ga({},this.state),typeof m=="function"&&(m=m(Ga({},s),this.props)),m&&Ga(s,m),m!=null&&this.__v&&(y&&this._sb.push(y),y0(this))},gs.prototype.forceUpdate=function(m){this.__v&&(this.__e=!0,m&&this.__h.push(m),y0(this))},gs.prototype.render=hg,Wu=[],K0=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,tg=function(m,y){return m.__v.__b-y.__v.__b},Bd.__r=0,pg=0,ng=g0(!1),rg=g0(!0);var lf=function(){return lf=Object.assign||function(m){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},lf.apply(this,arguments)};function vg(m){var y=m.x,s=m.y,p=m.width,o=m.height,f=m.radius,d=m.className,O=y-p/2,v=s-o/2,E=lf(lf({width:10,height:10,cx:0,cy:0,rx:f||0,ry:f||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+d},m),{x:O,y:v});return ot.h("rect",lf({},E))}vg.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var ys;(function(m){m.NODE="node",m.CIRCLE_NODE="circle-node",m.POLYGON_NODE="polygon-node",m.RECT_NODE="rect-node",m.HTML_NODE="html-node",m.TEXT_NODE="text-node",m.ELLIPSE_NODE="ellipse-node",m.DIAMOND_NODE="diamond-node",m.EDGE="edge",m.LINE_EDGE="line-edge",m.POLYLINE_EDGE="polyline-edge",m.BEZIER_EDGE="bezier-edge",m.GRAPH="graph"})(ys||(ys={}));var kE=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},m(y,s)};return function(y,s){m(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Ku=function(){return Ku=Object.assign||function(m){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Ku.apply(this,arguments)},TE=function(m,y){var s=typeof Symbol=="function"&&m[Symbol.iterator];if(!s)return m;var p=s.call(m),o,f=[],d;try{for(;(y===void 0||y-- >0)&&!(o=p.next()).done;)f.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f},DE=ot.LogicFlowUtil.StepDrag,NE=function(m){kE(y,m);function y(s){var p=m.call(this)||this;return p.updatePosition=function(o){var f=o.deltaX,d=o.deltaY,O=p.nodeModel,v=O.x,E=O.y;p.nodeModel.x=v+f/2,p.nodeModel.y=E+d/2,p.nodeModel.moveText(f/2,d/2)},p.getResize=function(o){var f=o.index,d=o.deltaX,O=o.deltaY,v=o.width,E=o.height,M=o.PCTResizeInfo,A=o.pct,T=A===void 0?1:A,k={width:v,height:E,deltaX:d,deltaY:O};if(M){var I=4,C=0,L=0;switch(f){case 0:L=(d*-1-O)/I;break;case 1:L=(d-O)/I;break;case 2:L=(d+O)/I;break;case 3:L=(d*-1+O)/I;break}L!==0&&(C=Math.round(L/M.ResizeBasis.basisHeight*1e5)/1e3),M.ResizePCT.widthPCT=Math.max(Math.min(M.ResizePCT.widthPCT+C,M.ScaleLimit.maxScaleLimit),M.ScaleLimit.minScaleLimit),M.ResizePCT.hightPCT=Math.max(Math.min(M.ResizePCT.hightPCT+C,M.ScaleLimit.maxScaleLimit),M.ScaleLimit.minScaleLimit);var G=Math.round(M.ResizePCT.widthPCT*M.ResizeBasis.basisWidth/100),W=Math.round(M.ResizePCT.hightPCT*M.ResizeBasis.basisHeight/100);switch(f){case 0:d=v-G,O=E-W;break;case 1:d=G-v,O=E-W;break;case 2:d=G-v,O=W-E;break;case 3:d=v-G,O=W-E;break}return k.width=G,k.height=W,k.deltaX=d/T,k.deltaY=O/T,k}switch(f){case 0:k.width=v-d*T,k.height=E-O*T;break;case 1:k.width=v+d*T,k.height=E-O*T;break;case 2:k.width=v+d*T,k.height=E+O*T;break;case 3:k.width=v-d*T,k.height=E+O*T;break}return k},p.updateEdgePointByAnchors=function(){var o=p.nodeModel,f=o.id,d=o.anchors,O=p.getNodeEdges(f);O.sourceEdges.forEach(function(v){var E=d.find(function(M){return M.id===v.sourceAnchorId});v.updateStartPoint({x:E.x,y:E.y})}),O.targetEdges.forEach(function(v){var E=d.find(function(M){return M.id===v.targetAnchorId});v.updateEndPoint({x:E.x,y:E.y})})},p.updateRect=function(o){var f=o.deltaX,d=o.deltaY,O=p.nodeModel,v=O.id,E=O.x,M=O.y,A=O.width,T=O.height,k=O.radius,I=O.PCTResizeInfo,C=p.index,L=p.getResize({index:C,deltaX:f,deltaY:d,width:A,height:T,PCTResizeInfo:I,pct:1}),G=p.nodeModel,W=G.minWidth,ee=G.minHeight,ue=G.maxWidth,oe=G.maxHeight;if(L.width<W||L.width>ue||L.height<ee||L.height>oe){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:L.deltaX,deltaY:L.deltaY}),p.nodeModel.width=L.width,p.nodeModel.height=L.height,p.nodeModel.setProperties({nodeSize:{width:L.width,height:L.height}}),p.getNodeEdges(v);var J={x:E,y:M,width:A,height:T,radius:k},Q={x:p.nodeModel.x,y:p.nodeModel.y,width:p.nodeModel.width,height:p.nodeModel.height,radius:k};p.updateEdgePointByAnchors(),p.eventEmit({beforeNode:J,afterNode:Q})},p.updateEllipse=function(o){var f=o.deltaX,d=o.deltaY,O=p.nodeModel,v=O.id,E=O.rx,M=O.ry,A=O.x,T=O.y,k=O.PCTResizeInfo,I=p.index,C=E,L=M,G=p.getResize({index:I,deltaX:f,deltaY:d,width:C,height:L,PCTResizeInfo:k,pct:1/2}),W=p.nodeModel,ee=W.minWidth,ue=W.minHeight,oe=W.maxWidth,J=W.maxHeight;if(G.width<ee/2||G.width>oe/2||G.height<ue/2||G.height>J/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:G.deltaX,deltaY:G.deltaY}),p.nodeModel.rx=G.width,p.nodeModel.ry=G.height,p.nodeModel.setProperties({nodeSize:{rx:G.width,ry:G.height}}),p.getNodeEdges(v);var Q={x:A,y:T},V={rx:G.width,ry:G.height,x:p.nodeModel.x,y:p.nodeModel.y};p.updateEdgePointByAnchors(),p.eventEmit({beforeNode:Ku(Ku({},Q),{rx:E,ry:M}),afterNode:V})},p.updateDiamond=function(o){var f=o.deltaX,d=o.deltaY,O=p.nodeModel;O.id;var v=O.rx,E=O.ry,M=O.x,A=O.y,T=O.PCTResizeInfo,k=p.index,I=v,C=E,L=p.getResize({index:k,deltaX:f,deltaY:d,width:I,height:C,PCTResizeInfo:T,pct:1/2}),G=p.nodeModel,W=G.minWidth,ee=G.minHeight,ue=G.maxWidth,oe=G.maxHeight;if(L.width<W/2||L.width>ue/2||L.height<ee/2||L.height>oe/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:L.deltaX,deltaY:L.deltaY}),p.nodeModel.rx=L.width,p.nodeModel.ry=L.height,p.nodeModel.setProperties({nodeSize:{rx:L.width,ry:L.height}});var J={x:M,y:A,rx:v,ry:E},Q={rx:L.width,ry:L.height,x:p.nodeModel.x,y:p.nodeModel.y};p.updateEdgePointByAnchors(),p.eventEmit({beforeNode:J,afterNode:Q})},p.eventEmit=function(o){var f=o.beforeNode,d=o.afterNode,O=p.nodeModel,v=O.id,E=O.modelType,M=O.type,A=Ku({id:v,modelType:E,type:M},f),T=Ku({id:v,modelType:E,type:M},d);p.graphModel.eventCenter.emit("node:resize",{oldNodeSize:A,newNodeSize:T})},p.onDragging=function(o){var f,d=o.deltaX,O=o.deltaY,v=p.graphModel.transformModel,E=p.nodeModel.modelType;f=TE(v.fixDeltaXY(d,O),2),d=f[0],O=f[1],E===ys.RECT_NODE||E===ys.HTML_NODE?p.updateRect({deltaX:d,deltaY:O}):E===ys.ELLIPSE_NODE?p.updateEllipse({deltaX:d,deltaY:O}):E===ys.DIAMOND_NODE&&p.updateDiamond({deltaX:d,deltaY:O})},p.onDragEnd=function(){var o=p.graphModel.gridSize,f=o===void 0?1:o,d=f*Math.round(p.nodeModel.x/f),O=f*Math.round(p.nodeModel.y/f);p.nodeModel.moveTo(d,O),p.updateEdgePointByAnchors()},p.index=s.index,p.nodeModel=s.model,p.graphModel=s.graphModel,p.state={},p.dragHandler=new DE({onDragging:p.onDragging,onDragEnd:p.onDragEnd,step:1}),p}return y.prototype.getNodeEdges=function(s){for(var p=this.graphModel,o=p.edges,f=[],d=[],O=0;O<o.length;O++){var v=o[O];v.sourceNodeId===s?f.push(v):o[O].targetNodeId===s&&d.push(v)}return{sourceEdges:f,targetEdges:d}},y.prototype.render=function(){var s=this.props,p=s.x,o=s.y,f=s.index,d=s.model,O=d.getControlPointStyle();return sf("g",{className:"lf-resize-control-"+f},sf(vg,Ku({className:"lf-node-control"},{x:p,y:o},O,{onMouseDown:this.dragHandler.handleMouseDown})))},y}(gs),CE=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},m(y,s)};return function(y,s){m(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Fd=function(){return Fd=Object.assign||function(m){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Fd.apply(this,arguments)},Wd=function(m){CE(y,m);function y(){var s=m.call(this)||this;return s.state={},s}return y.prototype.getResizeControl=function(){var s=this.props,p=s.model,o=s.graphModel,f=p.x,d=p.y,O=p.width,v=p.height,E={minX:f-O/2,minY:d-v/2,maxX:f+O/2,maxY:d+v/2},M=E.minX,A=E.minY,T=E.maxX,k=E.maxY,I=[{x:M,y:A},{x:T,y:A},{x:T,y:k},{x:M,y:k}];return I.map(function(C,L){return sf(NE,Fd({index:L},C,{model:p,graphModel:o}))})},y.prototype.getGroupSolid=function(){var s=this.props.model,p=s.x,o=s.y,f=s.width,d=s.height,O=s.getResizeOutlineStyle();return sf(vg,Fd({fill:"none"},O,{x:p,y:o,width:f,height:d}))},y.prototype.render=function(){return sf("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},y}(gs),t_=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},m(y,s)};return function(y,s){m(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),RE=function(m){t_(y,m);function y(s,p){var o=m.call(this,s,p)||this,f=o.properties.nodeSize;return f&&(o.width=f.width,o.height=f.height),o}return y.prototype.initNodeData=function(s){m.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var s=m.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},y.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.resize=function(s,p){},y.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var p={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},f={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},y}(ot.RectNodeModel),IE=function(m){t_(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,p=s.model,o=s.graphModel;return ot.h(Wd,{model:p,graphModel:o})},y.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},y.prototype.getShape=function(){var s=this.props,p=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return ot.h("g",null,this.getResizeShape(),p&&!o?this.getControlGroup():"")},y}(ot.RectNode),n_={type:"rect",view:IE,model:RE},r_=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},m(y,s)};return function(y,s){m(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}();(function(m){r_(y,m);function y(s,p){var o=m.call(this,s,p)||this,f=o.properties.nodeSize;return f&&(o.rx=f.rx,o.ry=f.ry),o}return y.prototype.initNodeData=function(s){m.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var s=m.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var p={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},f={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},y})(ot.EllipseNodeModel);(function(m){r_(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,p=s.model,o=s.graphModel;return ot.h(Wd,{model:p,graphModel:o})},y.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},y.prototype.getShape=function(){var s=this.props,p=s.model,o=s.graphModel.editConfigModel.isSilentMode;return ot.h("g",null,this.getResizeShape(),p.isSelected&&!o?this.getControlGroup():"")},y})(ot.EllipseNode);var ag=function(){return ag=Object.assign||function(m){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},ag.apply(this,arguments)};function LE(m){var y=m.fillOpacity,s=y===void 0?1:y,p=m.strokeWidth,o=p===void 0?1:p,f=m.strokeOpacity,d=f===void 0?1:f,O=m.fill,v=O===void 0?"transparent":O,E=m.stroke,M=E===void 0?"#000":E,A=m.points,T=m.className,k=T===void 0?"lf-basic-shape":T,I={fill:v,fillOpacity:s,strokeWidth:o,stroke:M,strokeOpacity:d,points:"",className:k};return I.points=A.map(function(C){return C.join(",")}).join(" "),ot.h("polygon",ag({},I))}var o_=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},m(y,s)};return function(y,s){m(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),ug=function(){return ug=Object.assign||function(m){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},ug.apply(this,arguments)};(function(m){o_(y,m);function y(s,p){var o=m.call(this,s,p)||this,f=o.properties.nodeSize;return f&&(o.rx=f.rx,o.ry=f.ry),o}return y.prototype.initNodeData=function(s){m.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},y.prototype.getOutlineStyle=function(){var s=m.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var p={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},f={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},y})(ot.DiamondNodeModel);(function(m){o_(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,p=s.model,o=s.graphModel;return ot.h(Wd,{model:p,graphModel:o})},y.prototype.getResizeShape=function(){var s=this.props.model,p=s.points,o=s.getNodeStyle();return ot.h("g",null,ot.h(LE,ug({},o,{points:p})))},y.prototype.getShape=function(){var s=this.props,p=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return ot.h("g",null,this.getResizeShape(),p&&!o?this.getControlGroup():"")},y})(ot.DiamondNode);var i_=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},m(y,s)};return function(y,s){m(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}();(function(m){i_(y,m);function y(s,p){var o=m.call(this,s,p)||this,f=o.properties.nodeSize;return f&&(o.width=f.width,o.height=f.height),o}return y.prototype.initNodeData=function(s){m.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var s=m.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var p={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},f={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},y})(ot.HtmlNodeModel);(function(m){i_(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,p=s.model,o=s.graphModel;return ot.h(Wd,{model:p,graphModel:o})},y.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},y.prototype.getShape=function(){var s=this.props,p=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return ot.h("g",null,this.getResizeShape(),p&&!o?this.getControlGroup():"")},y})(ot.HtmlNode);var a_=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},m(y,s)};return function(y,s){m(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Ud=function(){return Ud=Object.assign||function(m){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},Ud.apply(this,arguments)},zE=function(m,y){var s=typeof Symbol=="function"&&m[Symbol.iterator];if(!s)return m;var p=s.call(m),o,f=[],d;try{for(;(y===void 0||y-- >0)&&!(o=p.next()).done;)f.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f},BE=function(){for(var m=[],y=0;y<arguments.length;y++)m=m.concat(zE(arguments[y]));return m},m0=500,b0=300,FE=-1e4;(function(m){a_(y,m);function y(){var s=m!==null&&m.apply(this,arguments)||this;return s.isGroup=!0,s.unfoldedWidth=m0,s.unfoldedHight=b0,s.childrenLastFoldStatus={},s}return y.prototype.initNodeData=function(s){var p=this;m.prototype.initNodeData.call(this,s);var o=[];Array.isArray(s.children)&&(o=s.children),this.children=new Set(o),this.width=m0,this.height=b0,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=FE,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){p.isFolded&&p.foldGroup(p.isFolded)})},y.prototype.getResizeOutlineStyle=function(){var s=m.prototype.getResizeOutlineStyle.call(this);return s.stroke="none",s},y.prototype.foldGroup=function(s){var p=this;if(s!==this.isFolded){this.setProperty("isFolded",s),this.isFolded=s,s?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(f){var d=p.graphModel.getElement(f),O=d.isFolded;if(d.isGroup&&!d.isFolded&&d.foldGroup(s),d.isGroup&&!s){var v=p.childrenLastFoldStatus[f];v!==void 0&&v!==d.isFolded&&d.foldGroup(v)}p.childrenLastFoldStatus[f]=O,d.visible=!s,o=o.concat(d.incoming.edges.concat(d.outgoing.edges))}),this.foldEdge(s,o)}},y.prototype.getAnchorStyle=function(s){var p=m.prototype.getAnchorStyle.call(this,s);return p.stroke="transparent",p.fill="transparent",p.hover.fill="transparent",p.hover.stroke="transparent",p},y.prototype.foldEdge=function(s,p){var o=this;p.forEach(function(f,d){var O=f.id,v=f.sourceNodeId,E=f.targetNodeId,M=f.startPoint,A=f.endPoint,T=f.type,k=f.text,I=f.getProperties(),C={id:O+"__"+d,sourceNodeId:v,targetNodeId:E,startPoint:M,endPoint:A,type:T,properties:I,text:k==null?void 0:k.value};f.virtual&&o.graphModel.deleteEdgeById(f.id);var L=o.graphModel.group.getNodeGroup(E);L||(L=o.graphModel.getNodeModelById(E));var G=o.graphModel.group.getNodeGroup(v);G||(G=o.graphModel.getNodeModelById(v)),s&&f.visible!==!1&&(o.children.has(v)||o.id===v?(C.startPoint=void 0,C.sourceNodeId=o.id):(C.endPoint=void 0,C.targetNodeId=o.id),(L.id!==o.id||G.id!==o.id)&&o.createVirtualEdge(C),f.visible=!1),!s&&f.visible===!1&&(L&&L.isGroup&&L.isFolded?(C.targetNodeId=L.id,C.endPoint=void 0,o.createVirtualEdge(C)):G&&G.isGroup&&G.isFolded?(C.sourceNodeId=G.id,C.startPoint=void 0,o.createVirtualEdge(C)):f.visible=!0)})},y.prototype.createVirtualEdge=function(s){s.pointsList=void 0;var p=this.graphModel.addEdge(s);p.virtual=!0,p.text.editable=!1,p.isFoldedEdge=!0},y.prototype.isInRange=function(s){var p=s.x1,o=s.y1,f=s.x2,d=s.y2;return p>=this.x-this.width/2&&f<=this.x+this.width/2&&o>=this.y-this.height/2&&d<=this.y+this.height/2},y.prototype.isAllowMoveTo=function(s){var p=s.x1,o=s.y1,f=s.x2,d=s.y2;return{x:p>=this.x-this.width/2&&f<=this.x+this.width/2,y:o>=this.y-this.height/2&&d<=this.y+this.height/2}},y.prototype.setAllowAppendChild=function(s){this.setProperty("groupAddable",s)},y.prototype.addChild=function(s){this.children.add(s),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},y.prototype.removeChild=function(s){this.children.delete(s),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},y.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},y.prototype.getData=function(){var s=this,p=m.prototype.getData.call(this);p.children=[],this.children.forEach(function(f){var d=s.graphModel.getNodeModelById(f);d&&!d.virtual&&p.children.push(f)});var o=p.properties;return delete o.groupAddable,delete o.isFolded,p},y.prototype.getHistoryData=function(){var s=m.prototype.getData.call(this);s.children=BE(this.children),s.isGroup=!0;var p=s.properties;return delete p.groupAddable,p.isFolded&&(s.x=s.x+this.unfoldedWidth/2-this.foldedWidth/2,s.y=s.y+this.unfoldedHight/2-this.foldedHeight/2),s},y.prototype.isAllowAppendIn=function(s){return!0},y.prototype.toBack=function(){this.zIndex--},y})(n_.model);(function(m){a_(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props.model,p=s.resizable,o=s.properties;return p&&!o.isFolded?m.prototype.getControlGroup.call(this):null},y.prototype.getAddableShape=function(){var s=this.props.model,p=s.width,o=s.height,f=s.x,d=s.y,O=s.radius,v=s.properties;if(!v.groupAddable)return null;var E=this.props.model.getNodeStyle().strokeWidth,M=this.props.model.getAddableOutlineStyle(),A=p+E+8,T=o+E+8;return ot.h("rect",Ud(Ud({},M),{width:A,height:T,x:f-A/2,y:d-T/2,rx:O,ry:O}))},y.prototype.getFoldIcon=function(){var s=this.props.model,p=s.x-s.width/2+5,o=s.y-s.height/2+5;if(!s.foldable)return null;var f=ot.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:s.properties.isFolded?"M "+(p+3)+","+(o+6)+" "+(p+11)+","+(o+6)+" M"+(p+7)+","+(o+2)+" "+(p+7)+","+(o+10):"M "+(p+3)+","+(o+6)+" "+(p+11)+","+(o+6)+" "});return ot.h("g",{},[ot.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:s.x-s.width/2+5,y:s.y-s.height/2+5,onClick:function(){s.foldGroup(!s.properties.isFolded)}}),f])},y.prototype.getResizeShape=function(){return ot.h("g",{},[this.getAddableShape(),m.prototype.getResizeShape.call(this),this.getFoldIcon()])},y})(n_.view);var _0=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},m(y,s)};return function(y,s){m(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),ff=function(){return ff=Object.assign||function(m){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},ff.apply(this,arguments)};function UE(m){var y=function(p){_0(o,p);function o(f,d){var O=this;f.id||(f.id="Flow_"+xE());var v=ff(ff(ff({},m||{}),f.properties),{isDefaultFlow:!1});return f.properties=v,O=p.call(this,f,d)||this,O}return o.extendKey="SequenceFlowModel",o}(ot.PolylineEdgeModel),s=function(p){_0(o,p);function o(){return p!==null&&p.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var f=this.props.model,d=f.properties.isDefaultFlow;return d?ot.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):ot.h("path",{d:""})},o.extendKey="SequenceFlowEdge",o}(ot.PolylineEdge);return{type:"bpmn:sequenceFlow",view:s,model:y}}UE();var O0={width:40,height:40},w0={width:40,height:40},x0={width:100,height:80},Gd={width:100,height:80},E0={width:100,height:80},S0={width:100,height:80},j0={width:100,height:80},P0={width:100,height:80},A0={width:100,height:80},M0={width:100,height:80},Vr=function(){};Vr.ObjTree=function(){return this};Vr.ObjTree.VERSION="0.23";Vr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Vr.ObjTree.prototype.attr_prefix="-";Vr.ObjTree.prototype.parseXML=function(m){var y;if(window.DOMParser){var s=new DOMParser,p=s.parseFromString(m,"application/xml");if(!p)return;y=p.documentElement}else window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLDOM"),s.async=!1,s.loadXML(m),y=s.documentElement);if(y){var o=this.parseDOM(y);return o}};Vr.ObjTree.prototype.parseHTTP=function(m,y,s){var p={};for(var o in y)p[o]=y[o];if(p.method||(typeof p.postBody=="undefined"&&typeof p.postbody=="undefined"&&typeof p.parameters=="undefined"?p.method="get":p.method="post"),s){p.asynchronous=!0;var f=this,d=s,O=p.onComplete;p.onComplete=function(M){var A;M&&M.responseXML&&M.responseXML.documentElement&&(A=f.parseDOM(M.responseXML.documentElement)),d(A,M),O&&O(M)}}else p.asynchronous=!1;var v;if(typeof HTTP!="undefined"&&HTTP.Request){p.uri=m;var E=new HTTP.Request(p);E&&(v=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(m,p);E&&(v=E.transport)}if(s)return v;if(v&&v.responseXML&&v.responseXML.documentElement)return this.parseDOM(v.responseXML.documentElement)};Vr.ObjTree.prototype.parseDOM=function(m){if(m){if(this.__force_array={},this.force_array)for(var y=0;y<this.force_array.length;y++)this.__force_array[this.force_array[y]]=1;var s=this.parseElement(m);if(this.__force_array[m.nodeName]&&(s=[s]),m.nodeType!==11){var p={};p[m.nodeName]=s,s=p}return s}};Vr.ObjTree.prototype.parseElement=function(m){if(m.nodeType!==7){if(m.nodeType===3||m.nodeType===4||m.nodeType===8){var y=m.nodeValue.match(/[^\x00-\x20]/);return y==null?void 0:m.nodeValue}var s=null,p={};if(m.attributes&&m.attributes.length){s={};for(var o=0;o<m.attributes.length;o++){var f=m.attributes[o].nodeName;if(typeof f=="string"){var d=m.attributes[o].nodeValue;try{d=JSON.parse(m.attributes[o].nodeValue.replace(/'/g,'"'))}catch(E){d=m.attributes[o].nodeValue}d!=null&&(f=this.attr_prefix+f,typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(s,f,p[f],d))}}}if(m.childNodes&&m.childNodes.length){var O=!0;s&&(O=!1);for(var o=0;o<m.childNodes.length&&O;o++){var v=m.childNodes[o].nodeType;v===3||v===4||v===8||(O=!1)}if(O){s||(s="");for(var o=0;o<m.childNodes.length;o++)s+=m.childNodes[o].nodeValue}else{s||(s={});for(var o=0;o<m.childNodes.length;o++){var f=m.childNodes[o].nodeName;if(typeof f=="string"){var d=this.parseElement(m.childNodes[o]);d&&(typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(s,f,p[f],d))}}}}else s===null&&(s={});return s}};Vr.ObjTree.prototype.addNode=function(m,y,s,p){this.__force_array[y]?(s===1&&(m[y]=[]),m[y][m[y].length]=p):s===1?m[y]=p:s===2?m[y]=[m[y],p]:m[y][m[y].length]=p};Vr.ObjTree.prototype.writeXML=function(m){var y=this.hash_to_xml(null,m);return this.xmlDecl+y};Vr.ObjTree.prototype.hash_to_xml=function(m,y){var s=[],p=[];for(var o in y)if(y!=null&&y.hasOwnProperty(o)){var f=y[o];o.charAt(0)!==this.attr_prefix?typeof f=="undefined"||f==null?s[s.length]="<"+o+" />":typeof f=="object"&&f.constructor===Array?s[s.length]=this.array_to_xml(o,f):typeof f=="object"?s[s.length]=this.hash_to_xml(o,f):s[s.length]=this.scalar_to_xml(o,f):p[p.length]=" "+o.substring(1)+'="'+this.xml_escape(f)+'"'}var d=p.join(""),O=s.join("");return typeof m=="undefined"||m==null||(s.length>0?O.match(/\n/)?O="<"+m+d+`>
`+O+"</"+m+`>
`:O="<"+m+d+">"+O+"</"+m+`>
`:O="<"+m+d+` />
`),O};Vr.ObjTree.prototype.array_to_xml=function(m,y){for(var s=[],p=0;p<y.length;p++){var o=y[p];typeof o=="undefined"||o==null?s[s.length]="<"+m+" />":typeof o=="object"&&o.constructor===Array?s[s.length]=this.array_to_xml(m,o):typeof o=="object"?s[s.length]=this.hash_to_xml(m,o):s[s.length]=this.scalar_to_xml(m,o)}return s.join("")};Vr.ObjTree.prototype.scalar_to_xml=function(m,y){return m==="#text"?this.xml_escape(y):"<"+m+">"+this.xml_escape(y)+"</"+m+`>
`};Vr.ObjTree.prototype.xml_escape=function(m){return m.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var GE=function(m){return new Vr.ObjTree().parseXML(m)};function u_(m){return Object.prototype.toString.call(m)}function k0(m){return"  ".repeat(m)}function Xd(m){return u_(m)==="[object Object]"?Object.keys(m).reduce(function(y,s){var p=s;return s.charAt(0)==="-"&&(p=s.substring(1)),y[p]=Xd(m[s]),y},{}):Array.isArray(m)?m.map(function(y){return Xd(y)}):m}function XE(m){var y=m;try{typeof y!="string"&&(y=JSON.parse(m))}catch(s){y=JSON.stringify(Xd(m)).replace(/"/g,"'")}return y}var T0=`	
`;function Nd(m,y,s){var p=k0(s),o="",f=T0+p;if(y==="-json")return"";if(y==="#text")return f+m;if(y==="#cdata-section")return f+"<![CDATA["+m+"]]>";if(y==="#comment")return f+"<!--"+m+"-->";if((""+y).charAt(0)==="-")return" "+y.substring(1)+'="'+XE(m)+'"';if(Array.isArray(m))o+=m.map(function(E){return Nd(E,y,s+1)}).join("");else if(u_(m)==="[object Object]"){var d=Object.keys(m),O="",v=m["-json"]?T0+k0(s+1)+m["-json"]:"";o+=(s===0?"":f)+"<"+y,d.forEach(function(E){E.charAt(0)==="-"?O+=Nd(m[E],E,s+1):v+=Nd(m[E],E,s+1)}),o+=O+(v!==""?">"+v+f+"</"+y+">":" />")}else o+=f+"<"+y+">"+m.toString()+"</"+y+">";return o}function HE(m){var y="";for(var s in m)y+=Nd(m[s],s,0);return y}var YE=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},m(y,s)};return function(y,s){m(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),cg=function(){return cg=Object.assign||function(m){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},cg.apply(this,arguments)},D0=function(m,y){var s={};for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&y.indexOf(p)<0&&(s[p]=m[p]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,p=Object.getOwnPropertySymbols(m);o<p.length;o++)y.indexOf(p[o])<0&&Object.prototype.propertyIsEnumerable.call(m,p[o])&&(s[p[o]]=m[p[o]]);return s},gg=function(m){var y=typeof Symbol=="function"&&Symbol.iterator,s=y&&m[y],p=0;if(s)return s.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&p>=m.length&&(m=void 0),{value:m&&m[p++],done:!m}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")},_s=function(m,y){var s=typeof Symbol=="function"&&m[Symbol.iterator];if(!s)return m;var p=s.call(m),o,f=[],d;try{for(;(y===void 0||y-- >0)&&!(o=p.next()).done;)f.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f},ms=function(){for(var m=[],y=0;y<arguments.length;y++)m=m.concat(_s(arguments[y]));return m},Hr;(function(m){m.START="bpmn:startEvent",m.END="bpmn:endEvent",m.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",m.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",m.BOUNDARY="bpmn:boundaryEvent",m.PARALLEL_GATEWAY="bpmn:parallelGateway",m.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",m.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",m.USER="bpmn:userTask",m.SYSTEM="bpmn:serviceTask",m.FLOW="bpmn:sequenceFlow",m.SUBPROCESS="bpmn:subProcess"})(Hr||(Hr={}));var c_=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],VE=["properties","startPoint","endPoint","pointsList"],Hd={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},s_=function(m,y){var s=Object.keys(y||{});return s.forEach(function(p){if(m[p]){var o=y[p],f=o.in,d=o.out;f&&(m[p].in=f),d&&(m[p].out=d)}else m[p]=y[p]}),m},Io={"bpmn:startEvent":{out:function(m){var y,s,p=m.properties;return((s=(y=Io[p.definitionType])===null||y===void 0?void 0:y.out)===null||s===void 0?void 0:s.call(y,m))||{}}},"bpmn:intermediateCatchEvent":{out:function(m){var y,s,p=m.properties;return((s=(y=Io[p.definitionType])===null||y===void 0?void 0:y.out)===null||s===void 0?void 0:s.call(y,m))||{}}},"bpmn:intermediateThrowEvent":{out:function(m){var y,s,p=m.properties;return((s=(y=Io[p.definitionType])===null||y===void 0?void 0:y.out)===null||s===void 0?void 0:s.call(y,m))||{}}},"bpmn:boundaryEvent":{out:function(m){var y,s,p=m.properties;return((s=(y=Io[p.definitionType])===null||y===void 0?void 0:y.out)===null||s===void 0?void 0:s.call(y,m))||{}}},"bpmn:sequenceFlow":{out:function(m){var y=m.properties,s=y.expressionType,p=y.condition;return p?s==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+p+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+p+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(m){var y=m.properties,s=y.timerType,p=y.timerValue,o=y.definitionId,f=function(){return"<bpmn:"+s+' xsi:type="bpmn:tFormalExpression">'+p+"</bpmn:"+s+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(s&&p?">"+f()+"</bpmn:timerEventDefinition>":"/>")}},in:function(m,y){var s,p,o,f,d=m,O=y["-id"],v="",E="";try{for(var M=gg(Object.keys(y)),A=M.next();!A.done;A=M.next()){var T=A.value;T.includes("bpmn:")&&(o=_s(T.split(":"),2),v=o[1],E=(f=y[T])===null||f===void 0?void 0:f["#text"])}}catch(k){s={error:k}}finally{try{A&&!A.done&&(p=M.return)&&p.call(M)}finally{if(s)throw s.error}}return{"-definitionId":O,"-definitionType":d,"-timerType":v,"-timerValue":E}}},"bpmn:conditionExpression":{in:function(m,y){var s,p="",o="";return y["#cdata-section"]?(o="cdata",p=((s=/^\$\{(.*)\}$/g.exec(y["#cdata-section"]))===null||s===void 0?void 0:s[1])||""):y["#text"]&&(o="normal",p=y["#text"]),{"-condition":p,"-expressionType":o}}}};function WE(m){var y=m!=null?m:{},s=y.retainedAttrsFields,p=y.excludeFields,o=y.transformer,f=new Set(ms(VE,s||[])),d={in:new Set(ms(Hd.in,(p==null?void 0:p.in)||[])),out:new Set(ms(Hd.out,(p==null?void 0:p.out)||[]))};return Io=s_(Io,o),function(O){var v=O.nodes,E=O.edges;function M(A,T){var k,I,C;if((A==null?void 0:A.flag)!==1){var L;if((L=Io[A.type])&&L.out){var G=L.out(A),W=Object.keys(G);W.length>0&&W.forEach(function(X){A[X]=G[X]})}A!=null&&A.children&&(A.children=A.children.map(function(X){var Y=v.find(function($){return $.id===X})||E.find(function($){return $.id===X});return Y||{}}));var ee={};if(typeof A=="string")return A;if(Array.isArray(A))return A.map(function(X){return M(X,"")}).filter(function(X){return X!=null});try{for(var ue=gg(Object.entries(A)),oe=ue.next();!oe.done;oe=ue.next()){var J=_s(oe.value,2),Q=J[0],V=J[1];if(((C=V)===null||C===void 0?void 0:C.flag)===1)return;var B=[T,Q].filter(function(X){return X}).join(".");d.out.has(B)||(typeof V!="object"?Q.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(Q)?ee[Q]=V:ee["-"+Q]=V:f.has(B)?ee["-"+Q]=M(V,B):ee[Q]=M(V,B))}}catch(X){k={error:X}}finally{try{oe&&!oe.done&&(I=ue.return)&&I.call(ue)}finally{if(k)throw k.error}}return ee}}return M(O,"")}}function Yd(m){var y,s,p={};try{for(var o=gg(Object.entries(m)),f=o.next();!f.done;f=o.next()){var d=_s(f.value,2),O=d[0],v=d[1];O.indexOf("-")===0?p[O.substring(1)]=Xd(v):typeof v=="string"?p[O]=v:Object.prototype.toString.call(v)==="[object Object]"?p[O]=Yd(v):Array.isArray(v)?p[O]=v.map(function(E){return Yd(E)}):p[O]=v}}catch(E){y={error:E}}finally{try{f&&!f.done&&(s=o.return)&&s.call(o)}finally{if(y)throw y.error}}return p}function KE(m,y,s){var p,o=new Map,f=WE(s)(y);f.nodes.forEach(function(O){var v=O["-id"],E=O["-type"],M=O.text,A=O.children,T=D0(O,["-id","-type","text","children"]),k={"-id":v};M!=null&&M["-value"]&&(k["-name"]=M["-value"]),T["-json"]&&(k["-json"]=T["-json"]),T["-properties"]&&Object.assign(k,T["-properties"]),A&&(k.children=A),m[E]||(m[E]=[]),m[E].push(k),o.set(v,k)});var d=f.edges.map(function(O){var v=O["-id"];O["-type"];var E=O["-sourceNodeId"],M=O["-targetNodeId"],A=O.text,T=D0(O,["-id","-type","-sourceNodeId","-targetNodeId","text"]),k=o.get(M);k["bpmn:incoming"]||(k["bpmn:incoming"]=[]),k["bpmn:incoming"].push(v);var I={"-id":v,"-sourceRef":E,"-targetRef":M};return A!=null&&A["-value"]&&(I["-name"]=A["-value"]),T["-json"]&&(I["-json"]=T["-json"]),T["-properties"]&&Object.assign(I,T["-properties"]),I});return y.edges.forEach(function(O){var v=O.sourceNodeId,E=O.id,M=o.get(v);M["bpmn:outgoing"]||(M["bpmn:outgoing"]=[]),M["bpmn:outgoing"].push(E)}),(p=m["bpmn:subProcess"])===null||p===void 0||p.forEach(function(O){var v={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},E=[];O.children.forEach(function(C){var L,G=o.get(C["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(ee){G[ee]&&G[ee].forEach(function(ue){v[ee].add(ue)})});var W=(L=m[C["-type"]])===null||L===void 0?void 0:L.findIndex(function(ee){return ee["-id"]===C["-id"]});W>=0&&m[C["-type"]].splice(W,1),o.delete(C["-id"]),O[C["-type"]]||(O[C["-type"]]=[]),O[C["-type"]].push(G)});var M=v["bpmn:incoming"],A=v["bpmn:outgoing"];A.forEach(function(C){M.has(C)&&E.push(C)});for(var T=function(C){var L=d.findIndex(function(G){return G["-id"]===E[C]});L>=0?(O["bpmn:sequenceFlow"]||(O["bpmn:sequenceFlow"]=[]),O["bpmn:sequenceFlow"].push(d[L]),d.splice(L,1)):C++,k=C},k,I=0;I<E.length;)T(I),I=k;delete O.children}),m[Hr.FLOW]=d,m}function $E(m,y){m["bpmndi:BPMNEdge"]=y.edges.map(function(s){var p,o=s.id,f=s.pointsList.map(function(O){var v=O.x,E=O.y;return{"-x":v,"-y":E}}),d={"-id":o+"_di","-bpmnElement":o,"di:waypoint":f};return!((p=s.text)===null||p===void 0)&&p.value&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),d}),m["bpmndi:BPMNShape"]=y.nodes.map(function(s){var p,o=s.id,f=100,d=80,O=s.x,v=s.y,E=no.shapeConfigMap.get(s.type);E&&(f=E.width,d=E.height),O-=f/2,v-=d/2;var M={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":O,"-y":v,"-width":f,"-height":d}};return!((p=s.text)===null||p===void 0)&&p.value&&(M["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),M})}var qE=["bpmn:incoming","bpmn:outgoing"];function ZE(m,y){var s=[],p=[],o=new Map,f=y!=null?y:{},d=f.transformer,O=f.excludeFields,v={in:new Set(ms(Hd.in,(O==null?void 0:O.in)||[])),out:new Set(ms(Hd.out,(O==null?void 0:O.out)||[]))};Io=s_(Io,d);var E=m["bpmn:definitions"];if(E){var M=E["bpmn:process"];(function(T,k){k.forEach(function(I){try{Object.keys(T).forEach(function(C){try{I(C)}catch(L){}})}catch(C){}})})(M,[function(T){function k(C){C["-children"]||(C["-children"]=[]),Object.keys(C).forEach(function(L){var G;L.indexOf("bpmn:")===0&&!qE.includes(L)&&(M[L]||(M[L]=[]),!Array.isArray(M[L])&&(M[L]=[M[L]]),Array.isArray(C[L])?(G=M[L]).push.apply(G,ms(C[L])):M[L].push(C[L]),Array.isArray(C[L])?C[L].forEach(function(W){!L.includes("Flow")&&C["-children"].push(W["-id"])}):!L.includes("Flow")&&C["-children"].push(C[L]["-id"]),delete C[L])})}if(T==="bpmn:subProcess"){var I=M[T];Array.isArray(I)?I.forEach(function(C){T==="bpmn:subProcess"&&k(C)}):k(I)}},function(T){var k=function(C){Object.keys(C).forEach(function(L){var G,W;if(L.includes("bpmn:")){var ee={};Io[L]&&Io[L].in?(ee=(W=(G=Io[L]).in)===null||W===void 0?void 0:W.call(G,L,L0.cloneDeep(C[L])),delete C[L]):I(C[L]);var ue=void 0;(ue=Reflect.ownKeys(ee)).length>0&&ue.forEach(function(oe){Reflect.set(C,oe,ee[oe])})}})};function I(C){o.set(C["-id"],C),Array.isArray(C)?C.forEach(function(L){I(L)}):typeof C=="object"&&k(C)}I(M[T])},function(T){if(T.indexOf("bpmn:")===0){var k=M[T];if(T==="bpmn:sequenceFlow"){var I=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];p=QE(k,I)}else{var C=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(T==="bpmn:boundaryEvent"){var L=M[T],G=function(W){var ee=W["-attachedToRef"],ue=o.get(ee);ue["-boundaryEvents"]||(ue["-boundaryEvents"]=[]),ue["-boundaryEvents"].push(W["-id"])};Array.isArray(L)?L.forEach(function(W){G(W)}):G(L)}s=s.concat(JE(k,C,T))}}}])}var A=function(T,k,I){Object.keys(T).forEach(function(C){var L=I?I+"."+C:C;k.has(L)?delete T[C]:typeof T[C]=="object"&&A(T[C],k,L)})};return s.forEach(function(T){var k,I;if(!((k=y==null?void 0:y.mapping)===null||k===void 0)&&k.in){var C=(I=y==null?void 0:y.mapping)===null||I===void 0?void 0:I.in,L=T.type;C[L]&&(T.type=C[L])}A(T,v.in,"")}),p.forEach(function(T){var k,I;if(!((k=y==null?void 0:y.mapping)===null||k===void 0)&&k.in){var C=(I=y==null?void 0:y.mapping)===null||I===void 0?void 0:I.in,L=T.type;C[L]&&(T.type=C[L])}A(T,v.in,"")}),{nodes:s,edges:p}}function JE(m,y,s){var p=[];if(Array.isArray(m))m.forEach(function(d){var O;Array.isArray(y)?O=y.find(function(E){return E["-bpmnElement"]===d["-id"]}):O=y;var v=N0(O,s,d);p.push(v)});else{var o=void 0;Array.isArray(y)?o=y.find(function(d){return d["-bpmnElement"]===m["-id"]}):o=y;var f=N0(o,s,m);p.push(f)}return p}function N0(m,y,s){var p=Number(m["dc:Bounds"]["-x"]),o=Number(m["dc:Bounds"]["-y"]),f=s["-children"],d=s["-name"],O=no.shapeConfigMap.get(y);O&&(p+=O.width/2,o+=O.height/2);var v={};Object.entries(s).forEach(function(T){var k=_s(T,2),I=k[0],C=k[1];c_.includes(I)||(v[I]=C)}),v=Yd(v);var E;if(d&&(E={x:p,y:o,value:d},m["bpmndi:BPMNLabel"]&&m["bpmndi:BPMNLabel"]["dc:Bounds"])){var M=m["bpmndi:BPMNLabel"]["dc:Bounds"];E.x=Number(M["-x"])+Number(M["-width"])/2,E.y=Number(M["-y"])+Number(M["-height"])/2}var A={id:m["-bpmnElement"],type:y,x:p,y:o,properties:v};return f&&(A.children=f),E&&(A.text=E),A}function QE(m,y){var s=[];if(Array.isArray(m))m.forEach(function(o){var f;Array.isArray(y)?f=y.find(function(d){return d["-bpmnElement"]===o["-id"]}):f=y,s.push(C0(f,o))});else{var p=void 0;Array.isArray(y)?p=y.find(function(o){return o["-bpmnElement"]===m["-id"]}):p=y,s.push(C0(p,m))}return s}function C0(m,y){var s,p=y["-name"];if(p){var o=m["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;p.split(`
`).forEach(function(E){f<E.length&&(f=E.length)}),s={value:p,x:Number(o["-x"])+f*10/2,y:Number(o["-y"])+7}}var d={};Object.entries(y).forEach(function(E){var M=_s(E,2),A=M[0],T=M[1];c_.includes(A)||(d[A]=T)}),d=Yd(d);var O=m["di:waypoint"].map(function(E){return{x:Number(E["-x"]),y:Number(E["-y"])}}),v={id:y["-id"],type:Hr.FLOW,pointsList:O,sourceNodeId:y["-sourceRef"],targetNodeId:y["-targetRef"],properties:d};return s&&(v.text=s),v}var no=function(){function m(y){var s=this,p=y.lf;this.adapterOut=function(o,f){var d,O,v=cg({},s.processAttributes);KE(v,o,f);var E={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};$E(E,o);var M=s.definitionAttributes;M["bpmn:process"]=v,M["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":E};var A={"bpmn:definitions":M};if(!((d=f==null?void 0:f.mapping)===null||d===void 0)&&d.out){var T=(O=f==null?void 0:f.mapping)===null||O===void 0?void 0:O.out,k=function(I){Array.isArray(I)&&I.forEach(function(C){return k(C)}),typeof I=="object"&&Object.keys(I).forEach(function(C){var L;(L=T[C])?(I[L]=L0.cloneDeep(I[C]),delete I[C],k(I[L])):k(I[C])})};k(A)}return A},this.adapterIn=function(o,f){if(o)return ZE(o,f)},p.adapterIn=this.adapterIn,p.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return m.prototype.setCustomShape=function(y,s){m.shapeConfigMap.set(y,s)},m.pluginName="bpmn-adapter",m.shapeConfigMap=new Map,m}();no.shapeConfigMap.set(Hr.START,{width:O0.width,height:O0.height});no.shapeConfigMap.set(Hr.END,{width:w0.width,height:w0.height});no.shapeConfigMap.set(Hr.INTERMEDIATE_CATCH,{width:Gd.width,height:Gd.height});no.shapeConfigMap.set(Hr.INTERMEDIATE_THROW,{width:Gd.width,height:Gd.height});no.shapeConfigMap.set(Hr.BOUNDARY,{width:x0.width,height:x0.height});no.shapeConfigMap.set(Hr.PARALLEL_GATEWAY,{width:E0.width,height:E0.height});no.shapeConfigMap.set(Hr.INCLUSIVE_GATEWAY,{width:S0.width,height:S0.height});no.shapeConfigMap.set(Hr.EXCLUSIVE_GATEWAY,{width:j0.width,height:j0.height});no.shapeConfigMap.set(Hr.SYSTEM,{width:P0.width,height:P0.height});no.shapeConfigMap.set(Hr.USER,{width:A0.width,height:A0.height});no.shapeConfigMap.set(Hr.SUBPROCESS,{width:M0.width,height:M0.height});(function(m){YE(y,m);function y(s){var p=m.call(this,s)||this;p.adapterXmlIn=function(d){var O=GE(d);return p.adapterIn(O,p.props)},p.adapterXmlOut=function(d){var O=p.adapterOut(d,p.props);return HE(O)};var o=s.lf,f=s.props;return o.adapterIn=p.adapterXmlIn,o.adapterOut=p.adapterXmlOut,p.props=f,p}return y.pluginName="BPMNAdapter",y})(no);var eS=function(){function m(y){var s=this,p=y.lf;this.lf=p,this.customCssRules="",this.useGlobalRules=!0,p.getSnapshot=function(o,f){s.getSnapshot(o,f)},p.getSnapshotBlob=function(o){return s.getSnapshotBlob(o)},p.getSnapshotBase64=function(o){return s.getSnapshotBase64(o)}}return m.prototype.getSvgRootElement=function(y){var s=y.container.querySelector(".lf-canvas-overlay");return s},m.prototype.triggerDownload=function(y){var s=new MouseEvent("click",{view:document.defaultView,bubbles:!1,cancelable:!0}),p=document.createElement("a");p.setAttribute("download",this.fileName),p.setAttribute("href",y),p.setAttribute("target","_blank"),p.dispatchEvent(s)},m.prototype.removeAnchor=function(y){for(var s=y.childNodes,p=y.childNodes&&y.childNodes.length,o=0;o<p;o++){var f=s[o],d=f.classList&&Array.from(f.classList)||[];d.indexOf("lf-anchor")>-1&&(y.removeChild(y.childNodes[o]),p--,o--)}},m.prototype.removeRotateControl=function(y){for(var s=y.childNodes,p=y.childNodes&&y.childNodes.length,o=0;o<p;o++){var f=s[o],d=f.classList&&Array.from(f.classList)||[];d.indexOf("lf-rotate-control")>-1&&(y.removeChild(y.childNodes[o]),p--,o--)}},m.prototype.getSnapshot=function(y,s){var p=this;this.fileName=y||"logic-flow."+Date.now()+".png";var o=this.getSvgRootElement(this.lf);this.getCanvasData(o,s).then(function(f){var d=f.toDataURL("image/png").replace("image/png","image/octet-stream");p.triggerDownload(d)})},m.prototype.getSnapshotBase64=function(y){var s=this,p=this.getSvgRootElement(this.lf);return new Promise(function(o){s.getCanvasData(p,y).then(function(f){var d=f.toDataURL("image/png");o({data:d,width:f.width,height:f.height})})})},m.prototype.getSnapshotBlob=function(y){var s=this,p=this.getSvgRootElement(this.lf);return new Promise(function(o){s.getCanvasData(p,y).then(function(f){f.toBlob(function(d){o({data:d,width:f.width,height:f.height})},"image/png")})})},m.prototype.getClassRules=function(){var y="";if(this.useGlobalRules)for(var s=document.styleSheets,p=0;p<s.length;p++)for(var o=s[p],f=0;f<o.cssRules.length;f++)y+=o.cssRules[f].cssText;return this.customCssRules&&(y+=this.customCssRules),y},m.prototype.getCanvasData=function(y,s){var p=this,o=y.cloneNode(!0),f=o.lastChild,d=f.childNodes&&f.childNodes.length;if(d)for(var O=0;O<d;O++){var v=f.childNodes[O],E=v.classList&&Array.from(v.classList);if(E&&E.indexOf("lf-base")<0)f.removeChild(f.childNodes[O]),d--,O--;else{var M=f.childNodes[O];M&&M.childNodes.forEach(function(xe){var ge=xe;p.removeAnchor(ge.firstChild),p.removeRotateControl(ge.firstChild)})}}var A=window.devicePixelRatio||1;A<1&&(A=1);var T=document.createElement("canvas"),k=this.lf.graphModel.rootEl.querySelector(".lf-base"),I=k.getBoundingClientRect(),C=this.lf.container.querySelector(".lf-canvas-overlay").getBoundingClientRect(),L=I.x-C.x,G=I.y-C.y,W=this.lf.graphModel,ee=W.transformModel,ue=ee.SCALE_X,oe=ee.SCALE_Y,J=ee.TRANSLATE_X,Q=ee.TRANSLATE_Y;o.lastChild.style.transform="matrix(1, 0, 0, 1, "+((-L+J)*(1/ue)+10)+", "+((-G+Q)*(1/oe)+10)+")";var V=Math.ceil(I.width/ue),B=Math.ceil(I.height/oe);T.style.width=V+"px",T.style.height=B+"px",T.width=V*A+80,T.height=B*A+80;var X=T.getContext("2d");X.clearRect(0,0,T.width,T.height),X.scale(A,A),s?(X.fillStyle=s,X.fillRect(0,0,V*A+80,B*A+80)):X.clearRect(0,0,V,B);var Y=new Image,$=document.createElement("style");$.innerHTML=this.getClassRules();var ie=document.createElement("foreignObject");return ie.appendChild($),o.appendChild(ie),new Promise(function(xe){Y.onload=function(){var Be=navigator.userAgent.indexOf("Firefox")>-1;try{Be?createImageBitmap(Y,{resizeWidth:T.width,resizeHeight:T.height}).then(function(Se){X.drawImage(Se,0,0),xe(T)}):(X.drawImage(Y,0,0),xe(T))}catch(Se){X.drawImage(Y,0,0),xe(T)}};var ge="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(o),Pe=ge.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");Y.src=Pe})},m.pluginName="snapshot",m}();var R0;(function(m){m.HORIZONTAL="horizontal",m.VERTICAL="vertical"})(R0||(R0={}));var tS=function(m,y){var s=typeof Symbol=="function"&&m[Symbol.iterator];if(!s)return m;var p=s.call(m),o,f=[],d;try{for(;(y===void 0||y-- >0)&&!(o=p.next()).done;)f.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f},nS=function(){for(var m=[],y=0;y<arguments.length;y++)m=m.concat(tS(arguments[y]));return m},rf="lf:defaultNodeMenu",of="lf:defaultEdgeMenu",af="lf:defaultGraphMenu",I0="lf:defaultSelectionMenu",rS=function(){function m(y){var s=this,p=y.lf;this.lf=p;var o=p.options.isSilentMode;o||(this.__menuDOM=document.createElement("ul"),this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(f){s.setMenuConfig(f)},this.lf.addMenuConfig=function(f){s.addMenuConfig(f)},this.lf.setMenuByType=function(f){s.setMenuByType(f)})}return m.prototype.init=function(){var y=this,s=[{text:"删除",callback:function(f){y.lf.deleteNode(f.id)}},{text:"编辑文本",callback:function(f){y.lf.graphModel.editText(f.id)}},{text:"复制",callback:function(f){y.lf.cloneNode(f.id)}}];this.menuTypeMap.set(rf,s);var p=[{text:"删除",callback:function(f){y.lf.deleteEdge(f.id)}},{text:"编辑文本",callback:function(f){y.lf.graphModel.editText(f.id)}}];this.menuTypeMap.set(of,p),this.menuTypeMap.set(af,[]);var o=[{text:"删除",callback:function(f){y.lf.clearSelectElements(),f.edges.forEach(function(d){return y.lf.deleteEdge(d.id)}),f.nodes.forEach(function(d){return y.lf.deleteNode(d.id)})}}];this.menuTypeMap.set(I0,o)},m.prototype.render=function(y,s){var p=this;y.options.isSilentMode||(this.__container=s,this.__currentData=null,this.__menuDOM.className="lf-menu",s.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var f=o.target;Array.from(f.classList).indexOf("lf-menu-item")===-1&&Array.from(f.classList).indexOf("lf-menu")===-1;)f=f.parentElement;Array.from(f.classList).indexOf("lf-menu-item")>-1&&(f.onclickCallback(p.__currentData),p.__menuDOM.style.display="none",p.__currentData=null)},!0),this.lf.on("node:contextmenu",function(o){var f=o.data,d=o.position,O=o.e,v=d.domOverlayPosition,E=v.x,M=v.y,A=f.id,T=p.lf.graphModel.getNodeModelById(A),k=[],I=p.menuTypeMap.get(T.type);T&&T.menu&&Array.isArray(T.menu)?k=T.menu:I?k=I:k=p.menuTypeMap.get(rf),p.__currentData=f,p.showMenu(E,M,k,{width:T.width,height:T.height,clientX:O.clientX,clientY:O.clientY})}),this.lf.on("edge:contextmenu",function(o){var f=o.data,d=o.position,O=o.e,v=d.domOverlayPosition,E=v.x,M=v.y,A=f.id,T=p.lf.graphModel.getEdgeModelById(A),k=[],I=p.menuTypeMap.get(T.type);T&&T.menu&&Array.isArray(T.menu)?k=T.menu:I?k=I:k=p.menuTypeMap.get(of),p.__currentData=f,p.showMenu(E,M,k,{width:T.width,height:T.height,clientX:O.clientX,clientY:O.clientY})}),this.lf.on("blank:contextmenu",function(o){var f=o.position,d=p.menuTypeMap.get(af),O=f.domOverlayPosition,v=O.x,E=O.y;p.showMenu(v,E,d)}),this.lf.on("selection:contextmenu",function(o){var f=o.data,d=o.position,O=p.menuTypeMap.get(I0),v=d.domOverlayPosition,E=v.x,M=v.y;p.__currentData=f,p.showMenu(E,M,O)}),this.lf.on("node:mousedown",function(){p.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){p.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){p.__menuDOM.style.display="none"}))},m.prototype.destroy=function(){var y;(y=this===null||this===void 0?void 0:this.__container)===null||y===void 0||y.removeChild(this.__menuDOM),this.__menuDOM=null},m.prototype.showMenu=function(y,s,p,o){if(!(!p||!p.length)){var f=this.__menuDOM;if(f.innerHTML="",f.append.apply(f,nS(this.__getMenuDom(p))),!!f.children.length){if(f.style.display="block",!o){f.style.top=s+"px",f.style.left=y+"px";return}var d=o.width,O=o.height,v=o.clientX,E=o.clientY,M=this.lf.graphModel,A=f.offsetWidth,T=!0,k=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,I=k-v,C=M.rootEl.getBoundingClientRect(),L=C.left+C.width;L<k&&(I=L-v),I<A&&(T=!1),T?f.style.left=y+"px":f.style.left=y-d+"px";var G=f.offsetHeight,W=!0,ee=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,ue=ee-E,oe=C.top+C.height;oe<ee&&(ue=oe-E),ue<G&&(W=!1),W?f.style.top=s+"px":f.style.top=s-O+"px"}}},m.prototype.setMenuByType=function(y){!y.type||!y.menu||this.menuTypeMap.set(y.type,y.menu)},m.prototype.__getMenuDom=function(y){var s=[];return y&&y.length>0&&y.forEach(function(p){var o=document.createElement("li");if(p.className?o.className="lf-menu-item "+p.className:o.className="lf-menu-item",p.icon===!0){var f=document.createElement("span");f.className="lf-menu-item-icon",o.appendChild(f)}var d=document.createElement("span");d.className="lf-menu-item-text",p.text&&(d.innerText=p.text),o.appendChild(d),o.onclickCallback=p.callback,s.push(o)}),s},m.prototype.setMenuConfig=function(y){y&&(y.nodeMenu!==void 0&&this.menuTypeMap.set(rf,y.nodeMenu?y.nodeMenu:[]),y.edgeMenu!==void 0&&this.menuTypeMap.set(of,y.edgeMenu?y.edgeMenu:[]),y.graphMenu!==void 0&&this.menuTypeMap.set(af,y.graphMenu?y.graphMenu:[]))},m.prototype.addMenuConfig=function(y){if(y){if(Array.isArray(y.nodeMenu)){var s=this.menuTypeMap.get(rf);this.menuTypeMap.set(rf,s.concat(y.nodeMenu))}if(Array.isArray(y.edgeMenu)){var s=this.menuTypeMap.get(of);this.menuTypeMap.set(of,s.concat(y.edgeMenu))}if(Array.isArray(y.graphMenu)){var s=this.menuTypeMap.get(af);this.menuTypeMap.set(af,s.concat(y.graphMenu))}}},m.prototype.changeMenuItem=function(y,s){if(y==="add")this.addMenuConfig(s);else if(y==="reset")this.setMenuConfig(s);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},m.pluginName="menu",m}(),oS=function(){function m(y){var s=this,p=y.lf;this.lf=p,this.lf.setPatternItems=function(o){s.setPatternItems(o)}}return m.prototype.render=function(y,s){var p=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=s;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(o){p.panelEl.appendChild(p.createDndItem(o))}),s.appendChild(this.panelEl),this.domContainer=s},m.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},m.prototype.setPatternItems=function(y){this.shapeList=y,this.domContainer&&this.render(this.lf,this.domContainer)},m.prototype.createDndItem=function(y){var s=this,p=document.createElement("div");p.className=y.className?"lf-dnd-item "+y.className:"lf-dnd-item";var o=document.createElement("div");if(o.className="lf-dnd-shape",y.icon&&(o.style.backgroundImage="url("+y.icon+")"),p.appendChild(o),y.label){var f=document.createElement("div");f.innerText=y.label,f.className="lf-dnd-text",p.appendChild(f)}return y.disabled?(p.classList.add("disabled"),p.onmousedown=function(){y.callback&&y.callback(s.lf,s.domContainer)},p):(p.onmousedown=function(){y.type&&s.lf.dnd.startDrag({type:y.type,properties:y.properties,text:y.text}),y.callback&&y.callback(s.lf,s.domContainer)},p.ondblclick=function(d){s.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:d,data:y})},p.onclick=function(d){s.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:d,data:y})},p.oncontextmenu=function(d){s.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:d,data:y})},p)},m.pluginName="dndPanel",m}(),iS=function(){function m(y){var s=this,p=y.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(f){var d=s.lf.getPointByClient(f.clientX,f.clientY).domOverlayPosition,O=d.x,v=d.y;s.endPoint={x:O,y:v};var E=s.startPoint,M=E.x,A=E.y,T=s.wrapper.style,k=M,I=A,C=O-M,L=v-A;O<M&&(k=O,C=M-O),v<A&&(I=v,L=A-v),T.left=k+"px",T.top=I+"px",T.width=C+"px",T.height=L+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",s.__draw),document.removeEventListener("mouseup",s.__drawOff),s.wrapper.oncontextmenu=null,s.__domContainer.removeChild(s.wrapper);var f=s.startPoint,d=f.x,O=f.y,v=s.endPoint,E=v.x,M=v.y;if(!(Math.abs(E-d)<10&&Math.abs(M-O)<10)){var A=[Math.min(d,E),Math.min(O,M)],T=[Math.max(d,E),Math.max(O,M)],k=s.lf.graphModel.getAreaElement(A,T,s.isWholeEdge,s.isWholeNode,!0),I=s.lf.graphModel.group;k.forEach(function(C){(!I||!I.getNodeGroup(C.id))&&s.lf.selectElementById(C.id,!0)}),s.lf.emit("selection:selected",k)}},this.__zoom=function(f){var d,O;f.preventDefault();var v=new WheelEvent("wheel",{deltaX:f.deltaX,deltaY:f.deltaY,clientX:f.clientX,clientY:f.clientY,ctrlKey:f.ctrlKey});(O=(d=s.lf.container)===null||d===void 0?void 0:d.querySelector('.lf-canvas-overlay[name="canvas-overlay"]'))===null||O===void 0||O.dispatchEvent(v)},this.lf=p;var o=p.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=o,p.openSelectionSelect=function(){s.openSelectionSelect()},p.closeSelectionSelect=function(){s.closeSelectionSelect()}}return m.prototype.render=function(y,s){var p=this;this.__domContainer=s,y.on("blank:mousedown",function(o){var f=o.e,d=y.getEditConfig();if(!(!d.stopMoveGraph||p.__disabled)){var O=f.button===2;if(!O){var v=y.getPointByClient(f.clientX,f.clientY).domOverlayPosition,E=v.x,M=v.y;p.startPoint={x:E,y:M},p.endPoint={x:E,y:M};var A=document.createElement("div");A.className="lf-selection-select",A.oncontextmenu=function(k){k.preventDefault()},A.style.top=p.startPoint.y+"px",A.style.left=p.startPoint.x+"px",s.appendChild(A),p.wrapper=A,document.addEventListener("mousemove",p.__draw),document.addEventListener("mouseup",p.__drawOff),document.addEventListener("wheel",p.__zoom,{passive:!1})}}})},m.prototype.setSelectionSense=function(y,s){y===void 0&&(y=!0),s===void 0&&(s=!0),this.isWholeEdge=y,this.isWholeNode=s},m.prototype.openSelectionSelect=function(){var y=this.lf.getEditConfig().stopMoveGraph;y||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},m.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},m.prototype.open=function(){this.__disabled=!1},m.prototype.close=function(){this.__disabled=!0},m.pluginName="selectionSelect",m}(),l_=function(){var m=function(y,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},m(y,s)};return function(y,s){m(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),vs=function(){return vs=Object.assign||function(m){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(m[o]=y[o])}return m},vs.apply(this,arguments)},pf=function(m,y){var s=typeof Symbol=="function"&&m[Symbol.iterator];if(!s)return m;var p=s.call(m),o,f=[],d;try{for(;(y===void 0||y-- >0)&&!(o=p.next()).done;)f.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f},aS={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function uS(m){for(var y=m,s=1;s<y.length-1;){var p=pf(y[s-1],2),o=p[0],f=p[1],d=pf(y[s],2),O=d[0],v=d[1],E=pf(y[s+1],2),M=E[0],A=E[1];o===O&&O===M||f===v&&v===A?y.splice(s,1):s++}return y}function cS(m,y,s,p){var o=[m[0],m[1]],f=[m[0],m[1]];switch(s){case"tl":return y==="tr"?(o[1]+=p,f[0]+=p):y==="lb"&&(o[0]+=p,f[1]+=p),[o,f];case"tr":return y==="tl"?(o[1]+=p,f[0]-=p):y==="rb"&&(o[0]-=p,f[1]+=p),[o,f];case"bl":return y==="br"?(o[1]-=p,f[0]+=p):y==="lt"&&(o[0]+=p,f[1]-=p),[o,f];case"br":return y==="bl"?(o[1]-=p,f[0]-=p):y==="rt"&&(o[0]-=p,f[1]-=p),[o,f];default:return[]}}function sS(m,y,s,p){var o,f="",d="";m[0]===y[0]?f=m[1]>y[1]?"t":"b":m[1]===y[1]&&(f=m[0]>y[0]?"l":"r"),y[0]===s[0]?d=y[1]>s[1]?"t":"b":y[1]===s[1]&&(d=y[0]>s[0]?"l":"r");var O=Math.min(Math.hypot(y[0]-m[0],y[1]-m[1])/2,Math.hypot(s[0]-y[0],s[1]-y[1])/2,p)||1/5*p,v=""+f+d,E=aS[v]||"-",M="L "+m[0]+" "+m[1];if(E==="-")M+="L "+y[0]+" "+y[1]+" L "+s[0]+" "+s[1];else{var A=pf(cS(y,v,E,O),2),T=A[0],k=A[1];T&&k&&(M+="L "+T[0]+" "+T[1]+" Q "+y[0]+" "+y[1]+" "+k[0]+" "+k[1],o=pf(k,2),y[0]=o[0],y[1]=o[1])}return M}function lS(m,y){var s=0,p="";if(m.length===2)p+="M"+m[s][0]+" "+m[s++][1]+" L "+m[s][0]+" "+m[s][1];else{for(p+="M"+m[s][0]+" "+m[s++][1];s+1<m.length;){var o=m[s-1],f=m[s],d=m[s+++1];p+=sS(o,f,d,y)}p+="L "+m[s][0]+" "+m[s][1]}return p}(function(m){l_(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y.prototype.getEdge=function(){var s=this.props.model,p=s.points,o=s.isAnimation,f=s.arrowConfig,d=s.radius,O=d===void 0?5:d,v=s.getEdgeStyle(),E=s.getEdgeAnimationStyle(),M=uS(p.split(" ").map(function(k){return k.split(",").map(function(I){return+I})})),A=lS(M,O),T=vs(vs(vs({style:o?E:{}},v),f),{fill:"none"});return ot.h("path",vs({d:A},T))},y})(ot.PolylineEdge);(function(m){l_(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y})(ot.PolylineEdgeModel);const fS={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function pS(m){const{incoming:y,outgoing:s,properties:p,key:o}=m,{text:f,startPoint:d,endPoint:O,pointsList:v,logicFlowType:E}=p,M={id:o,type:E,sourceNodeId:y[0],targetNodeId:s[0],text:f,startPoint:d,endPoint:O,pointsList:v,properties:{}},A=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(m.properties).forEach(T=>{A.indexOf(T)===-1&&(M.properties[T]=m.properties[T])}),M}function dS(m){const{properties:y,key:s}=m,{x:p,y:o,text:f,logicFlowType:d}=y,O={id:s,type:d,x:p,y:o,text:f,properties:{}},v=["x","y","text","logicFlowType"];return Object.keys(m.properties).forEach(E=>{v.indexOf(E)===-1&&(O.properties[E]=m.properties[E])}),O}function hS(m){const y={nodes:[],edges:[]},s=m.flowElementList;return s&&s.length>0&&s.forEach(p=>{if(p.type===fS.SEQUENCE_FLOW){const o=pS(p);y.edges.push(o)}else{const o=dS(p);y.nodes.push(o)}}),y}function yS(m){return[{text:"选区",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{m.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"开始",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"用户任务",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"important-node"},{type:"rect",text:"系统任务",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"条件判断",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"结束",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]}const vS=sg({name:"FlowChart",__name:"FlowChart",props:{flowOptions:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},toolbar:{type:Boolean,default:!0},patternItems:{type:Array}},setup(m){const y=m,s=Md(null),p=Md({}),o=Md(null),{prefixCls:f}=vx("flow-chart"),d=gx(),[O,{openModal:v}]=Nx();Lx({logicFlow:o});const E=Px(()=>{const{flowOptions:k}=y;return $v({grid:!0,background:{color:d.getDarkMode==="light"?"#f7f9ff":"#151515"},keyboard:{enabled:!0}},k)});r0(()=>y.data,()=>{A()}),r0(()=>Dn(E),k=>{var I;(I=Dn(o))==null||I.updateEditConfig(k)});function M(){return Pd(this,null,function*(){yield qv();const k=Dn(s);if(!k)return;ds.use(oS),ds.use(eS),ds.use(cE),ds.use(rS),ds.use(iS),o.value=new ds(t0($v({},Dn(E)),{container:k}));const I=Dn(o);I==null||I.setDefaultEdgeType("line"),A(),I==null||I.setPatternItems(y.patternItems||yS(I))})}function A(){return Pd(this,null,function*(){yield qv();const k=Dn(o);if(!k)return;const I=hS(y.data);k.render(I)})}function T(){const k=Dn(o);k&&(p.value=Dn(k).getGraphData(),v())}return Ax(M),(k,I)=>(Ua(),uf("div",{class:kd(["h-full",Dn(f)])},[m.toolbar?(Ua(),lg(Fx,{key:0,prefixCls:Dn(f),onViewData:T},null,8,["prefixCls"])):Zv("",!0),Mx("div",{ref_key:"lfElRef",ref:s,class:"h-full"},null,512),df(Dn(Cx),{onRegister:Dn(O),title:"流程数据",width:"50%"},{default:Cd(()=>[df(Dn(Rx),{data:p.value},null,8,["data"])]),_:1},8,["onRegister"])],2))}}),gS=mx(vS),mS=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"开始",x:280,y:200,text:{x:280,y:200,value:"开始"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"结束",x:920,y:200,text:{x:920,y:200,value:"结束"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"网关",x:580,y:200,text:{x:580,y:200,value:"网关"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"用户",x:420,y:200,text:{x:420,y:200,value:"用户"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"服务",x:760,y:200,text:{x:760,y:200,value:"服务"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"边",text:{x:331,y:200,value:"边"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"边2",text:{x:507,y:200,value:"边2"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"边3",text:{x:664,y:200,value:"边3"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"边4",text:{x:871,y:200,value:"边4"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}],bS={flowElementList:mS},kS=sg({__name:"index",setup(m){return(y,s)=>(Ua(),lg(Dn(Ix),{title:"流程图",content:"简单流程图示例,具体功能需要自己完善",contentFullHeight:"",fixedHeight:""},{default:Cd(()=>[df(Dn(gS),{data:Dn(bS)},null,8,["data"])]),_:1}))}});export{kS as default};
